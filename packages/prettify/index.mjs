var Rt=Object.defineProperty;var Nt=(i,f)=>{for(var h in f)Rt(i,h,{get:f[h],enumerable:true});};var E=function(){const i=typeof process!=="undefined"&&process.versions!=null?"node":"browser";let f="";return {env:i,mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:{},lexers:{},get source(){return i==="node"&&Buffer.isBuffer(f)?f.toString():f},set source(h){f=i==="node"?Buffer.isBuffer(h)?h:Buffer.from(h):h;},data:{begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]},hooks:{before:[],language:[],rules:[],after:[]},stats:{chars:-1,time:-1,size:"",language:""},options:{grammar:{},lexer:"markup",language:"liquid",languageName:"Liquid",mode:"beautify",indentLevel:0,crlf:false,endNewline:false,indentChar:" ",indentSize:2,preserveLine:2,wrap:0,liquid:{commentNewline:false,commentIndent:true,delimiterTrims:"preserve",ignoreTagList:[],lineBreakSeparator:"default",normalizeSpacing:true,preserveComment:false,quoteConvert:"none",valueForce:"intent"},markup:{correct:false,commentNewline:false,commentIndent:true,attributeCasing:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:3,forceLeadAttribute:true,forceIndent:false,ignoreStyles:false,ignoreScripts:false,preserveComment:false,preserveText:false,preserveAttributes:false,selfCloseSpace:true,quoteConvert:"none"},style:{correct:false,atRuleSpace:true,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"},script:{arrayFormat:"default",braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,caseSpace:false,commentIndent:false,commentNewline:false,correct:false,elseNewline:false,endComma:"never",functionNameSpace:false,functionSpace:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,objectSort:false,objectIndent:"default",preserveComment:false,quoteConvert:"none",styleGuide:"none",ternaryLine:false,variableList:"none",vertical:false},json:{useStringify:false,arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false}}}}();var Be=Object.assign;var st=Object.create;var Me=Object.keys;var it=Object.defineProperty;var Ne=Array.isArray;var b="";var le=" ";var ke="\n";function Ee(i){return new Set(i)}function $e(i,f=le){if(i===0)return f;let h=b;let c=1;do{h+=f;}while(c++<i);return h}var u=(i,f)=>i?i.charCodeAt(0)===f:false;u.last=(i,f)=>u(i[i.length-1],f);var V=(i,f)=>u(i,f)===false;V.last=(i,f)=>u.last(i,f)===false;function ge(i){return /\s/.test(i)}function mt(i){const f=1024;const h=1048576;const c=1073741824;if(i<f)return i+" B";else if(i<h)return (i/f).toFixed(1)+" KB";else if(i<c)return (i/h).toFixed(1)+" MB";else return (i/c).toFixed(1)+" GB"}function lt(i){return `\\${i}`}function qe(i,f=NaN){if(typeof i!=="string")return b;if(V(i,60)&&V(i,123))return i;if(u(i,60)){const n=i.slice(1,i.search(/[\s>]/));return u(n,63)&&u.last(n,63)?"xml":isNaN(f)?n.toLowerCase():n.slice(f).toLowerCase()}const h=u(i[2],45)?i.slice(3).trimStart():i.slice(2).trimStart();const c=h.slice(0,h.search(/[\s=|!<>,.[]|-?[%}]}/)).toLowerCase();return isNaN(f)?c:c.slice(f)}function kt(i){const f=i.indexOf("{");if(u(i[f+1],37)){let h;h=i.slice(f+(u(i[f+2],45)?3:2)).trimStart();h=h.slice(0,h.search(/[\s=|!<>,.[]|-?[%}]}/));return h.startsWith("end")?false:de.liquid.control.has(h)}return false}function yt(i){const f=i.indexOf("{");if(u(i[f+1],37)){let h;h=i.slice(f+(u(i[f+2],45)?3:2)).trimStart();h=h.slice(0,h.search(/[\s=|!<>,.[]|-?[%}]}/));return h.startsWith("end")?false:de.liquid.else.has(h)}return false}function xt(i){const f=i.indexOf("=");if(f>-1){if(u(i[f+1],34)||u(i[f+1],39)){return /{%-?\s*end\w+/.test(i.slice(f,i.lastIndexOf(i[f+1])))}}return false}function at(i){if(Ge(i))return /{%-?\s*end\w+/.test(i);return false}function Ge(i,f=false){let h;if(f){if(u(i[0],123)&&u(i[1],37)&&u(i[i.length-2],37)&&u(i[i.length-1],125)){h=i.slice(u(i[2],45)?3:2).trimStart();if(u(h,34)||u(h,39))return false;h=h.slice(0,h.search(/[\s=|!<"'>,.[]|-?[%}]}/));return h.startsWith("end")?false:de.liquid.tags.has(h)}return false}let c=i.indexOf("{");if(c===-1)return false;do{if(u(i[c+1],37)){h=i.slice(c+(u(i[c+2],45)?3:2)).trimStart();h=h.slice(0,h.search(/[\s=|!<>,.[]|-?[%}]}/));return h.startsWith("end")?false:de.liquid.tags.has(h)}c=i.indexOf("{",c+1);}while(c>-1);return false}function et(i){let f=i;if(Array.isArray(i))f=i.join("");const h=f.indexOf("{");if(u(f[h+1],37)){if(u(f[h+2],45))return f.slice(h+3).trimStart().startsWith("end");return f.slice(h+2).trimStart().startsWith("end")}return false}function He(i,f){if(f===1){return u(i[0],123)&&(u(i[1],37)||u(i[1],123))}else if(f===6){return u(i[0],123)&&u(i[1],37)}else if(f===7){return u(i[0],123)&&u(i[1],123)}else if(f===8){return u(i[i.length-2],37)&&u(i[i.length-1],125)}else if(f===9){return u(i[i.length-2],125)&&u(i[i.length-1],125)}else if(f===4){return /{[{%]/.test(i)}else if(f===5){return /{[{%]/.test(i)&&/[%}]}/.test(i)}else if(f===2){const h=i.length;return u(i[h-1],125)&&(u(i[h-2],37)||u(i[h-2],125))}else if(f===3){const h=i.length;return u(i[0],123)&&(u(i[1],37)||u(i[1],123))&&(u(i[h-1],125)&&(u(i[h-2],37)||u(i[h-2],125)))}}function ut(i){let f=0;const h=i.length;const c=i;const n=()=>{let S=0;const P=c.length;if(S<P){do{if(Ne(c[S])===true)c[S]=ut.apply(this,c[S]);S=S+1;}while(S<P)}};const e=S=>{let P=f;let $=0;let N=0;let g=0;let t=[];let o=c[f];let d="";const W=typeof o;if(P<h){do{d=typeof c[P];if(c[P]<o||d<W){o=c[P];t=[P];}else if(c[P]===o){t.push(P);}P=P+1;}while(P<h)}N=t.length;P=f;$=N+f;if(P<$){do{c[t[g]]=c[P];c[P]=o;g=g+1;P=P+1;}while(P<$)}f=f+N;if(f<h){e("");}else {if(this.recursive===true)n();i=c;}return S};e("");return i}function ct(i){let f=0;const h=i.length;const c=i;const n=()=>{let S=0;const P=c.length;if(S<P){do{if(Ne(c[S]))c[S]=ct.apply(this,c[S]);S=S+1;}while(S<P)}};const e=S=>{let P=f;let $=0;let N=0;let g=0;let t=c[f];let o=[];let d="";const W=typeof t;if(P<h){do{d=typeof c[P];if(c[P]>t||d>W){t=c[P];o=[P];}else if(c[P]===t){o.push(P);}P=P+1;}while(P<h)}N=o.length;P=f;$=N+f;if(P<$){do{c[o[g]]=c[P];c[P]=t;g=g+1;P=P+1;}while(P<$)}f=f+N;if(f<h){e("");}else {if(this.recursive===true)n();i=c;}return S};e("");return i}function ft(i){let f=i;const h=[i[0]];const c=()=>{let e=0;const S=f.length;if(e<S){do{if(Ne(f[e]))f[e]=ft.apply(this,f[e]);e=e+1;}while(e<S)}};const n=e=>{let S=0;const P=[];const $=f.length;if(S<$){do{if(f[S]!==e)P.push(f[S]);S=S+1;}while(S<$)}f=P;if(P.length>0){h.push(P[0]);n(P[0]);}else {if(this.recursive===true)c();i=f;}};n(this.array[0]);return i}var xe;var de=new(xe=class{constructor(){this.script={};this.style={};this.html={embed:{}};this.liquid={embed:{}};this.script.keywords=Ee(xe.script.keywords);this.style.units=Ee(xe.style.units);this.style.atrules=Ee(xe.style.atrules);this.style.pseudoFunctions=Ee(xe.style.pseudo.functions);this.style.pseudoClasses=Ee(xe.style.pseudo.classes);this.style.pseudoElements=Ee(xe.style.pseudo.elements);this.style.webkitClasses=Ee(xe.style.webkit.classes);this.style.webkitElements=Ee(xe.style.webkit.elements);this.html.tags=Ee(xe.html.tags);this.html.voids=Ee(xe.html.voids);this.liquid.tags=Ee(xe.liquid.tags);this.liquid.control=Ee(xe.liquid.control);this.liquid.else=Ee(xe.liquid.else);this.liquid.singletons=Ee(xe.liquid.singletons);this.liquid.scripts=new Set;this.liquid.styles=new Set;this.defaults();}defaults(){for(const f in xe.html.embedded){this.html.embed[f]={};for(const{language:h,attribute:c=null}of xe.html.embedded[f]){this.html.embed[f].language=h;if(typeof c==="object"){for(const n in c){this.html.embed[f].attribute=n;if(Ne(c[n])){this.html.embed[f].value=e=>new Set(c[n]).has(e);}else {this.html.embed[f].value=e=>new RegExp(c[n]).test(e);}}}else {this.html.embed[f].attribute=null;}}}for(const f in xe.liquid.embedded){this.liquid.embed[f]={end:h=>new RegExp(`^{%-?\\s*end${f}`).test(h)};for(const{language:h,argument:c}of xe.liquid.embedded[f]){this.liquid.embed[f].language=h;if(c){if(Ne(c)){this.liquid.embed[f].attribute=n=>new Set(c).has(n);}else {this.liquid.embed[f].attribute=n=>new RegExp(c).test(n);}}else {this.liquid.embed[f].attribute=null;}}}}atrules(f){for(const h of xe.style.atrules)if(f.startsWith(h))return h;return f}embed(f,h){if(h in this[f].embed){return this[f].embed[h]}return false}extend(f){for(const h in f){if(h==="html"){if("tags"in f[h]&&Ne(f[h].tags)){for(const c of f[h].tags){if(!this.html.tags.has(c)){xe.html.tags.push(c);this.html.tags.add(c);}}}if("voids"in f[h]&&Ne(f[h].voids)){for(const c of f[h].voids){if(!this.html.voids.has(c)){xe.html.voids.push(c);this.html.voids.add(c);}}}if("embedded"in f[h]);}if(h==="liquid"){if("tags"in f[h]&&Ne(f[h].tags)){for(const c of f[h].tags){if(!this.liquid.tags.has(c)){xe.liquid.tags.push(c);this.liquid.tags.add(c);}}}if("else"in f[h]&&Ne(f[h].else)){for(const c of f[h].else){if(!this.liquid.else.has(c)){xe.liquid.else.push(c);this.liquid.else.add(c);}}}if("singletons"in f[h]&&Ne(f[h].singletons)){for(const c of f[h].singletons){if(!this.liquid.singletons.has(c)){xe.liquid.singletons.push(c);this.liquid.singletons.add(c);}}}if("embedded"in f[h]&&typeof f[h].embedded==="object"){for(const c in f[h].embedded){if(!(c in this.liquid.embed)){this.liquid.embed[c]={end:n=>new RegExp(`{%-?\\s*end${c}`).test(n)};}for(const{language:n,argument:e}of f[h].embedded[c]){if(this.liquid.embed[c].language!==n){this.liquid.embed[c].language=n;}if(e){if(this.liquid.embed[c].attribute===null){if(Ne(e)){this.liquid.embed[c].attribute=S=>Ee(e).has(S);}else {this.liquid.embed[c].attribute=S=>new RegExp(e).test(S);}}else {const S=[];for(const P of xe.liquid.embedded[c]){if(Ne(P.argument)){for(const $ of P.argument){if(e!==$)S.push(e);else S.push($);}this.liquid.embed[c].attribute=$=>Ee(S).has($);}else {if(P.argument!==e){this.liquid.embed[c].attribute=$=>new RegExp(e).test($);}}}}}}}}}if(h==="style"){if("units"in f[h]&&Ne(f[h].units)){for(const c of f[h].units){if(!this.style.units.has(c)){xe.style.units.push(c);this.style.units.add(c);}}}if("atrules"in f[h]&&Ne(f[h].atrules)){for(const c of f[h].atrules){if(!this.style.atrules.has(c)){xe.style.atrules.push(c);this.style.atrules.add(c);}}}if("webkit"in f[h]){if("classes"in f[h].webkit&&Ne(f[h].webkit.classes)){for(const c of f[h].webkit.classes){if(!this.style.webkitClasses.has(c)){xe.style.webkit.classes.push(c);this.style.webkitClasses.add(c);}}}if("elements"in f[h].webkit&&Ne(f[h].webkit.elements)){for(const c of f[h].webkit.elements){if(!this.style.webkitElements.has(c)){xe.style.webkit.elements.push(c);this.style.webkitElements.add(c);}}}}if("pseudo"in f[h]){if("classes"in f[h].pseudo&&Ne(f[h].pseudo.classes)){for(const c of f[h].pseudo.classes){if(!this.style.pseudoClasses.has(c)){xe.style.pseudo.classes.push(c);this.style.pseudoClasses.add(c);}}}if("elements"in f[h].pseudo&&Ne(f[h].pseudo.elements)){for(const c of f[h].pseudo.elements){if(!this.style.pseudoElements.has(c)){xe.style.pseudo.elements.push(c);this.style.pseudoElements.add(c);}}}}}if(h==="script"){if("keywords"in f[h]&&Ne(f[h].keywords)){for(const c of f[h].keywords){if(!this.script.keywords.has(c)){xe.script.keywords.push(c);this.script.keywords.add(c);}}}}}}},xe.script={keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},xe.html={embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","path","circle","source","track","wbr"],tags:["body","colgroup","dd","dt","head","html","li","option","tbody","td","tfoot","th","thead","tr"]},xe.liquid={embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["form","paginate","capture","case","comment","for","if","raw","tablerow","unless","schema","style","script","stylesheet","javascript"],control:["if","unless","case"],else:["else","elsif"],singletons:["include","layout","section","assign","liquid","break","continue","cycle","decrement","echo","increment","render","when"]},xe.style={units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"],atrules:["@charset","@color-profile","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@supports"],webkit:{classes:["webkit-any","webkit-any-link*","webkit-autofill"],elements:["webkit-file-upload-button","webkit-inner-spin-button","webkit-input-placeholder","webkit-meter-bar","webkit-meter-even-less-good-value","webkit-meter-inner-element","webkit-meter-optimum-value","webkit-meter-suboptimum-value","webkit-outer-spin-button","webkit-progress-bar","webkit-progress-inner-element","webkit-progress-value","webkit-search-cancel-button","webkit-search-results-button","webkit-slider-runnable-track","webkit-slider-thumb"]},pseudo:{classes:["active","any-link","checked","default","defined","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-visible","focus-within","host","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","modal","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","picture-in-picture","placeholder-shown","paused","playing","read-only","read-write","required","right","root","scope","target","valid","visited","where"],elements:["after","backdrop","before","cue","cue-region","first-letter","first-line","file-selector-button","marker","part","placeholder","selection","slotted"],functions:["after","before","first-letter","first-line","host","host-context","part","slotted","lang","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","where"]}},xe);var rt={markup:"markup",html:"markup",liquid:"markup",xml:"markup",javascript:"script",typescript:"script",jsx:"script",tsx:"script",json:"script",less:"style",scss:"style",sass:"style",css:"style",text:"text"};var wt={html:"HTML",xhtml:"XHTML",liquid:"Liquid",xml:"XML",jsx:"JSX",tsx:"TSX",json:"JSON",yaml:"YAML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",text:"Plain Text",javascript:"JavaScript",typescript:"TypeScript"};function tt(i){return typeof i!=="string"||i.indexOf("html")>-1||rt[i]===void 0?"markup":rt[i]}function pt(i){if(typeof i!=="string"||wt[i]===void 0)return i.toUpperCase();return wt[i]}function Le(i){const f={};if(i==="unknown"){f.language=i;f.languageName="Unknown";f.lexer="markup";}else if(i==="xhtml"||i==="markup"){f.language="xml";f.languageName="XHTML";f.lexer="markup";}else {f.language=i;f.languageName=pt(i);f.lexer=tt(i);}if(E.hooks.language.length>0){for(const h of E.hooks.language){const c=h(f);if(typeof c==="object")Be(f,c);}}return f}Xe.reference=Le;Xe.listen=function(i){E.hooks.language.push(i);};function Xe(i){let f=[];let h=0;const c=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(i)&&/@import/.test(i)===false;const n=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(i);function e(){if(/\n\s*#+\s+/.test(i)||/^#+\s+/.test(i))return Le("markdown");if(/\$[a-zA-Z]/.test(i)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(i)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(i)&&/:\s*@[a-zA-Z];/.test(i)===false)return Le("scss");if(/@[a-zA-Z]:/.test(i)||/\.[a-zA-Z]\(\);/.test(i))return Le("less");return Le("css")}function S(){let $=1;let N=b;let g=false;let t=false;const o=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(i);function d(){if(i.indexOf("(")>-1||i.indexOf("=")>-1||i.indexOf(";")>-1&&i.indexOf("{")>-1){if(n===true||/\w<\w+(,\s+\w+)*>/.test(i))return Le("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(i)||/=\s*<\w+/.test(i))return Le("typescript");return Le("javascript")}return Le("unknown")}function W(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(i)||/(?:public|private)\s+/.test(i)||/(?:export|declare)\s+type\s+\w+\s*=/.test(i)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(i)||/(?:typeof|keyof|as)\s+\w+/.test(i)||/\w+\s+as\s+\w+/.test(i)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(i)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(i)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(i))return Le("typescript");if(/\s(class|var|const|let)\s+\w/.test(i)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(i)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(i)&&(/\s?\{%/.test(i)||/{{/.test(i)))return Le("liquid");if(/^(\s*[$@])/.test(i)===false&&/([}\]];?\s*)$/.test(i)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(i)||/module\.export\s+=\s+/.test(i)||/export\s+default\s+\{/.test(i)||/[?:]\s*[{[]/.test(i)||/^(?:\s*return;?(?:\s+[{[])?)/.test(i)){return Le("javascript")}}if(/{%/.test(i)&&/{{/.test(i)&&/<\w/.test(i))return Le("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(i))return Le("less");if(/\$(\w|-)/.test(i))return Le("scss");if(/[;{:]\s*@\w/.test(i)===true)return Le("less");return Le("css")}if($<h){do{if(g===false){if(u(f[$],42)&&u(f[$-1],47)){f[$-1]=b;g=true;}else if(t===false&&$<h-6&&f[$].charCodeAt(0)===102&&f[$+1].charCodeAt(0)===105&&f[$+2].charCodeAt(0)===108&&f[$+3].charCodeAt(0)===116&&f[$+4].charCodeAt(0)===101&&f[$+5].charCodeAt(0)===114&&u(f[$+6],58)){t=true;}}else if(g===true&&u(f[$],42)&&$!==h-1&&u(f[$+1],47)){g=false;f[$]=b;f[$+1]=b;}else if(t===true&&u(f[$],59)){t=false;f[$]=b;}if(g===true||t===true)f[$]=b;$=$+1;}while($<h)}N=f.join(b);if(/\s\/\//.test(i)===false&&/\/\/\s/.test(i)===false&&/^(\s*(\{|\[)(?!%))/.test(i)===true&&/((\]|\})\s*)$/.test(i)&&i.indexOf(",")!==-1)return Le("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(i)===true&&(c===true||o===true||/console\.log\(/.test(i)===true||/export\s+default\s+class\s+/.test(i)===true||/export\s+(const|var|let|class)s+/.test(i)===true||/document\.get/.test(i)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(i)===true||i.indexOf("{")===-1||/^(\s*if\s+\()/.test(i)===true))return d();if(i.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(i)||/^(\s*\/(\*|\/))/.test(i)||/^(\s*\*\s*\{)/.test(i))&&/^(\s*if\s*\()/.test(i)===false&&/=\s*(\{|\[|\()/.test(N)===false&&(/(\+|-|=|\?)=/.test(N)===false||/\/\/\s*=+/.test(N)||/=+('|")?\)/.test(i)&&/;\s*base64/.test(i))&&/function(\s+\w+)*\s*\(/.test(N)===false)return W();return i.indexOf("{%")>-1?Le("liquid"):Le("unknown")}function P(){function $(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(i)||/{%-?\s*end\w+/.test(i)||/{{-?\s*content_for/.test(i)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(i)||/{%/.test(i)&&/%}/.test(i)&&/{{/.test(i)&&/}}/.test(i)?Le("liquid"):Le("html")}return /^(\s*<!doctype\s+html>)/i.test(i)||/^(\s*<html)/i.test(i)||/<form\s/i.test(i)&&/<label\s/i.test(i)&&/<input\s/i.test(i)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(i)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(i))||/<ul\s/i.test(i)&&/<li\s/i.test(i)&&/<\/li>/i.test(i)&&/<\/ul>/i.test(i)||/<head\s*>/.test(i)&&/<\/head>/.test(i)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(i)&&/XHTML\s+1\.1/.test(i)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(i)===false?$():/\s?{[{%]-?/.test(i)?Le("liquid"):Le("xml")}if(i===null||i.replace(/\s+/g,b)===b)return Le("unknown");if((/\n\s*#{1,6}\s+/.test(i)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(i))&&(/\[( |x|X)\]/.test(i)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(i)||/\n\s*```[a-zA-Z]*?\s+/.test(i)||/-+\|(-+\|)+/.test(i)))return Le("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(i))return P();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(i))return e();if(n===false&&/=(>|=|-|\+|\*)/.test(i)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(i)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(i)===false&&c===false&&/return\s*\w*\s*(;|\})/.test(i)===false&&(i===void 0||/^(?:\s*#(?!(!\/)))/.test(i)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(i)&&/>\s*<\w/.test(i)===false||(/^\s*:root\s*\{/.test(i)||/-{2}\w+\s*\{/.test(i)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(i))))return e();f=i.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,b).split(b);h=f.length;if(/^(\s*({{|{%|<))/.test(i))return P();if(n===true||/^(?:[\s\w-]*<)/.test(i)===false&&/(?:>[\s\w-]*)$/.test(i)===false)return S();return (/^(?:\s*<\?xml)/.test(i)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(i)||/^\s*</.test(i)&&/<\/\w+(\w|\d)+>\s*$/.test(i))&&(/^(?:[\s\w]*<)/.test(i)||/(?:>[\s\w]*)$/.test(i))||/^(?:\s*<s((cript)|(tyle)))/i.test(i)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(i)?/^(?:[\s\w]*<)/.test(i)===false||/(?:>[\s\w]*)$/.test(i)===false?S():P():Le("unknown")}var s=new class ln{constructor(){this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.data={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};this.structure=[["global",-1]];this.attributes=new Set;this.references=[[]];this.count=-1;this.lineStart=0;this.lineNumber=0;this.linesSpace=0;this.error=b;}get scope(){const[f,h]=this.structure[this.structure.length-1];return {token:f,index:h}}get current(){const{begin:f,ender:h,lexer:c,lines:n,stack:e,token:S,types:P}=this.data;return {begin:f[f.length-1],ender:h[h.length-1],lexer:c[c.length-1],lines:n[n.length-1],stack:e[e.length-1],token:S[f.length-1],types:P[f.length-1]}}full(){this.error=b;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const f=this.structure.length-1;const h=this.structure[f];if(f>0)this.structure.splice(f,1);return h};return this.data}increment(){this.error=b;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const f=this.structure.length-1;const h=this.structure[f];if(f>0)this.structure.splice(f,1);return h};return this.data}pushEnder(f){let h=this.count;const c=f.begin[h];if(f.lexer[h]==="style"&&E.options.style.sortProperties===true||f.lexer[h]==="script"&&(E.options.script.objectSort===true||E.options.json.objectSort===true)){return}do{if(f.begin[h]===c||f.begin[f.begin[h]]===c&&f.types[h].indexOf("attribute")>-1&&f.types[h].indexOf("attribute_end")<0){f.ender[h]=this.count;}else {h=f.begin[h];}h=h-1;}while(h>c);if(h>-1)f.ender[h]=this.count;}lexer(f,h){const c=rt[h];const n=E.options.language;E.options.language=h;if(h==="json"){const e=Be({},E.options.json);const S=Be({},E.options.script);E.options.script=Be(E.options.script,E.options.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});E.lexers[c](f);if(h==="json"&&E.options.json.objectSort===true){this.sortCorrect(0,this.count+1);}E.options.language=n;E.options.json=e;E.options.script=S;}else {E.lexers[c](f);if(h==="javascript"&&E.options.script.objectSort===true||(h==="css"||h==="scss")&&E.options.style.sortProperties===true){this.sortCorrect(0,this.count+1);}E.options.language=n;}}beautify(f){E.options.indentLevel=f;const h=u(this.data.token[E.start],123)?"liquid":"html";const c=qe(this.data.stack[E.start]);const n=de.embed(h,c);const e=E.options.language;if(n!==false){const P=this.data.lexer[E.start];E.options.language=n.language;if(n.language==="json"){const $=Be({},E.options.json);const N=Be({},E.options.script);E.options.script=Be(E.options.script,E.options.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});return {reset(){E.options.language=e;E.options.indentLevel=0;E.options.json=$;E.options.script=N;},get beautify(){return E.beautify[P](E.options)}}}return {reset(){E.options.language=e;E.options.indentLevel=0;},get beautify(){return E.beautify[P](E.options)}}}const S=this.data.lexer[E.start];return {reset(){E.options.language=e;E.options.indentLevel=0;},get beautify(){return E.beautify[S](E.options)}}}push(f,h,c=b){f.begin.push(h.begin);f.ender.push(h.ender);f.lexer.push(h.lexer);f.stack.push(h.stack);f.token.push(h.token);f.types.push(h.types);f.lines.push(h.lines);if(f===this.data){this.count=this.count+1;this.linesSpace=0;if(h.lexer!=="style"&&c.replace(/[{}@<>%#]/g,b)===b){c=h.types==="else"?"else":qe(h.token);}if(h.types==="start"||h.types.indexOf("_start")>0){this.structure.push([c,this.count]);}else if(h.types==="end"||h.types.indexOf("_end")>0){let n=0;const e=this.structure.length;if(this.structure.length>2&&(f.types[this.structure[e-1][1]]==="else"||f.types[this.structure[e-1][1]].indexOf("_else")>0)&&(f.types[this.structure[e-2][1]]==="start"||f.types[this.structure[e-2][1]].indexOf("_start")>0)&&(f.types[this.structure[e-2][1]+1]==="else"||f.types[this.structure[e-2][1]+1].indexOf("_else")>0)){this.structure.pop();f.begin[this.count]=this.structure[this.structure.length-1][1];f.stack[this.count]=this.structure[this.structure.length-1][0];f.ender[this.count-1]=this.count;n=f.ender[f.begin[this.count]+1];}this.pushEnder(f);if(n>0)f.ender[f.begin[this.count]+1]=n;this.structure.pop();}else if(h.types==="else"||h.types.indexOf("_else")>0){if(c===b)c="else";if(this.count>0&&(f.types[this.count-1]==="start"||f.types[this.count-1].indexOf("_start")>0)){this.structure.push([c,this.count]);}else {this.pushEnder(f);this.structure[this.structure.length-1]=c===b?["else",this.count]:[c,this.count];}}}}pop(f){const h={begin:f.begin.pop(),ender:f.ender.pop(),lexer:f.lexer.pop(),lines:f.lines.pop(),stack:f.stack.pop(),token:f.token.pop(),types:f.types.pop()};if(f===this.data)this.count=this.count-1;return h}concat(f,h){f.begin=f.begin.concat(h.begin);f.ender=f.ender.concat(h.ender);f.lexer=f.lexer.concat(h.lexer);f.stack=f.stack.concat(h.stack);f.token=f.token.concat(h.token);f.types=f.types.concat(h.types);f.lines=f.lines.concat(h.lines);if(f===this.data)this.count=f.token.length-1;}sortObject(f){let h=this.count;let c=this.structure[this.structure.length-1][1];let n=0;let e=0;let S=0;let P=0;let $=0;let N=0;let g=0;let t=true;const o=[];const d=c;const W=this.structure[this.structure.length-1][0];const r=this.linesSpace;const C=this.count;const q=E.options.language==="json";const l=f.lexer[h]==="style"&&W==="global";const K=f.lexer[h]==="style";const J=K===true?[";","separator"]:[",","separator"];const p=l===true?"global":W;const M={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};const w=(T,k)=>{let z=T[0];let v=k[0];if(f.types[z]==="comment"){do z=z+1;while(z<C&&f.types[z]==="comment");if(f.token[z]===void 0)return 1}if(f.types[v]==="comment"){do v=v+1;while(v<C&&f.types[v]==="comment");if(f.token[v]===void 0)return 1}if(K===true){if(f.token[z].indexOf("@import")===0||f.token[v].indexOf("@import")===0){return z<v?-1:1}if(f.types[z]!==f.types[v]){if(f.types[z]==="function")return 1;if(f.types[z]==="variable")return -1;if(f.types[z]==="selector")return 1;if(f.types[z]==="property"&&f.types[v]!=="variable")return -1;if(f.types[z]==="mixin"&&f.types[v]!=="property"&&f.types[v]!=="variable")return -1}}if(f.token[z].toLowerCase()>f.token[v].toLowerCase())return 1;return -1};P=h;do{if(f.begin[h]===c||l===true&&h<P&&u(f.token[h],125)&&f.begin[f.begin[h]]===-1){if(f.types[h].indexOf("template")>-1)return;if(f.token[h]===J[0]||K===true&&u(f.token[h],125)&&V(f.token[h+1],59)){t=true;$=h+1;}else if(K===true&&u(f.token[h-1],125)){t=true;$=h;}if($===0&&f.types[0]==="comment"){do $=$+1;while(f.types[$]==="comment")}else if(f.types[$]==="comment"&&f.lines[$]<2){$=$+1;}if(t===true&&(f.token[h]===J[0]||K===true&&u(f.token[h-1],125))&&$<=P){if(K===true&&"};".indexOf(f.token[P])<0){P=P+1;}else if(K===false&&V(f.token[P],44)){P=P+1;}o.push([$,P]);if(K===true&&u(f.token[$],125)){P=$;}else {P=$-1;}}}h=h-1;}while(h>c);if(o.length>0&&o[o.length-1][0]>h+1){n=o[o.length-1][0]-1;if(f.types[n]==="comment"&&f.lines[n]>1){do n=n-1;while(n>0&&f.types[n]==="comment");o[o.length-1][0]=n+1;}if(f.types[h+1]==="comment"&&h===-1){do h=h+1;while(f.types[h+1]==="comment")}o.push([h+1,n]);}if(o.length>1){if(q===true||K===true||u(f.token[h-1],61)||u(f.token[h-1],58)||u(f.token[h-1],40)||u(f.token[h-1],91)||u(f.token[h-1],44)||f.types[h-1]==="word"||h===0){o.sort(w);g=o.length;t=false;c=0;do{N=o[c][1];if(K===true){S=N;if(f.types[S]==="comment")S=S-1;if(u(f.token[S],125)){N=N+1;J[0]="}";J[1]="end";}else {J[0]=";";J[1]="separator";}}n=o[c][0];if(K===true&&f.types[N-1]!=="end"&&f.types[N]==="comment"&&f.types[N+1]!=="comment"&&c<g-1){N=N+1;}if(n<N){do{if(K===false&&c===g-1&&n===N-2&&u(f.token[n],44)&&f.lexer[n]==="script"&&f.types[n+1]==="comment"){e=e+1;}else {this.push(M,{begin:f.begin[n],ender:f.ender[n],lexer:f.lexer[n],lines:f.lines[n],stack:f.stack[n],token:f.token[n],types:f.types[n]});e=e+1;}if(f.token[n]===J[0]&&(K===true||f.begin[n]===f.begin[o[c][0]])){t=true;}else if(f.token[n]!==J[0]&&f.types[n]!=="comment"){t=false;}n=n+1;}while(n<N)}if(t===false&&M.token[M.token.length-1]!=="x;"&&(K===true||c<g-1)){n=M.types.length-1;if(M.types[n]==="comment"){do n=n-1;while(n>0&&M.types[n]==="comment")}n=n+1;this.splice({data:M,howmany:0,index:n,record:{begin:d,stack:p,ender:this.count,lexer:M.lexer[n-1],lines:0,token:J[0],types:J[1]}});e=e+1;}c=c+1;}while(c<g);this.splice({data:f,howmany:e,index:h+1});this.linesSpace=r;this.concat(f,M);}}}sortSafe(f,h,c){if(Ne(f)===false)return f;if(h==="normal")return ft.call({array:f,recursive:c},f);if(h==="descend")return ct.call({recursive:c},f);return ut.call({recursive:c},f)}sortCorrect(f,h){let c=f;let n=-1;const e=this.data;const S=[];const P=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(c>0&&e.types[c].indexOf("attribute")>-1&&e.types[c].indexOf("end")<0&&e.types[c-1].indexOf("start")<0&&e.types[c-1].indexOf("attribute")<0&&e.lexer[c]==="markup"){P.push(c-1);}if(c>0&&e.types[c-1].indexOf("attribute")>-1&&e.types[c].indexOf("attribute")<0&&e.lexer[P[P.length-1]]==="markup"&&e.types[P[P.length-1]].indexOf("start")<0){P.pop();}if(e.begin[c]!==P[P.length-1]){e.begin[c]=P.length>0?P[P.length-1]:-1;}if(e.types[c].indexOf("else")>-1){if(P.length>0){P[P.length-1]=c;}else {P.push(c);}}if(e.types[c].indexOf("end")>-1)P.pop();if(e.types[c].indexOf("start")>-1)P.push(c);c=c+1;}while(c<h);c=h;do{c=c-1;if(e.types[c].indexOf("end")>-1){S.push(c);n=n+1;}e.ender[c]=n>-1?S[n]:-1;if(e.types[c].indexOf("start")>-1){S.pop();n=n-1;}}while(c>f)}space(f,h){this.linesSpace=1;return c=>{do{if(u(f[c],10))this.lineNumber=this.lineNumber+1;if(ge(f[c])===false)break;this.linesSpace=this.linesSpace+1;c=c+1;}while(c<h);return c}}spacer(f){this.linesSpace=1;do{if(f.array[f.index]===ke){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(ge(f.array[f.index+1])===false)break;f.index=f.index+1;}while(f.index<f.end);return f.index}splice(f){const{data:h}=this;const c=[h.begin[this.count],h.token[this.count]];if(f.record!==void 0&&f.record.token!==b){for(const n of this.datanames){f.data[n].splice(f.index,f.howmany,f.record[n]);}if(f.data===h){this.count=this.count-f.howmany+1;if(c[0]!==h.begin[this.count]||c[1]!==h.token[this.count]){this.linesSpace=0;}}return}f.data.begin.splice(f.index,f.howmany);f.data.ender.splice(f.index,f.howmany);f.data.token.splice(f.index,f.howmany);f.data.lexer.splice(f.index,f.howmany);f.data.stack.splice(f.index,f.howmany);f.data.types.splice(f.index,f.howmany);f.data.lines.splice(f.index,f.howmany);if(f.data===h){this.count=this.count-f.howmany;this.linesSpace=0;}}};var Ue=/^\s+/;var Ie=/\s+$/;var Fe=/^[\t\v\f\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/;var De=/[\t\v\f \u00a0\u2000-\u200b\u2028-\u2029\u3000]+$/;var ht=/[\t\v\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/g;var St=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify\s+/;var Ot=/(\/[*/]|{%-?\s*(?:comment\s*-?%})|<!-{2})\s*@prettify-ignore\b/;var Ct=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify-ignore-next\b/;var vt=/{%-?\s*|\s*-?%}/g;var dt=/(\/|\\|\||\*|\[|\]|\{|\})/g;function Ve(i){const{options:f}=E;const h=[];const c=[];const n=f.crlf===true?"\r\n":ke;const e=i.begin.replace(dt,lt);const S=u(i.begin[0],123)&&u(i.begin[1],37);const P=new RegExp(`^(${e}\\s*@prettify-ignore-start)`);const $=new RegExp(`(${e}\\s*)`);const N=S?new RegExp(`\\s*${i.ender.replace(vt,y=>u(y,123)?"{%-?\\s*":"\\s*-?%}")}$`):new RegExp(i.ender.replace(dt,lt));let g=i.start;let t=0;let o=0;let d=0;let W=0;let r=[];let C=b;let q=b;let l=false;let K=false;let J=false;let p=b;let M=i.ender.length-1;let w=i.ender.charAt(M);let T=0;function k(){if(/^\s+$/.test(r[t+1])||r[t+1]===b){do t=t+1;while(t<W&&(/^\s+$/.test(r[t+1])||r[t+1]===b))}if(t<W-1)c.push(b);}function z(){let y=ke;g=g+1;do{h.push(i.chars[g]);if(h.slice(h.length-20).join(b)==="@prettify-ignore-end"){if(S){const m=i.chars.indexOf("{",g);if(u(i.chars[m+1],37)){const A=i.chars.slice(m,i.chars.indexOf("}",m+1)+1).join(b);if(N.test(A))i.ender=A;}}g=g+1;break}g=g+1;}while(g<i.end);t=g;M=i.begin.length-1;w=i.begin.charAt(M);do{if(i.begin==="/*"&&u(i.chars[t-1],47)&&(u(i.chars[t],42)||u(i.chars[t],47))){break}if(i.begin!=="/*"&&i.chars[t]===w&&i.chars.slice(t-M,t+1).join(b)===i.begin){break}t=t-1;}while(t>i.start);if(i.begin==="/*"&&u(i.chars[t],42)){y="*/";}else if(i.begin!=="/*"){y=i.ender;}M=y.length-1;w=y.charAt(M);if(y!==ke||i.chars[g]!==ke){do{h.push(i.chars[g]);if(y===ke&&i.chars[g+1]===ke)break;if(i.chars[g]===w&&i.chars.slice(g-M,g+1).join(b)===y)break;g=g+1;}while(g<i.end)}if(i.chars[g]===ke)g=g-1;p=h.join(b).replace(De,b);return [p,g]}do{h.push(i.chars[g]);if(i.chars[g]===ke)s.lineNumber=s.lineNumber+1;if(i.chars[g]===w&&i.chars.slice(g-M,g+1).join(b)===i.ender)break;g=g+1;}while(g<i.end);p=h.join(b);if(P.test(p)===true)return z();if(S===true&&f.liquid.preserveComment===true||S===false&&f.markup.preserveComment===true||f.wrap<1||g===i.end||p.length<=f.wrap&&p.indexOf(ke)<0||i.begin==="/*"&&p.indexOf(ke)>0&&p.replace(ke,b).indexOf(ke)>0&&/\n(?!(\s*\*))/.test(p)===false){return [p,g]}t=i.start;if(t>0&&V(i.chars[t-1],10)&&ge(i.chars[t-1])){do t=t-1;while(t>0&&V(i.chars[t-1],10)&&ge(i.chars[t-1]))}C=i.chars.slice(t,i.start).join(b);const v=new RegExp(ke+C,"g");r=p.replace(/\r\n/g,ke).replace(v,ke).split(ke);W=r.length;r[0]=r[0].replace($,b);r[W-1]=r[W-1].replace(N,b);if(W<2)r=r[0].split(le);if(r[0]===b){r[0]=i.begin;}else {r.splice(0,0,i.begin);}W=r.length;t=0;do{q=t<W-1?r[t+1].replace(Fe,b):b;if(/^\s+$/.test(r[t])===true||r[t]===b){k();}else if(r[t].replace(Fe,b).length>f.wrap&&r[t].replace(Fe,b).indexOf(le)>f.wrap){r[t]=r[t].replace(Fe,b);o=r[t].indexOf(le);c.push(r[t].slice(0,o));r[t]=r[t].slice(o+1);t=t-1;}else {r[t]=i.begin==="/*"&&r[t].indexOf("/*")!==0?`   ${r[t].replace(Fe,b).replace(De,b).replace(/\s+/g,le)}`:`${r[t].replace(Fe,b).replace(De,b).replace(/\s+/g,le)}`;T=t<1?f.wrap-(i.begin.length+1):f.wrap;o=r[t].length;d=r[t].replace(Fe,b).indexOf(le);if(o>T&&d>0&&d<T){o=T;do{o=o-1;if(ge(r[t].charAt(o))&&o<=f.wrap)break}while(o>0);if(/^\s*\d+\.\s/.test(r[t])===true&&/^\s*\d+\.\s/.test(r[t+1])===false){r.splice(t+1,0,"1. ");}if(/^\s+$/.test(r[t+1])===true||r[t+1]===b){c.push(r[t].slice(0,o));r[t]=r[t].slice(o+1);l=true;t=t-1;}else if(/^\s*[*-]\s/.test(r[t+1])){c.push(r[t].slice(0,o));r[t]=r[t].slice(o+1);K=true;t=t-1;}else if(/^\s*\d+\.\s/.test(r[t+1])){c.push(r[t].slice(0,o));r[t]=r[t].slice(o+1);J=true;t=t-1;}else if(r[t].replace(Fe,b).indexOf(le)<f.wrap){r[t+1]=r[t].length>f.wrap?r[t].slice(o+1)+n+r[t+1]:`${r[t].slice(o+1)} ${r[t+1]}`;}if(l===false&&K===false&&J===false){r[t]=r[t].slice(0,o);}}else if(r[t+1]!==void 0&&(r[t].length+q.indexOf(le)>f.wrap&&q.indexOf(le)>0||r[t].length+q.length>f.wrap&&q.indexOf(le)<0)){c.push(r[t]);t=t+1;}else if(r[t+1]!==void 0&&/^\s+$/.test(r[t+1])===false&&r[t+1]!==b&&/^\s*(?:[*-]|\d+\.)\s/.test(r[t+1])===false){c.push(r[t]);l=true;}else {c.push(r[t]);l=true;}K=false;J=false;}t=t+1;}while(t<W);if(c.length>0){if(c[c.length-1].length>f.wrap-(i.ender.length+1)){c.push(i.ender);}else {c.push(i.ender);}p=c.join(n);}else {r[r.length-1]=r[r.length-1]+i.ender;p=r.join(n);}return [p,g]}function Ye(i){const{wrap:f}=E.options;const{preserveComment:h}=E.options[i.lexer];let c=i.start;let n=0;let e=b;let S=[];function P(){let N=b;do{n=n+1;if(u(i.chars[n+1],10))return}while(n<i.end&&ge(i.chars[n]));if(i.chars[n]+i.chars[n+1]==="//"){S=[];do{S.push(i.chars[n]);n=n+1;}while(n<i.end&&V(i.chars[n],10));N=S.join(b);if(/^\/\/ (?:[*-]|\d+\.)/.test(N)===false&&/^\/\/\s*$/.test(N)===false){e=`${e} ${N.replace(/(^\/\/\s*)/,b).replace(De,b)}`;c=n-1;P();}}}function $(){const N=[];const g={ender:-1,types:"comment",lexer:i.lexer,lines:s.linesSpace};if(s.count>-1){g.begin=s.structure[s.structure.length-1][1];g.stack=s.structure[s.structure.length-1][0];g.token=s.data.token[s.count];}else {g.begin=-1;g.stack="global";g.token=b;}let t=0;let o=0;e=e.replace(/\s+/g,le).replace(De,b);o=e.length;if(f>o)return;do{t=f;if(V(e[t],32)){do t=t-1;while(t>0&&V(e[t],32));if(t<3){t=f;do t=t+1;while(t<o-1&&V(e[t],32))}}N.push(e.slice(0,t));e=`// ${e.slice(t).replace(Fe,b)}`;o=e.length;}while(f<o);t=0;o=N.length;do{g.token=N[t];s.push(s.data,g,b);g.lines=2;s.linesSpace=2;t=t+1;}while(t<o)}do{S.push(i.chars[c]);c=c+1;}while(c<i.end&&V(i.chars[c],10));if(c===i.end){i.chars.push(ke);}else {c=c-1;}e=S.join(b).replace(De,b);if(/^(\/\/\s*@prettify-ignore-start\b)/.test(e)===true){let N=ke;c=c+1;do{S.push(i.chars[c]);c=c+1;}while(c<i.end&&(V(i.chars[c-1],100)||u(i.chars[c-1],100)&&S.slice(S.length-20).join(b)!=="@prettify-ignore-end"));n=c;do;while(n>i.start&&u(i.chars[n-1],47)&&(u(i.chars[n],42)||u(i.chars[n],47)));if(u(i.chars[n],42))N="*/";if(N!==ke||V(i.chars[c],10)){do{S.push(i.chars[c]);if(N===ke&&u(i.chars[c+1],10))break;c=c+1;}while(c<i.end&&(N===ke||N==="*/"&&(u(i.chars[c-1],42)||u(i.chars[c],47))))}if(i.chars[c]===ke)c=c-1;e=S.join(b).replace(De,b);return [e,c]}if(e==="//"||h===true)return [e,c];e=e.replace(/(\/\/\s*)/,"// ");if(f<1||c===i.end-1&&s.data.begin[s.count]<1)return [e,c];n=c+1;P();$();return [e,c]}E.lexers.style=function i(f){const{options:h}=E;const c=h.style;const{data:n}=s;const e=f.split(b);const S=f.length;const P=[];const $=[];let N=0;let g=b;let t=b;function o(M){s.push(n,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"style",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:t,types:g},M);}function d(M){const w=M;do{M=M-1;}while(e[M]==="\\"&&M>0);return (w-M)%2===1}function W(M){const w=M.replace(/\s*!important/," !important").split(b);const T=/-?transition$/.test(n.token[s.count-2]);const k=[];const z=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const v=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let y=0;let m=0;let A=b;let j=w.length;let Z=[];const Y=re=>{return re};function ue(re){re=re.replace(/\s*/g,b);return /\/\d/.test(re)&&M.indexOf("url(")===0?re:` ${re.charAt(0)} ${re.charAt(1)}`}function te(re){if(c.noLeadZero===true){return re.replace(/^-?\D0+(\.|\d)/,ie=>ie.replace(/0+/,b))}else if(/0*\./.test(re)){return re.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(re)[0])){return /^\D*0+\D*$/.test(re)?re.replace(/0+/,"0"):re.replace(/\d+/.exec(re)[0],/\d+/.exec(re)[0].replace(/^0+/,b))}return re}function se(re){return re.replace(",",", ")}function Pe(re){return `${re} `}function ne(){const re=y-1;let ie=re;if(re<1)return true;do{ie=ie-1;}while(ie>0&&w[ie]==="\\");return (re-ie)%2===1}if(y<j){do{Z.push(w[y]);if(w[y-1]!=="\\"||ne()===false){if(A===b){if(u(w[y],34)){A='"';m=m+1;}else if(u(w[y],39)){A="'";m=m+1;}else if(u(w[y],40)){A=")";m=m+1;}else if(u(w[y],91)){A="]";m=m+1;}}else if(u(w[y],40)&&u(A,41)||u(w[y],91)&&u(A,93)){m=m+1;}else if(w[y]===A){m=m-1;if(m===0)A=b;}}if(A===b&&u(w[y],32)){Z.pop();k.push(Y(Z.join(b)));Z=[];}y=y+1;}while(y<j)}k.push(Y(Z.join(b)));j=k.length;y=0;if(y<j){do{if(c.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(k[y])===true){k[y]=k[y].replace(/0+\./,".");}else if(c.noLeadZero===false&&/^-?\.\d+[a-z]/.test(k[y])){k[y]=k[y].replace(".","0.");}else if(z.test(k[y])||v.test(k[y])){k[y]=k[y].replace(z,te).replace(v,te);}else if(/^(0+([a-z]{2,3}|%))$/.test(k[y])&&T===false){k[y]="0";}else if(/^(0+)/.test(k[y])){k[y]=k[y].replace(/0+/,"0");if(/\d/.test(k[y].charAt(1)))k[y]=k[y].substr(1);}else if(/^url\((?!('|"))/.test(k[y])&&k[y].charCodeAt(k[y].length-1)===41){A=k[y].charAt(k[y].indexOf("url(")+4);if(A!=="@"&&V(A,40)&&V(A,60)){if(c.quoteConvert==="double"){k[y]=k[y].replace(/url\(/,'url("').replace(/\)$/,'")');}else {k[y]=k[y].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(k[y])){if(!de.style.units.has(k[y].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,b))){k[y]=k[y].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,Pe);}}if(/^\w+\(/.test(k[y])&&k[y].charAt(k[y].length-1)===")"&&(k[y].indexOf("url(")!==0||k[y].indexOf("url(")===0&&k[y].indexOf(le)>0)){k[y]=k[y].replace(/,\S/g,se);}y=y+1;}while(y<j)}A=k.join(le);return A.charAt(0)+A.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,ue)}function r(){const M=[];const w=[];const T=c.quoteConvert;let k=N;let z=0;let v=b;let y=null;let m=false;function A(){w.push(e[k]);if(ge(e[k+1]))do{k=k+1;}while(k<S&&ge(e[k+1]))}if(k<S){do{if(u(e[k],34)||u(e[k],39)){if(y===null)y=false;if(M[M.length-1]===e[k]&&(e[k-1]!=="\\"||d(k-1)===false)){M.pop();if(T==="double"){e[k]='"';}else if(T==="single"){e[k]="'";}}else if(V(M[M.length-1],34)&&V(M[M.length-1],39)&&(V(e[k-1],92)||d(k-1)===false)){M.push(e[k]);if(T==="double"){e[k]='"';}else if(T==="single"){e[k]="'";}}else if(e[k-1]==="\\"&&T!=="none"){if(d(k-1)===true){if(T==="double"&&u(e[k],39)){w.pop();}else if(T==="single"&&u(e[k],34)){w.pop();}}}else if(T==="double"&&u(e[k],34)){e[k]='\\"';}else if(T==="single"&&u(e[k],39)){e[k]="\\'";}w.push(e[k]);}else if(e[k-1]!=="\\"||d(k-1)===false){if(u(e[k],40)){if(y===null)y=true;M.push(")");A();}else if(u(e[k],91)){y=false;M.push("]");A();}else if((u(e[k],35)||u(e[k],64))&&u(e[k+1],123)){y=false;w.push(e[k]);k=k+1;M.push("}");A();}else if(e[k]===M[M.length-1]){w.push(e[k]);M.pop();}else {w.push(e[k]);}}else {w.push(e[k]);}if(s.structure[s.structure.length-1][0]==="map"&&M.length===0&&(u(e[k+1],44)||u(e[k+1],41))){if(u(e[k+1],41)&&u(n.token[s.count],40)){s.pop(n);s.structure.pop();w.splice(0,0,"(");}else {break}}if(u(e[k+1],58)){z=k;if(ge(e[z])){do z=z-1;while(ge(e[z]))}v=e.slice(z-6,z+1).join(b);if(v.indexOf("filter")===v.length-6||v.indexOf("progid")===v.length-6){v="filter";}}if(M.length===0){if(u(e[k+1],59)&&d(k+1)===true||u(e[k+1],58)&&V(e[k],58)&&V(e[k+2],58)&&v!=="filter"&&v!=="progid"||(u(e[k+1],123)||u(e[k+1],125))||u(e[k+1],47)&&(u(e[k+2],42)||u(e[k+2],47))){z=w.length-1;if(ge(w[z])){do{z=z-1;k=k-1;w.pop();}while(ge(w[z]))}break}if(u(e[k+1],44))break}k=k+1;}while(k<S)}N=k;if(s.structure[s.structure.length-1][0]==="map"&&u(w[0],40)){P[P.length-1]=P[P.length-1]-1;}t=w.join(b).replace(/\s+/g,le).replace(/^\s/,b).replace(/\s$/,b);if(y===true){if(de.style.atrules.has(de.atrules(t))&&c.atRuleSpace===true){n.token[s.count]=n.token[s.count].replace(/\s*\(/g," (").replace(/\s*\)\s*/g,") ").replace(/,\(/g,", (");}else {t=t.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}}if(g==="colon"&&n.types[s.count-1]==="start"){if(de.style.pseudoClasses.has(t)){n.token[s.count]=t=":"+t;g="pseudo";m=true;}}else if(s.count>-1&&n.token[s.count].indexOf("extend(")===0){g="pseudo";}else if(y===true&&/\d/.test(t.charAt(0))===false&&/^rgba?\(/.test(t)===false&&t.indexOf("url(")!==0&&(t.indexOf(le)<0||t.indexOf(le)>t.indexOf("("))&&t.charAt(t.length-1)===")"){if(u(n.token[s.count],58)){g="value";}else {t=t.replace(/,\u0020?/g,", ");g="function";}t=W(t);}else if(s.count>-1&&`"'`.indexOf(n.token[s.count].charAt(0))>-1&&n.types[s.count]==="variable"){g="item";}else if(u(w[0],64)||w[0]==="$"){if(n.types[s.count]==="colon"&&h.language==="css"&&(n.types[s.count-1]==="property"||n.types[s.count-1]==="variable")){g="value";}else if(s.count>-1){g="item";v=n.token[s.count];k=v.indexOf("(");if(u(v[v.length-1],41)&&k>0){v=v.slice(k+1,v.length-1);n.token[s.count]=n.token[s.count].slice(0,k+1)+W(v)+")";}}t=W(t);}else {g="item";}if(m===false){o(b);}else {m=false;}}function C(M){let w=s.count;let T=0;let k=b;const z=[];function v(){if(s.count<0)return;if(w>0&&(n.types[w]==="comment"||n.types[w]==="ignore")){do{w=w-1;z.push(n.token[w]);}while(w>0&&n.lexer[w]==="style"&&(n.types[w]==="comment"||n.types[w]==="ignore"))}T=w-1;if(T>0&&(n.types[T]==="comment"||n.types[T]==="ignore")){do T=T-1;while(T>0&&n.lexer[w]==="style"&&(n.types[T]==="comment"||n.types[T]==="ignore"))}if(T<0)T=0;if(w<0)w=0;k=n.token[w][0];}function y(A){return A.replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ")}function m(A){let j=A;const Z=n.begin[j];n.token[A]=n.token[A].replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ").replace(/:\s+/g,": ").replace(/^\s+/,b).replace(/\s+$/,b).replace(/\s+::\s+/,"::");if(V(n.token[j],44)&&n.types[j]!=="comment"){n.types[j]="selector";}if(u(n.token[j-1],44)||u(n.token[j-1],58)||n.types[j-1]==="comment"||n.types[j-1]==="pseudo"){if(n.types[j-1]==="colon"&&(n.types[j]==="selector"||n.types[j]==="at_rule")&&(n.types[j-2]==="template"||n.types[j-2]==="template_start"||n.types[j-2]==="template_else"||n.types[j-2]==="template_end")){n.token[j-1]=":"+n.token[j]+le;n.types[j-1]="selector";s.splice({data:n,howmany:1,index:j});}else if(n.types[j-1]==="pseudo"){n.token[j-1]=`${n.token[j-1]}${n.token[j]}`;n.types[j-1]="selector";s.splice({data:n,howmany:1,index:j});}else if(n.types[j-2]==="comment"){n.token[j-1]=y(`${n.token[j-1]}${n.token[j]}`);n.types[j-1]="selector";s.splice({data:n,howmany:1,index:j});}else {do{j=j-1;if(n.begin[j]===Z){if(u(n.token[j],59))break;if(V(n.token[j],44)&&n.types[j]!=="comment"){n.types[j]="selector";}if(n.token[j]===":"&&V(n.token[j-1],59)){n.token[j-1]=y(`${n.token[j-1]}:${n.token[j+1]}`);s.splice({data:n,howmany:2,index:j});}}else {break}}while(j>0)}}j=s.count;if(c.sortSelectors===true&&u(n.token[j-1],44)){const Y=[n.token[j]];do{j=j-1;if(n.types[j]==="comment"||n.types[j]==="ignore"){do j=j-1;while(j>0&&(n.types[j]==="comment"||n.types[j]==="ignore"))}if(u(n.token[j],44))j=j-1;Y.push(n.token[j]);}while(j>0&&(u(n.token[j-1],44)||n.types[j-1]==="selector"||n.types[j-1]==="comment"||n.types[j-1]==="ignore"));Y.sort();j=s.count;n.token[j]=Y.pop();do{j=j-1;if(n.types[j]==="comment"||n.types[j]==="ignore"){do j=j-1;while(j>0&&(n.types[j]==="comment"||n.types[j]==="ignore"))}if(u(n.token[j],44))j=j-1;n.token[j]=Y.pop();}while(j>0&&(u(n.token[j-1],44)||n.types[j-1]==="selector"||n.types[j-1]==="comment"||n.types[j-1]==="ignore"))}w=s.count;v();}v();if(M==="start"&&(n.types[w]==="value"||n.types[w]==="variable")){n.types[w]="item";}if(n.lexer[s.count-1]!=="style"||T<0){if(M==="colon"){if(u(k,36)||u(k,64)){n.types[w]="variable";}else if(n.stack[w]!=="global"&&(n.types[w]!=="comment"||n.types[w]!=="ignore")){n.types[w]="property";}}else if(n.lexer[w]==="style"){n.types[w]="selector";m(w);}}else if(M==="start"&&n.types[w]==="function"&&n.lexer[w]==="style"){n.types[w]="selector";m(w);}else if(n.types[w]==="item"&&n.lexer[w]==="style"){if(M==="start"){m(w);n.types[w]="selector";if(n.token[w]===":")n.types[T]="selector";if(n.token[w].indexOf("=\u201C")>0){s.error=`Invalid Quote (\u201C, \\201c) used on line number ${s.lineNumber}`;}else if(n.token[w].indexOf("=\u201D")>0){s.error=`Invalid Quote (\u201D, \\201d) used on line number ${s.lineNumber}`;}}else if(M==="end"){if(u(k,36)||u(k,64)){n.types[w]="variable";}else {n.types[w]="value";}n.token[w]=W(n.token[w]);}else if(M==="separator"){if(n.types[T]==="colon"||u(n.token[T],44)||u(n.token[T],123)){if(V(e[N],59)&&(n.types[T]==="selector"||n.types[T]==="at_rule"||u(n.token[T],123))){n.types[w]="selector";m(w);}else if(u(n.token[w],36)||u(n.token[w],64)){n.types[w]="variable";}else {n.types[w]="value";}n.token[w]=W(n.token[w]);if(n.token[w].charAt(0)==="\u201C"){s.error=`Invalid Quote (\u201C, \\201c) used on line number ${s.lineNumber}`;}else if(n.token[w].charAt(0)==="\u201D"){s.error=`Invalid (\u201D, \\201d) used on line number ${s.lineNumber}`;}}else {if(u(k,36)||u(k,64)){n.types[w]="variable";}else if(n.types[T]==="value"||n.types[T]==="variable"){n.token[T]=n.token[T]+n.token[w];s.pop(n);}else {n.types[w]="value";}}}else if(M==="colon"){if(u(k,36)||u(k,64)){n.types[w]="variable";}else {n.types[w]="property";}}else if(u(n.token[T],64)&&(n.types[T-2]!=="variable"&&n.types[T-2]!=="property"||n.types[T-1]==="separator")){n.types[T]="variable";g="variable";n.token[T]=W(n.token[T]);}else if(M==="comment"){if(u(k,46)||u(k,35)){n.types[w]="selector";}}}}function q(){let M=s.count;do M=M-1;while(M>0&&n.types[M]==="comment");if(n.token[M]===";")return;s.splice({data:n,howmany:0,index:M+1,record:{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"style",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:";",types:"separator"}});}function l(M,w){const T=[];let k=b;let z=b;let v=0;let y=M.length;function m(A){const j=s.count>0?n.types[s.count-1]:n.types[s.count];if(g==="item"){if(j==="colon"){n.types[s.count]="value";}else {C(j);}}if(u(e[N+1],32)){n.lines[s.count]=1;}g=A;if(g.indexOf("start")>-1||g.indexOf("else")>-1){o(t);}else {o(b);}}$[$.length-1]=true;if(N<S){do{T.push(e[N]);if(k===b){if(u(e[N],34)){k='"';}else if(u(e[N],39)){k="'";}else if(u(e[N],47)){if(u(e[N+1],47)){k="/";}else if(u(e[N+1],42)){k="*";}}else if(e[N+1]===w.charAt(0)){do{v=v+1;N=N+1;T.push(e[N]);}while(N<S&&v<w.length&&e[N+1]===w.charAt(v));if(v===w.length){k=T.join(b);if(ge(k.charAt(y))){do{y=y+1;}while(ge(k.charAt(y)))}v=y;do{v=v+1;}while(v<w.length&&!ge(k.charAt(v)));if(v===k.length)v=v-w.length;if(M==="{%"){if(u(k[2],45)){k=k.replace(/^{%-\s*/,"{%- ");k=k.endsWith("-%}")?k.replace(/\s*-%}$/," -%}"):k.replace(/\s*%}$/," %}");z=k.slice(4);}else {k=k.replace(/^{%\s*/,"{% ");k=k.endsWith("-%}")?k.replace(/\s*-%}$/," -%}"):k.replace(/\s*%}$/," %}");z=k.slice(3);}}if(M==="{{"){if(u(k[2],45)){k=k.replace(/^{{-\s*/,"{{- ");k=k.endsWith("-}}")?k.replace(/\s*-}}$/," -}}"):k.replace(/\s*}}$/," }}");}else {k=k.replace(/^{{\s*/,"{{ ");k=k.endsWith("-}}")?k.replace(/\s*-}}$/," -}}"):k.replace(/\s*%}}$/," }}");}}if(g==="item"&&n.types[s.count-1]==="colon"&&(n.types[s.count-2]==="property"||n.types[s.count-2]==="variable")){g="value";n.types[s.count]="value";if(Number.isNaN(Number(n.token[s.count]))===true&&n.token[s.count].charAt(n.token[s.count].length-1)!==")"){n.token[s.count]=n.token[s.count]+k;}else {n.token[s.count]=n.token[s.count]+le+k;}return}t=k;if(M==="{%"){const A=Array.from(de.liquid.tags);let j=A.length-1;z=z.slice(0,z.indexOf(le));if(z.indexOf("(")>0){z=z.slice(0,z.indexOf("("));}if(de.liquid.else.has(z)){m("template_else");return}j=A.length-1;if(j>-1){do{if(z===A[j]){m("template_start");return}if(z==="end"+A[j]){m("template_end");return}j=j-1;}while(j>-1)}}else if(M==="{{"){let A=k.slice(2);const j=A.length;let Z=0;do{Z=Z+1;}while(Z<j&&ge(A.charAt(Z))===false&&A.charCodeAt(y)!==40);A=A.slice(0,Z);if(u(A[A.length-2],125))A=A.slice(0,A.length-2);if(A==="end"){m("template_end");return}}m("template");return}v=0;}}else if(k===e[N]){if(u(k,34)||u(k,39)){k=b;}else if(u(k,47)&&(e[N]==="\r"||u(e[N],10))){k=b;}else if(u(k,42)&&u(e[N+1],47)){k=b;}}N=N+1;}while(N<S)}}function K(M){let w;if(M){w=Ye({chars:e,start:N,end:S,lexer:"style",begin:"//",ender:"\n"});t=w[0];g=/^(\/\/\s*@prettify-ignore-start)/.test(t)?"ignore":"comment";}else {w=Ve({chars:e,start:N,end:S,lexer:"style",begin:"/*",ender:"*/"});t=w[0];g=/^(\/\*\s*@prettify-ignore-start)/.test(t)?"ignore":"comment";}o(b);N=w[1];}function J(){const M=s.linesSpace;const w={data:{margin:[b,b,b,b,false],padding:[b,b,b,b,false]},last:{margin:0,padding:0},removes:[]};const T=s.structure[s.structure.length-1][1];function k(m){if(n.token[v-2]===m){const A=n.token[v].replace(/\s*!important\s*/g,b).split(le);const j=A.length;if(n.token[v].indexOf("!important")>-1)w.data[m[4]]=true;if(j>3){if(w.data[m][0]===b)w.data[m][0]=A[0];if(w.data[m][1]===b)w.data[m][1]=A[1];if(w.data[m][2]===b)w.data[m][2]=A[2];if(w.data[m][3]===b)w.data[m][3]=A[3];}else if(j>2){if(w.data[m][0]===b)w.data[m][0]=A[0];if(w.data[m][1]===b)w.data[m][1]=A[1];if(w.data[m][2]===b)w.data[m][2]=A[2];if(w.data[m][3]===b)w.data[m][3]=A[1];}else if(j>1){if(w.data[m][0]===b)w.data[m][0]=A[0];if(w.data[m][1]===b)w.data[m][1]=A[1];if(w.data[m][2]===b)w.data[m][2]=A[0];if(w.data[m][3]===b)w.data[m][3]=A[1];}else {if(w.data[m][0]===b)w.data[m][0]=A[0];if(w.data[m][1]===b)w.data[m][1]=A[0];if(w.data[m][2]===b)w.data[m][2]=A[0];if(w.data[m][3]===b)w.data[m][3]=A[0];}}else if(n.token[v-2]===`${m}-bottom`){if(w.data[m][2]===b)w.data[m][2]=n.token[v];}else if(n.token[v-2]===`${m}-left`){if(w.data[m][3]===b)w.data[m][3]=n.token[v];}else if(n.token[v-2]===`${m}-right`){if(w.data[m][1]===b)w.data[m][1]=n.token[v];}else if(n.token[v-2]===`${m}-top`){if(w.data[m][0]===b)w.data[m][0]=n.token[v];}else {return}w.removes.push([v,m]);w.last[m]=v;}function z(){let m=0;let A=b;const j=/^(0+([a-z]+|%))/;const Z=w.removes.length;const Y=w.data.margin[0]!==b&&w.data.margin[1]!==b&&w.data.margin[2]!==b&&w.data.margin[3]!==b;const ue=w.data.padding[0]!==b&&w.data.padding[1]!==b&&w.data.padding[2]!==b&&w.data.padding[3]!==b;function te(se){if(j.test(w.data[se][0])===true)w.data[se][0]="0";if(j.test(w.data[se][1])===true)w.data[se][1]="0";if(j.test(w.data[se][2])===true)w.data[se][2]="0";if(j.test(w.data[se][3])===true)w.data[se][3]="0";if(w.data[se][0]===w.data[se][1]&&w.data[se][0]===w.data[se][2]&&w.data[se][0]===w.data[se][3]){A=w.data[se][0];}else if(w.data[se][0]===w.data[se][2]&&w.data[se][1]===w.data[se][3]&&w.data[se][0]!==w.data[se][1]){A=`${w.data[se][0]} ${w.data[se][1]}`;}else if(w.data[se][1]===w.data[se][3]&&w.data[se][0]!==w.data[se][2]){A=`${w.data[se][0]} ${w.data[se][1]} ${w.data[se][2]}`;}else {A=`${w.data[se][0]} ${w.data[se][1]} ${w.data[se][2]} ${w.data[se][3]}`;}if(w.data[se[4]]===true)A=`${A.replace(" !important",b)} !important`;if(w.last[se]>s.count){m=T<1?1:T+1;do{if(n.begin[m]===T&&n.types[m]==="value"&&n.token[m-2].indexOf(se)===0){w.last[se]=m;break}m=m+1;}while(m<s.count)}n.token[w.last[se]]=A;n.token[w.last[se]-2]=se;}if(Z>1&&(Y===true||ue===true)){do{if(w.removes[m][0]!==w.last.margin&&w.removes[m][0]!==w.last.padding&&(Y===true&&w.removes[m][1]==="margin"||ue===true&&w.removes[m][1]==="padding")){s.splice({data:n,howmany:n.types[w.removes[m][0]+1]==="separator"?4:3,index:w.removes[m][0]-2});}m=m+1;}while(m<Z-1)}if(Y===true)te("margin");if(ue===true)te("padding");if(y===true){if(T<0){s.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {s.sortCorrect(T,s.count+1);}}}let v=s.count;let y=false;do{v=v-1;if(n.begin[v]===T){if(n.types[v]==="value"&&n.types[v-2]==="property"){if(n.token[v-2].indexOf("margin")===0){k("margin");}else if(n.token[v-2].indexOf("padding")===0){k("padding");}}}else {y=true;v=n.begin[v];}}while(v>T);z();s.linesSpace=M;}function p(){s.linesSpace=1;do{if(u(e[N],10)){s.lineStart=N;s.linesSpace=s.linesSpace+1;s.lineNumber=s.lineNumber+1;}if(ge(e[N+1])===false)break;N=N+1;}while(N<S)}do{if(ge(e[N])){p();}else if(u(e[N],47)&&u(e[N+1],42)){K(false);}else if(u(e[N],47)&&u(e[N+1],47)){K(true);}else if(u(e[N],123)&&u(e[N+1],37)){l("{%","%}");}else if(u(e[N],123)&&u(e[N+1],123)){l("{{","}}");}else if(u(e[N],123)||u(e[N],40)&&u(n.token[s.count],58)&&n.types[s.count-1]==="variable"){C("start");g="start";t=e[N];if(u(e[N],40)){o("map");P.push(0);}else if(n.types[s.count]==="at_rule"||n.types[s.count]==="selector"||n.types[s.count]==="variable"){if(u(n.token[s.count],64)){n.types[s.count]="at_rule";o(de.atrules(n.token[s.count]));}else {o(n.token[s.count]);}}else if(n.types[s.count]==="colon"){o(n.token[s.count-1]);}else {o("block");}$.push(false);}else if(u(e[N],125)||e[N]===")"&&s.structure[s.structure.length-1][0]==="map"&&P[P.length-1]===0){if(u(e[N],125)&&u(n.token[s.count-1],123)&&n.types[s.count]==="item"&&n.token[s.count-2]!==void 0&&n.token[s.count-2].charCodeAt(n.token[s.count-2].length-1)===64){n.token[s.count-2]=n.token[s.count-2]+"{"+n.token[s.count]+"}";s.pop(n);s.pop(n);s.structure.pop();}else {if(u(e[N],41))P.pop();C("end");if(u(e[N],125)&&V(n.token[s.count],59)){if(n.types[s.count]==="value"||n.types[s.count]==="function"||n.types[s.count]==="variable"&&(u(n.token[s.count-1],58)||u(n.token[s.count-1],59))){if(c.correct===true){t=";";}else {t="x;";}g="separator";o(b);}else if(n.types[s.count]==="comment"){q();}}$.pop();t=e[N];g="end";if(u(e[N],125))J();if(c.sortProperties===true&&u(e[N],125))s.sortObject(n);o(b);}}else if(u(e[N],59)||u(e[N],44)){if(n.types[s.count-1]==="selector"||n.types[s.count-1]==="at_rule"||n.types[s.count]!=="function"&&u(n.token[s.count-1],125)){C("start");}else {C("separator");}if(n.types[s.count]!=="separator"&&d(N)===true){t=e[N];g="separator";o(b);}}else if(s.count>-1&&u(e[N],58)&&n.types[s.count]!=="end"){C("colon");t=":";g="colon";o(b);}else {if(s.structure[s.structure.length-1][0]==="map"&&u(e[N],40)){P[P.length-1]=P[P.length-1]+1;}r();}N=N+1;}while(N<S);if(c.sortProperties===true)s.sortObject(n);return n};E.lexers.script=function i(f){const{options:h}=E;const c=Be({},h.script);if(h.language==="json"){h.script=Be(h.script,h.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}let n=0;let e=b;let S=b;let P=[];let $=0;let N=-1;let g=-1;let t=[];let o;let d;let W;const{data:r}=s;const{references:C}=s;const q=f.length;const l=f.split(b);const K=[];const J=[];const p=[];const M=[0,b];const w=[false];const T=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const k={};k.count=[];k.index=[];k.len=-1;k.word=[];function z(a){let x=0;const O=se(1,false);const L=s.structure.length===0?"":s.structure[s.structure.length-1][0];const R=st(null);R.begin=r.begin[s.count];R.ender=r.begin[s.count];R.lexer=r.lexer[s.count];R.lines=r.lines[s.count];R.stack=r.stack[s.count];R.token=r.token[s.count];R.types=r.types[s.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(e))return;if(S==="start"||S==="type_start")return;if(h.language==="json")return;if(u(R.token,59)||u(R.token,44)||R.stack==="class"||R.stack==="map"||R.stack==="attribute"||r.types[R.begin-1]==="generic"||O==="{"||L==="initializer"){return}if(u(R.token,125)&&r.stack[R.begin-1]==="global"&&r.types[R.begin-1]!=="operator"&&R.stack===r.stack[s.count-1]){return}if(R.stack==="array"&&R.token!=="]")return;if(r.token[r.begin[s.count]]==="{"&&R.stack==="data_type")return;if(R.types!==void 0&&R.types.indexOf("template")>-1&&R.types.indexOf("template_string")<0){return}if(u(O,59)&&a===false)return;if(r.lexer[s.count-1]!=="script"&&(n<q&&q===E.source.length-1||q<E.source.length-1)){return}if(u(R.token,125)&&(R.stack==="function"||R.stack==="if"||R.stack==="else"||R.stack==="for"||R.stack==="do"||R.stack==="while"||R.stack==="switch"||R.stack==="class"||R.stack==="try"||R.stack==="catch"||R.stack==="finally"||R.stack==="block")){if(R.stack==="function"&&(r.stack[R.begin-1]==="data_type"||r.types[R.begin-1]==="type")){x=R.begin;do{x=x-1;}while(x>0&&r.token[x]!==")"&&r.stack[x]!=="arguments");x=r.begin[x];}else {x=r.begin[R.begin-1];}if(u(r.token[x],40)){x=x-1;if(r.token[x-1]==="function")x=x-1;if(r.stack[x-1]==="object"||r.stack[x-1]==="switch")return;if(r.token[x-1]!=="="&&r.token[x-1]!=="return"&&r.token[x-1]!==":"){return}}else {return}}if(R.types==="comment"||L==="method"||L==="paren"||L==="expression"||L==="array"||L==="object"||L==="switch"&&R.stack!=="method"&&r.token[r.begin[s.count]]==="("&&r.token[r.begin[s.count]-1]!=="return"&&r.types[r.begin[s.count]-1]!=="operator"){return}if(r.stack[s.count]==="expression"&&(r.token[r.begin[s.count]-1]!=="while"||r.token[r.begin[s.count]-1]==="while"&&r.stack[r.begin[s.count]-2]!=="do")){return}if(O!==""&&"=<>+*?|^:&%~,.()]".indexOf(O)>-1&&a===false)return;if(R.types==="comment"){x=s.count;do{x=x-1;}while(x>0&&r.types[x]==="comment");if(x<1)return;R.token=r.token[x];R.types=r.types[x];R.stack=r.stack[x];}if(R.token===void 0||R.types==="start"||R.types==="separator"||R.types==="operator"&&R.token!=="++"&&R.token!=="--"||R.token==="x}"||R.token==="var"||R.token==="let"||R.token==="const"||R.token==="else"||R.token.indexOf("#!/")===0||R.token==="instanceof"){return}if(R.stack==="method"&&(r.token[R.begin-1]==="function"||r.token[R.begin-2]==="function")){return}if(h.script.variableList==="list")k.index[k.len]=s.count;e=h.script.correct===true?";":"x;";S="separator";x=s.linesSpace;s.linesSpace=0;ie("");s.linesSpace=x;A();}function v(){let a=s.count;do{a=a-1;}while(a>-1&&r.token[a]==="x}");if(r.stack[a]==="else")return ie("");a=a+1;s.splice({data:r,howmany:0,index:a,record:{begin:r.begin[a],ender:-1,lexer:"script",lines:s.linesSpace,stack:r.stack[a],token:e,types:S}});ie("");}function y(){let a=s.count;if(r.types[a]==="comment"){do{a=a-1;}while(a>0&&r.types[a]==="comment")}if(r.token[a]==="from")a=a-2;if(r.token[a]==="x;"){s.splice({data:r,howmany:1,index:a});}}function m(){z(false);if(N>-1)I();W=Ve({chars:l,end:q,lexer:"script",begin:"/*",start:n,ender:"*/"});n=W[1];if(r.token[s.count]==="var"||r.token[s.count]==="let"||r.token[s.count]==="const"){o=s.pop(r);ie("");s.push(r,o,"");if(r.lines[s.count-2]===0)r.lines[s.count-2]=r.lines[s.count];r.lines[s.count]=0;}else if(W[0]!==""){e=W[0];S=/^\/\*\s*@prettify-ignore-start/.test(e)?"ignore":"comment";if(e.indexOf("# sourceMappingURL=")===2){M[0]=s.count+1;M[1]=e;}s.push(r,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:e,types:S},"");}if(/\/\*\s*global\s+/.test(r.token[s.count])===true&&r.types.indexOf("word")<0){C[0]=r.token[s.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function A(){let a="";const x=se(5,false);const O=s.count;const L=s.linesSpace;if(h.language==="json"||J.length<1||J[J.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(e)===false){return}if(r.stack[s.count]==="do"&&x==="while"&&r.token[s.count]==="}"){return}if(e===";"&&r.token[O-1]==="x{"){a=r.token[r.begin[O-2]-1];if(r.token[O-2]==="do"||r.token[O-2]===")"&&"ifforwhilecatch".indexOf(a)>-1){o=s.pop(r);e=h.script.correct===true?"}":"x}";S="end";d=s.structure[s.structure.length-1];ie("");J.pop();s.linesSpace=L;return}o=s.pop(r);e=h.script.correct===true?"}":"x}";S="end";d=s.structure[s.structure.length-1];ie("");J.pop();e=";";S="end";s.push(r,o,"");s.linesSpace=L;return}e=h.script.correct===true?"}":"x}";S="end";if(r.token[s.count]==="x}")return;if(r.stack[s.count]==="if"&&(r.token[s.count]===";"||r.token[s.count]==="x;")&&x==="else"){d=s.structure[s.structure.length-1];ie("");J.pop();s.linesSpace=L;return}do{d=s.structure[s.structure.length-1];ie("");J.pop();if(r.stack[s.count]==="do")break}while(J[J.length-1]==="x{");s.linesSpace=L;}function j(){let a=s.count;if(r.stack[a]==="object"&&h.script.objectSort===true){e=",";S="separator";y();ie("");}else {do{a=a-1;}while(a>0&&r.types[a-1]==="comment");s.splice({data:r,howmany:0,index:a,record:{begin:r.begin[a],ender:-1,lexer:"script",lines:s.linesSpace,stack:r.stack[a],token:",",types:"separator"}});ie("");}}function Z(a){let x=false;let O=false;const L=se(1,false);const R=r.token[s.count]==="("?s.count:r.begin[s.count];function F(){let B=0;const ae=r.token[R-1]==="Array";const Se=ae===true?"[":"{";const ee=ae===true?"]":"}";const me=ae===true?"array":"object";if(ae===true&&r.types[s.count]==="number"){B=Number(r.token[s.count]);o=s.pop(r);}o=s.pop(r);o=s.pop(r);o=s.pop(r);s.structure.pop();e=Se;S="start";ie(me);if(B>0){e=",";S="separator";do{ie("");B=B-1;}while(B>0)}e=ee;S="end";ie("");}if(N>-1)I();if(p.length>0){if(p[p.length-1]===0){p.pop();}else {p[p.length-1]=p[p.length-1]-1;}}if(u(a,41)||a==="x)"||u(a,93)){if(h.script.correct===true)re();y();}if(u(a,41)||a==="x)")z(false);if(k.len>-1){if(u(a,125)&&(h.script.variableList==="list"&&k.count[k.len]===0||r.token[s.count]==="x;"&&h.script.variableList==="each")){Q();}k.count[k.len]=k.count[k.len]-1;if(k.count[k.len]<0)Q();}if(u(e,44)&&r.stack[s.count]!=="initializer"&&(u(a,93)&&u(r.token[s.count-1],91)||u(a,125))){o=s.pop(r);}if(u(a,41)||a==="x)"){e=a;if(K.length>0){P=K[K.length-1];if(P.length>1&&V(L,123)&&(P[0]==="if"||P[0]==="for"||P[0]==="with"||P[0]==="while"&&r.stack[P[1]-2]!==void 0&&r.stack[P[1]-2]!=="do")){x=true;}}}else if(u(a,93)){e="]";}else if(u(a,125)){if(V(e,44)&&h.script.correct===true)re();if(s.structure.length>0&&s.structure[s.structure.length-1][0]!=="object")z(true);if((h.script.objectSort===true||h.language==="json"&&h.json.objectSort===true)&&s.structure[s.structure.length-1][0]==="object"){s.sortObject(r);}if(S==="comment"){e=r.token[s.count];S=r.types[s.count];}e="}";}if(s.structure[s.structure.length-1][0]==="data_type"){S="type_end";}else {S="end";}K.pop();d=s.structure[s.structure.length-1];if(u(a,41)&&h.script.correct===true&&R-s.count<2&&(u(r.token[s.count],40)||r.types[s.count]==="number")&&(r.token[R-1]==="Array"||r.token[R-1]==="Object")&&r.token[R-2]==="new"){F();O=true;}if(J[J.length-1]==="x{"&&u(a,125)){A();J.pop();if(r.stack[s.count]!=="try"){if(V(L,58)&&V(L,59)&&r.token[r.begin[n]-1]!=="?")A();}e="}";}else {J.pop();}if(h.script.endComma!==void 0&&h.script.endComma!=="none"&&s.structure[s.structure.length-1][0]==="array"||s.structure[s.structure.length-1][0]==="object"||s.structure[s.structure.length-1][0]==="data_type"){if(h.script.endComma==="always"&&r.token[s.count]!==","){const B=s.structure[s.structure.length-1][1];let ae=s.count;do{if(r.begin[ae]===B){if(u(r.token[ae],44))break}else {ae=r.begin[ae];}ae=ae-1;}while(ae>B);if(ae>B){const Se=S;const ee=e;e=",";S="separator";ie("");e=ee;S=Se;}}else if(h.script.endComma==="never"&&u(r.token[s.count],44)){s.pop(r);}}if(O===false){ie("");if(e==="}"&&r.stack[s.count]!=="object"&&r.stack[s.count]!=="class"&&r.stack[s.count]!=="data_type"){C.pop();A();}}if(x===true){e=h.script.correct===true?"{":"x{";S="start";ie(P[0]);J.push("x{");P[1]=s.count;}w.pop();if(s.structure[s.structure.length-1][0]!=="data_type")w[w.length-1]=false;}function Y(a,x,O){let L=0;let R=false;let F=false;let B=[a];let ae;const Se=x.split(b);const ee=Se.length;const me=n;const D=n+a.length;const _=h.script.quoteConvert===void 0?"none":h.script.quoteConvert;function X(){let ce=0;B=[];S=O;L=n;if(O==="string"&&/\s/.test(l[L+1])===true){ce=1;do{L=L+1;if(l[L]==="\n")ce=ce+1;}while(L<q&&/\s/.test(l[L+1])===true);s.linesSpace=ce;}}function G(){let ce=b;function ve(oe){if(h.language!=="javascript"&&h.language!=="typescript"&&h.language!=="jsx"&&h.language!=="tsx"){const U=he=>he.replace(/\s*$/," ");const pe=he=>he.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(oe)||/\}%(>|\])/.test(oe))return oe;oe=oe.replace(/\{((\{+)|%-?)\s*/g,U);oe=oe.replace(/\s*((\}\}+)|(-?%\}))/g,pe);return oe}return oe}if(u(a,34)&&_==="single"){B[0]="'";B[B.length-1]="'";}else if(u(a,39)&&_==="double"){B[0]='"';B[B.length-1]='"';}else if(R===true){ce=B[B.length-1];B.pop();B.pop();B.push(ce);}n=L;if(x==="\n"){n=n-1;B.pop();}e=B.join(b);if(u(a,34)||u(a,39)||a==="{{"||a==="{%"){e=ve(e);}if(a==="{%"||a==="{{"){ae=We(e);S=ae[0];ie(ae[1]);return}if(O==="string"){S="string";if(h.language==="json"){e=e.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(a.indexOf("#!")===0){e=e.slice(0,e.length-1);s.linesSpace=2;}else if(s.structure[s.structure.length-1][0]!=="object"||s.structure[s.structure.length-1][0]==="object"&&se(1,false)!==":"&&V(r.token[s.count],44)&&V(r.token[s.count],123)){if(e.length>h.wrap&&h.wrap>0||h.wrap!==0&&r.token[s.count]==="+"&&(r.token[s.count-1].charAt(0)==='"'||r.token[s.count-1].charAt(0)==="'")){let oe=e;let U="";let pe=_==="double"?'"':_==="single"?"'":oe.charAt(0);const he=h.wrap;const je=/u[0-9a-fA-F]{4}/;const Qe=/x[0-9a-fA-F]{2}/;oe=oe.slice(1,oe.length-1);if(r.token[s.count]==="+"&&(r.token[s.count-1].charAt(0)==='"'||r.token[s.count-1].charAt(0)==="'")){s.pop(r);pe=r.token[s.count].charAt(0);oe=r.token[s.count].slice(1,r.token[s.count].length-1)+oe;s.pop(r);}if(oe.length>he&&he>0){do{U=oe.slice(0,he);if(U.charAt(he-5)==="\\"&&je.test(oe.slice(he-4,he+1))){U=U.slice(0,he-5);}else if(U.charAt(he-4)==="\\"&&je.test(oe.slice(he-3,he+2))){U=U.slice(0,he-4);}else if(U.charAt(he-3)==="\\"&&(je.test(oe.slice(he-2,he+3))||Qe.test(oe.slice(he-2,he+1)))){U=U.slice(0,he-3);}else if(U.charAt(he-2)==="\\"&&(je.test(oe.slice(he-1,he+4))||Qe.test(oe.slice(he-1,he+2)))){U=U.slice(0,he-2);}else if(U.charAt(he-1)==="\\"){U=U.slice(0,he-1);}U=pe+U+pe;oe=oe.slice(U.length-2);e=U;S="string";ie(b);s.linesSpace=0;e="+";S="operator";ie(b);}while(oe.length>he)}if(oe===b){e=pe+pe;}else {e=pe+oe+pe;}S="string";}}}else if(/\{\s*\?>$/.test(e)){S="template_start";}else {S=O;}if(e.length>0)ie(b);}if(N>-1)I();if(l[n-1]==="\\"&&we(n-1)===true&&(u(l[n],34)||u(l[n],39))){s.pop(r);if(u(r.token[0],123)){if(u(l[n],34)){a='"';x='\\"';B=['"'];}else {a="'";x="\\'";B=["'"];}R=true;}else {if(u(l[n],34)){B=['\\"'];G();return}B=["\\'"];G();return}}L=D;if(L<q){do{if(V(r.token[0],123)&&V(r.token[0],91)&&_!=="none"&&(u(l[L],34)||u(l[L],39))){if(l[L-1]==="\\"){if(we(L-1)===true){if(_==="double"&&u(l[L],39)){B.pop();}else if(_==="single"&&u(l[L],34)){B.pop();}}}else if(_==="double"&&u(l[L],34)&&u(l[n],39)){l[L]='\\"';}else if(_==="single"&&u(l[L],39)&&u(l[n],34)){l[L]="\\'";}B.push(l[L]);}else if(L>me){F=true;if(u(l[L],123)&&u(l[L+1],37)&&l[L+2]!==a){G();Y("{%","%}","template");X();}else if(u(l[L],123)&&u(l[L+1],123)&&l[L+2]!==a){G();Y("{{","}}","template");X();}else {F=false;B.push(l[L]);}}else {B.push(l[L]);}if(h.language!=="json"&&h.language!=="javascript"&&(u(a,34)||u(a,39))&&(F===true||L>me)&&l[L-1]!=="\\"&&V(l[L],34)&&V(l[L],39)&&(u(l[L],10)||L===q-1===true)){s.error="Unterminated string in script on line number "+s.lineNumber;break}if(l[L]===Se[ee-1]&&(l[L-1]!=="\\"||we(L-1)===false)){if(ee===1)break;if(B[L-D]===Se[0]&&B.slice(L-D-ee+2).join("")===x)break}L=L+1;}while(L<q)}G();}function ue(){z(false);A();if(N>-1)I();W=Ye({chars:l,end:q,lexer:"script",begin:"//",start:n,ender:"\n"});n=W[1];if(W[0]!==""){e=W[0];S=/^(\/\/\s*@prettify-ignore-start)/.test(e)?"ignore":"comment";if(e.indexOf("# sourceMappingURL=")===2){M[0]=s.count+1;M[1]=e;}s.push(r,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:e,types:S},"");}}function te(){let a=0;let x=false;let O=false;let L=0;let R=0;let F=0;let B="";let ae="";let Se="";const ee=[];const me=w[w.length-1];const D="0123456789=<>+-*?|^:&.,;%(){}[]~";function _(){if(e==="(")s.structure[s.structure.length-1]=["paren",s.count];E.lexers.markup(ee.join(""));}if(N>-1)I();ae=s.count>0?r.token[s.count-1]:"";Se=s.count>0?r.types[s.count-1]:"";B=se(1,false);if(h.language!=="jsx"&&h.language!=="tsx"&&/\d/.test(B)===false&&(e==="function"||ae==="=>"||ae==="void"||ae==="."||r.stack[s.count]==="arguments"||S==="type"&&ae==="type"||S==="reference"&&(Se==="operator"||ae==="function"||ae==="class"||ae==="new")||S==="type"&&Se==="operator"||e==="return"||S==="operator")){const X=[];let G=0;let ce=0;a=n;do{X.push(l[a]);if(l[a]==="<"){G=G+1;}else if(l[a]===">"){G=G-1;if(G<1)break}a=a+1;}while(a<q);ce=n;n=a;B=se(1,false);if(l[a]===">"&&(me===true||ae==="=>"||ae==="."||Se!=="operator"||Se==="operator"&&(B==="("||B==="="))){S="generic";e=X.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");ie("");return}n=ce;}a=s.count;if(r.types[a]==="comment"){do{a=a-1;}while(a>0&&r.types[a]==="comment")}if(me===false&&se(1,false)!==">"&&(l[n]!=="<"&&D.indexOf(l[n+1])>-1||r.token[a]==="++"||r.token[a]==="--"||/\s/.test(l[n+1])===true||/\d/.test(l[n+1])===true&&(S==="operator"||S==="string"||S==="number"||S==="reference"||S==="word"&&e!=="return"))){S="operator";e=ne();return ie("")}if(h.language!=="typescript"&&(r.token[a]==="return"||r.types[a]==="operator"||r.types[a]==="start"||r.types[a]==="separator"||r.types[a]==="jsx_attribute_start"||r.token[a]==="}"&&s.structure[s.structure.length-1][0]==="global")){S="markup";h.language="jsx";do{ee.push(l[n]);if(l[n]==="{"){R=R+1;x=true;}else if(l[n]==="}"){R=R-1;if(R===0)x=false;}else if(l[n]==="<"&&x===false){if(l[n+1]==="<"){do{ee.push(l[n]);n=n+1;}while(n<q&&l[n+1]==="<")}L=L+1;if(se(1,false)==="/")O=true;}else if(l[n]===">"&&x===false){if(l[n+1]===">"){do{ee.push(l[n]);n=n+1;}while(l[n+1]===">")}L=L-1;if(O===true){F=F-1;}else if(l[n-1]!=="/"){F=F+1;}if(L===0&&R===0&&F<1){B=se(2,false);if(B.charAt(0)!=="<")return _();if(B.charAt(0)==="<"&&D.indexOf(B.charAt(1))<0&&/\s/.test(B.charAt(1))===false){a=n+1;do{a=a+1;if(l[a]===">"||/\s/.test(l[a-1])&&D.indexOf(l[a])<0)break;if(D.indexOf(l[a])>-1)return _()}while(a<q)}else {return _()}}O=false;}n=n+1;}while(n<q);return _()}S="operator";e=ne();ie("");}function se(a,x){let O=x===true?n:n+1;let L="";if(typeof a!=="number"||a<1)a=1;if(l[n]==="/"){if(l[n+1]==="/"){L="\n";}else if(l[n+1]==="*"){L="/";}}if(O<q){do{if(/\s/.test(l[O])===false){if(l[O]==="/"){if(L===""){if(l[O+1]==="/"){L="\n";}else if(l[O+1]==="*"){L="/";}}else if(L==="/"&&l[O-1]==="*"){L="";}}if(L===""&&l[O-1]+l[O]!=="*/")return l.slice(O,O+a).join("")}else if(L==="\n"&&l[O]==="\n"){L="";}O=O+1;}while(O<q)}return ""}function Pe(){const a=q;const x=[l[n]];let O=0;let L=/zz/;let R=x[0]===".";if(n<q-2&&l[n]==="0"){if(l[n+1]==="x"){L=/[0-9a-fA-F]/;}else if(l[n+1]==="o"){L=/[0-9]/;}else if(l[n+1]==="b"){L=/0|1/;}if(L.test(l[n+2])===true){x.push(l[n+1]);O=n+1;do{O=O+1;x.push(l[O]);}while(L.test(l[O+1])===true);n=O;return x.join("")}}O=n+1;if(O<a){do{if(/[0-9]/.test(l[O])||l[O]==="."&&R===false){x.push(l[O]);if(l[O]===".")R=true;}else {break}O=O+1;}while(O<a)}if(O<a-1&&(/\d/.test(l[O-1])===true||/\d/.test(l[O-2])===true&&(l[O-1]==="-"||l[O-1]==="+"))&&(l[O]==="e"||l[O]==="E")){x.push(l[O]);if(l[O+1]==="-"||l[O+1]==="+"){x.push(l[O+1]);O=O+1;}R=false;O=O+1;if(O<a){do{if(/[0-9]/.test(l[O])||l[O]==="."&&R===false){x.push(l[O]);if(l[O]===".")R=true;}else {break}O=O+1;}while(O<a)}}n=O-1;return x.join("")}function ne(){let a=0;let x=0;let O=q;let L="";const R=["=","<",">","+","*","?","|","^",":","&","%","~"];const F=R.length;if(N>-1)I();if(l[n]==="/"&&(s.count>-1&&(S!=="word"&&S!=="reference"||e==="typeof"||e==="return"||e==="else")&&S!=="number"&&S!=="string"&&S!=="end")){if(e==="return"||e==="typeof"||e==="else"||S!=="word"){e=Ce();S="regex";}else {e="/";S="operator";}ie("");return "regex"}if(l[n]==="?"&&("+-*/.?".indexOf(l[n+1])>-1||l[n+1]===":"&&R.join("").indexOf(l[n+2])<0)){if(l[n+1]==="."&&/\d/.test(l[n+2])===false){L="?.";}else if(l[n+1]==="?"){L="??";}if(L==="")return "?"}if(l[n]===":"&&"+-*/".indexOf(l[n+1])>-1)return ":";if(n<q-1){if(l[n]!=="<"&&l[n+1]==="<")return l[n];if(l[n]==="!"&&l[n+1]==="/")return "!";if(l[n]==="-"){w[w.length-1]=false;if(l[n+1]==="-"){L="--";}else if(l[n+1]==="="){L="-=";}else if(l[n+1]===">"){L="->";}if(L==="")return "-"}if(l[n]==="+"){w[w.length-1]=false;if(l[n+1]==="+"){L="++";}else if(l[n+1]==="="){L="+=";}if(L==="")return "+"}if(l[n]==="="&&l[n+1]!=="="&&l[n+1]!=="!"&&l[n+1]!==">"){w[w.length-1]=false;return "="}}if(l[n]===":"){if(h.language==="typescript"){if(r.stack[s.count]==="arguments"){if(r.token[s.count]==="?"){s.pop(r);L="?:";n=n-1;}w[w.length-1]=true;}else if(e===")"&&(r.token[r.begin[s.count]-1]==="function"||r.token[r.begin[s.count]-2]==="function")){w[w.length-1]=true;}else if(S==="reference"){a=s.count;let B=false;do{if(r.begin[a]===r.begin[s.count]){if(a<s.count&&r.token[a]===":"&&r.types[a+1]!=="type")B=true;if(r.token[a]==="?"&&B===false)break;if(r.token[a]===";"||r.token[a]==="x;")break;if(r.token[a]==="var"||r.token[a]==="let"||r.token[a]==="const"||r.types[a]==="type"){w[w.length-1]=true;break}}else {if(r.types[a]==="type_end"){w[w.length-1]=true;break}a=r.begin[a];}a=a-1;}while(a>r.begin[s.count])}}else if(r.token[s.count-1]==="["&&(r.types[s.count]==="word"||r.types[s.count]==="reference")){s.structure[s.structure.length-1][0]="attribute";r.stack[s.count]="attribute";}}if(L===""){if(l[n+1]==="+"&&l[n+2]==="+"||l[n+1]==="-"&&l[n+2]==="-"){L=l[n];}else {const B=[l[n]];a=n+1;if(a<O){do{if(l[a]==="+"&&l[a+1]==="+"||l[a]==="-"&&l[a+1]==="-")break;x=0;if(x<F){do{if(l[a]===R[x]){B.push(R[x]);break}x=x+1;}while(x<F)}if(x===F)break;a=a+1;}while(a<O)}L=B.join("");}}n=n+(L.length-1);if(L==="=>"&&e===")"){a=s.count;O=r.begin[a];do{if(r.begin[a]===O)r.stack[a]="method";a=a-1;}while(a>O-1)}return L}function re(){let a=true;let x="+";let O="";let L="";let R="";let F=0;let B=0;let ae=0;let Se="";const ee=[];function me(){ae=r.begin[ae]-1;if(r.types[ae]==="end"){me();}else if(r.token[ae-1]==="."){D();}}function D(){ae=ae-2;if(r.types[ae]==="end"){me();}else if(r.token[ae-1]==="."){D();}}function _(){let G=0;const ce=ee.length;if(G<ce){do{s.push(r,ee[G],"");G=G+1;}while(G<ce)}}function X(G){const ce=st(null);ce.begin=r.begin[G];ce.ender=r.ender[G];ce.lexer=r.lexer[G];ce.lines=r.lines[G];ce.stack=r.stack[G];ce.token=r.token[G];ce.types=r.types[G];return ce}O=r.token[s.count];L=r.token[s.count-1];R=r.token[s.count-2];if(O!=="++"&&O!=="--"&&L!=="++"&&L!=="--"){ae=s.count;if(r.types[ae]==="end"){me();}else if(r.token[ae-1]==="."){D();}}if(r.token[ae-1]==="++"||r.token[ae-1]==="--"){if("startendoperator".indexOf(r.types[ae-2])>-1)return;F=ae;if(F<s.count+1){do{ee.push(X(F));F=F+1;}while(F<s.count+1);s.splice({data:r,howmany:s.count-ae,index:ae});}}else {if(h.script.correct===false||O!=="++"&&O!=="--"&&L!=="++"&&L!=="--"){return}Se=se(1,false);if((O==="++"||O==="--")&&(l[n]===";"||Se===";"||l[n]==="}"||Se==="}"||l[n]===")"||Se===")")){x=r.stack[s.count];if(x==="array"||x==="method"||x==="object"||x==="paren"||x==="notation"||r.token[r.begin[s.count]-1]==="while"&&x!=="while"){return}F=s.count;do{F=F-1;if(r.token[F]==="return")return;if(r.types[F]==="end"){do{F=r.begin[F]-1;}while(r.types[F]==="end"&&F>0)}}while(F>0&&(r.token[F]==="."||r.types[F]==="word"||r.types[F]==="reference"||r.types[F]==="end"));if(r.token[F]===","&&l[n]!==";"&&Se!==";"&&l[n]!=="}"&&Se!=="}"&&l[n]!==")"&&Se!==")"){return}if(r.types[F]==="operator"){if(r.stack[F]==="switch"&&r.token[F]===":"){do{F=F-1;if(r.types[F]==="start"){B=B-1;if(B<0)break}else if(r.types[F]==="end"){B=B+1;}if(r.token[F]==="?"&&B===0)return}while(F>0)}else {return}}a=false;x=O==="--"?"-":"+";}else if(R==="["||R===";"||R==="x;"||R==="}"||R==="{"||R==="("||R===")"||R===","||R==="return"){if(O==="++"||O==="--"){if(R==="["||R==="("||R===","||R==="return")return;if(O==="--")x="-";a=false;}else if(L==="--"||O==="--"){x="-";}}else {return}if(a===false)o=s.pop(r);ae=s.count;if(r.types[ae]==="end"){me();}else if(r.token[ae-1]==="."){D();}F=ae;if(F<s.count+1){do{ee.push(X(F));F=F+1;}while(F<s.count+1)}}if(a===true){s.splice({data:r,howmany:1,index:ae-1});e="=";S="operator";ie("");_();e=x;S="operator";ie("");e="1";S="number";ie("");}else {e="=";S="operator";ie("");_();e=x;S="operator";ie("");e="1";S="number";ie("");}e=r.token[s.count];S=r.types[s.count];if(Se==="}"&&l[n]!==";")z(false);}function ie(a){s.push(r,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:e,types:S},a);}function Ce(){let a=n+1;let x=0;let O=0;let L="";let R=false;const F=q;const B=["/"];if(a<F){do{B.push(l[a]);if(l[a-1]!=="\\"||l[a-2]==="\\"){if(l[a]==="["){R=true;}if(l[a]==="]"){R=false;}}if(l[a]==="/"&&R===false){if(l[a-1]==="\\"){O=0;x=a-1;if(x>0){do{if(l[x]==="\\"){O=O+1;}else {break}x=x-1;}while(x>0)}if(O%2===0){break}}else {break}}a=a+1;}while(a<F)}if(l[a+1]==="g"||l[a+1]==="i"||l[a+1]==="m"||l[a+1]==="y"||l[a+1]==="u"){B.push(l[a+1]);if(l[a+2]!==l[a+1]&&(l[a+2]==="g"||l[a+2]==="i"||l[a+2]==="m"||l[a+2]==="y"||l[a+2]==="u")){B.push(l[a+2]);if(l[a+3]!==l[a+1]&&l[a+3]!==l[a+2]&&(l[a+3]==="g"||l[a+3]==="i"||l[a+3]==="m"||l[a+3]==="y"||l[a+3]==="u")){B.push(l[a+3]);if(l[a+4]!==l[a+1]&&l[a+4]!==l[a+2]&&l[a+4]!==l[a+3]&&(l[a+4]==="g"||l[a+4]==="i"||l[a+4]==="m"||l[a+4]==="y"||l[a+4]==="u")){B.push(l[a+4]);if(l[a+5]!==l[a+1]&&l[a+5]!==l[a+2]&&l[a+5]!==l[a+3]&&l[a+5]!==l[a+4]&&(l[a+5]==="g"||l[a+5]==="i"||l[a+5]==="m"||l[a+5]==="y"||l[a+5]==="u")){B.push(l[a+4]);n=a+5;}else {n=a+4;}}else {n=a+3;}}else {n=a+2;}}else {n=a+1;}}else {n=a;}L=B.join("");return L}function we(a){const x=a;do{a=a-1;}while(l[a]==="\\"&&a>0);return (x-a)%2===1}function H(a){let x=s.count;let O="";let L="";let R="";let F=false;J.push(a);if(a==="{"&&(r.types[s.count]==="type"||r.types[s.count]==="type_end"||r.types[s.count]==="generic")){let B=0;if(r.types[s.count]==="type_end")x=r.begin[s.count];B=x;do{x=x-1;if(r.begin[x]!==B&&r.begin[x]!==-1)break;if(r.token[x]===":")break}while(x>r.begin[x]);if(r.token[x]===":"&&r.stack[x-1]==="arguments"){w.push(false);F=true;}else {w.push(w[w.length-1]);}x=s.count;}else if(a==="["&&r.types[s.count]==="type_end"){w.push(true);}else {w.push(w[w.length-1]);}if(N>-1){I();x=s.count;}if(k.len>-1)k.count[k.len]=k.count[k.len]+1;if(r.token[x-1]==="function"){K.push(["function",x+1]);}else {K.push([e,x+1]);}e=a;if(w[w.length-1]===true){S="type_start";}else {S="start";}if(a==="("||a==="x("){y();}else if(a==="{"){if(g>-1){if(r.begin[g-1]===r.begin[r.begin[x]-1]||r.token[r.begin[x]]==="x("){g=-1;if(h.script.correct===true){Z(")");}else {Z("x)");}y();e="{";S="start";}}else if(e===")"){y();}if(S==="comment"&&r.token[x-1]===")"){e=r.token[x];r.token[x]="{";S=r.types[x];r.types[x]="start";}}O=(()=>{let B=s.count;if(r.types[B]==="comment"){do{B=B-1;}while(B>0&&r.types[B]==="comment")}return r.token[B]})();L=r.stack[x]===void 0?"":(()=>{let B=s.count;if(r.types[B]==="comment"){do{B=B-1;}while(B>0&&r.types[B]==="comment")}return r.token[r.begin[B]-1]})();if(u(e,123)&&(r.types[x]==="word"||r.token[x]==="]")){let B=x;if(r.token[B]==="]"){do{B=r.begin[B]-1;}while(r.token[B]==="]")}do{if(r.types[B]==="start"||r.types[B]==="end"||r.types[B]==="operator")break;B=B-1;}while(B>0);if(r.token[B]===":"&&r.stack[B-1]==="arguments"){R="function";C.push(t);t=[];}}if(S==="type_start"){R="data_type";}else if(R===""&&(u(e,123)||e==="x{")){if(O==="else"||O==="do"||O==="try"||O==="finally"||O==="switch"){R=O;}else if(p[p.length-1]===0&&O!=="return"){p.pop();R="class";}else if(r.token[x-1]==="class"){R="class";}else if(r.token[x]==="]"&&r.token[x-1]==="["){R="array";}else if((r.types[x]==="word"||r.types[x]==="reference")&&(r.types[x-1]==="word"||r.types[x-1]==="reference"||r.token[x-1]==="?"&&(r.types[x-2]==="word"||r.types[x-2]==="reference"))&&r.token[x]!=="in"&&r.token[x-1]!=="export"&&r.token[x-1]!=="import"){R="map";}else if(r.stack[x]==="method"&&r.types[x]==="end"&&(r.types[r.begin[x]-1]==="word"||r.types[r.begin[x]-1]==="reference")&&r.token[r.begin[x]-2]==="new"){R="initializer";}else if(u(e,123)&&(u(O,41)||O==="x)")&&(r.types[r.begin[x]-1]==="word"||r.types[r.begin[x]-1]==="reference"||r.token[r.begin[x]-1]==="]")){if(L==="if"){R="if";}else if(L==="for"){R="for";}else if(L==="while"){R="while";}else if(L==="class"){R="class";}else if(L==="switch"||r.token[r.begin[x]-1]==="switch"){R="switch";}else if(L==="catch"){R="catch";}else {R="function";}}else if(u(e,123)&&(O===";"||O==="x;")){R="block";}else if(u(e,123)&&r.token[x]===":"&&r.stack[x]==="switch"){R="block";}else if(r.token[x-1]==="import"||r.token[x-2]==="import"||r.token[x-1]==="export"||r.token[x-2]==="export"){R="object";}else if(u(O,41)&&(P[0]==="function"||P[0]==="if"||P[0]==="for"||P[0]==="class"||P[0]==="while"||P[0]==="switch"||P[0]==="catch")){R=P[0];}else if(r.stack[x]==="notation"){R="function";}else if((r.types[x]==="number"||r.types[x]==="string"||r.types[x]==="word"||r.types[x]==="reference")&&(r.types[x-1]==="word"||r.types[x-1]==="reference")&&r.token[r.begin[x]-1]!=="for"){R="function";}else if(s.structure.length>0&&r.token[x]!==":"&&s.structure[s.structure.length-1][0]==="object"&&(r.token[r.begin[x]-2]==="{"||r.token[r.begin[x]-2]===",")){R="function";}else if(r.types[P[1]-1]==="markup"&&r.token[P[1]-3]==="function"){R="function";}else if(O==="=>"){R="function";}else if(F===true||r.types[s.count]==="type_end"&&r.stack[r.begin[s.count]-2]==="arguments"){R="function";}else if(u(O,41)&&r.stack[x]==="method"&&(r.types[r.begin[x]-1]==="word"||r.types[r.begin[x]-1]==="property"||r.types[r.begin[x]-1]==="reference")){R="function";}else if(r.types[x]==="word"&&u(e,123)&&r.token[x]!=="return"&&r.token[x]!=="in"&&r.token[x]!=="import"&&r.token[x]!=="const"&&r.token[x]!=="let"&&r.token[x]!==""){R="block";}else if(u(e,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(r.stack[x])>-1&&(r.token[x]==="x}"||r.token[x]==="}")){R="block";}else if(r.stack[x]==="arguments"){R="function";}else if(r.types[x]==="generic"){do{x=x-1;if(r.token[x]==="function"||r.stack[x]==="arguments"){R="function";break}if(r.token[x]==="interface"){R="map";break}if(r.token[x]===";"){R="object";break}}while(x>r.begin[s.count])}else {R="object";}if(R!=="object"&&R!=="class"){if(R==="function"){C.push(t);t=[];}else {C.push([]);}}}else if(e==="["){R="array";}else if(e==="("||e==="x("){if(O==="function"||r.token[x-1]==="function"||r.token[x-1]==="function*"||r.token[x-2]==="function"){R="arguments";}else if(r.token[x-1]==="."||r.token[r.begin[x]-2]==="."){R="method";}else if(r.types[x]==="generic"){R="method";}else if(r.token[x]==="}"&&r.stack[x]==="function"){R="method";}else if(O==="if"||O==="for"||O==="class"||O==="while"||O==="catch"||O==="finally"||O==="switch"||O==="with"){R="expression";}else if(r.types[x]==="word"||r.types[x]==="property"||r.types[x]==="reference"){R="method";}else {R="paren";}}ie(R);if(p.length>0)p[p.length-1]=p[p.length-1]+1;}function ye(){const a=[l[n]];n=n+1;if(n<q){do{a.push(l[n]);if(l[n]==="`"&&(l[n-1]!=="\\"||we(n-1)===false))break;if(l[n-1]==="$"&&l[n]==="{"&&(l[n-2]!=="\\"||we(n-2)===false))break;n=n+1;}while(n<q)}return a.join("")}function We(a){let x=2;let O=0;let L="";const R=a.slice(0,2);const F=a.length;if(a.charAt(2)==="-")x=x+1;if(/\s/.test(a.charAt(x))===true){do{x=x+1;}while(/\s/.test(a.charAt(x))===true&&x<F)}O=x;do{O=O+1;}while(/\s/.test(a.charAt(O))===false&&a.charAt(O)!=="("&&O<F);if(O===F)O=a.length-2;L=a.slice(x,O);if(L==="else"||R==="{%"&&(L==="elseif"||L==="when"||L==="elif"||L==="elsif")){return ["template_else",`template_${L}`]}if(R==="{{"){if(L==="end")return ["template_end",""];if(L==="block"&&/\{%\s*\w/.test(f)===false||L==="define"||L==="form"||L==="if"||L==="unless"||L==="range"||L==="with"){return ["template_start",`template_${L}`]}return ["template",""]}O=T.length-1;if(O>-1){do{if(L===T[O]&&(L!=="block"||/\{%\s*\w/.test(f)===false)){return ["template_start",`template_${L}`]}if(L==="end"+T[O]){return ["template_end",""]}O=O-1;}while(O>-1)}return ["template",""]}function Q(){k.count.pop();k.index.pop();k.word.pop();k.len=k.len-1;}function I(){let a=N;let x=1;let O="";let L="";let R=e;let F=S;const B=[];function ae(){J.push("x{");s.splice({data:r,howmany:1,index:s.count-3});}function Se(ee,me,D){const _=r.begin[ee];let X=0;do{if(r.token[ee]===me&&r.types[ee]==="word"){if(D===true){r.types[ee]="reference";}else if(r.begin[ee]>_&&r.token[r.begin[ee]]==="{"&&r.stack[ee]!=="object"&&r.stack[ee]!=="class"&&r.stack[ee]!=="data_type"){if(r.stack[ee]==="function"){r.types[ee]="reference";}else {X=r.begin[ee];do{if(r.stack[X]==="function"){r.types[ee]="reference";break}X=r.begin[X];}while(X>_)}}}ee=ee-1;}while(ee>_)}do{B.push(l[a]);if(l[a]==="\\"){s.error=`Illegal escape in JavaScript on line number ${s.lineNumber}`;}a=a+1;}while(a<n);if(e.charAt(0)==="\u201C"){s.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${s.lineNumber}`;}else if(e.charAt(0)==="\u201D"){s.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${s.lineNumber}`;}O=B.join("");N=-1;if(s.count>0&&O==="function"&&r.token[s.count]==="("&&(r.token[s.count-1]==="{"||r.token[s.count-1]==="x{")){r.types[s.count]="start";}if(s.count>1&&O==="function"&&e==="("&&(r.token[s.count-1]==="}"||r.token[s.count-1]==="x}")){if(r.token[s.count-1]==="}"){a=s.count-2;if(a>-1){do{if(r.types[a]==="end"){x=x+1;}else if(r.types[a]==="start"||r.types[a]==="end"){x=x-1;}if(x===0)break;a=a-1;}while(a>-1)}if(r.token[a]==="{"&&r.token[a-1]===")"){x=1;a=a-2;if(a>-1){do{if(r.types[a]==="end"){x=x+1;}else if(r.types[a]==="start"||r.types[a]==="end"){x=x-1;}if(x===0)break;a=a-1;}while(a>-1)}if(r.token[a-1]!=="function"&&r.token[a-2]!=="function"){r.types[s.count]="start";}}}else {r.types[s.count]="start";}}if(h.script.correct===true&&(O==="Object"||O==="Array")&&l[n+1]==="("&&l[n+2]===")"&&r.token[s.count-1]==="="&&r.token[s.count]==="new"){if(O==="Object"){r.token[s.count]="{";e="}";r.stack[s.count]="object";s.structure[s.structure.length-1][0]="object";}else {r.token[s.count]="[";e="]";r.stack[s.count]="array";s.structure[s.structure.length-1][0]="array";}r.types[s.count]="start";S="end";l[n+1]="";l[n+2]="";n=n+2;}else {x=s.count;a=x;if(h.script.variableList!=="none"&&(O==="var"||O==="let"||O==="const")){if(r.types[x]==="comment"){do{x=x-1;}while(x>0&&r.types[x]==="comment")}if(h.script.variableList==="list"&&k.len>-1&&k.index[k.len]===x&&O===k.word[k.len]){e=",";S="separator";r.token[x]=e;r.types[x]=S;k.count[k.len]=0;k.index[k.len]=x;k.word[k.len]=O;return}k.len=k.len+1;k.count.push(0);k.index.push(x);k.word.push(O);x=a;}else if(k.len>-1&&O!==k.word[k.len]&&s.count===k.index[k.len]&&r.token[k.index[k.len]]===";"&&e!==k.word[k.len]&&h.script.variableList==="list"){Q();}if(O==="from"&&r.token[s.count]==="x;"&&r.token[s.count-1]==="}"){y();}if(O==="while"&&r.token[s.count]==="x;"&&r.token[s.count-1]==="}"){let ee=0;let me=s.count-2;if(me>-1){do{if(r.types[me]==="end"){ee=ee+1;}else if(r.types[me]==="start"){ee=ee-1;}if(ee<0){if(r.token[me]==="{"&&r.token[me-1]==="do")y();return}me=me-1;}while(me>-1)}}if(F==="comment"){let ee=s.count;do{ee=ee-1;}while(ee>0&&r.types[ee]==="comment");F=r.types[ee];R=r.token[ee];}L=se(2,false);if(O==="void"){if(R===":"&&r.stack[s.count-1]==="arguments"){S="type";}else {S="word";}}else if((s.structure[s.structure.length-1][0]==="object"||s.structure[s.structure.length-1][0]==="class"||s.structure[s.structure.length-1][0]==="data_type")&&(r.token[s.count]==="{"||r.token[r.begin[s.count]]==="{"&&r.token[s.count]===","||r.types[s.count]==="template_end"&&(r.token[r.begin[s.count]-1]==="{"||r.token[r.begin[s.count]-1]===","))){if(O==="return"||O==="break"){S="word";}else {S="property";}}else if(w[w.length-1]===true||(h.language==="typescript"||h.language==="flow")&&R==="type"){S="type";}else if(C.length>0&&(R==="function"||R==="class"||R==="const"||R==="let"||R==="var"||R==="new"||R==="void")){S="reference";C[C.length-1].push(O);if(h.language==="javascript"||h.language==="jsx"||h.language==="typescript"||h.language==="tsx"){if(R==="var"||R==="function"&&r.types[s.count-1]!=="operator"&&r.types[s.count-1]!=="start"&&r.types[s.count-1]!=="end"){Se(s.count,O,true);}else {Se(s.count,O,false);}}else {Se(s.count,O,false);}}else if(s.structure[s.structure.length-1][0]==="arguments"&&S!=="operator"){S="reference";t.push(O);}else if(R===","&&r.stack[s.count]!=="method"&&(r.stack[s.count]!=="expression"||r.token[r.begin[s.count]-1]==="for")){let ee=s.count;const me=s.structure[s.structure.length-1][1];do{if(r.begin[ee]===me){if(r.token[ee]===";")break;if(r.token[ee]==="var"||r.token[ee]==="let"||r.token[ee]==="const"||r.token[ee]==="type"){break}}else if(r.types[ee]==="end"){ee=r.begin[ee];}ee=ee-1;}while(ee>me);if(C.length>0&&r.token[ee]==="var"){S="reference";C[C.length-1].push(O);if(h.language==="javascript"||h.language==="jsx"||h.language==="typescript"||h.language==="tsx"){Se(ee,O,true);}else {Se(ee,O,false);}}else if(C.length>0&&(r.token[ee]==="let"||r.token[ee]==="const"||r.token[ee]==="type"&&(h.language==="typescript"||h.language==="tsx"))){S="reference";C[C.length-1].push(O);Se(ee,O,false);}else {S="word";}}else if(s.structure[s.structure.length-1][0]!=="object"||s.structure[s.structure.length-1][0]==="object"&&e!==","&&e!=="{"){let ee=C.length;let me=0;if(ee>0){do{ee=ee-1;me=C[ee].length;if(me>0){do{me=me-1;if(O===C[ee][me])break}while(me>0);if(O===C[ee][me])break}}while(ee>0);if(C[ee][me]===O&&R!=="."){S="reference";}else {S="word";}}else {S="word";}}else {S="word";}e=O;if(O==="from"&&r.token[s.count]==="}")y();}ie("");if(O==="class")p.push(0);if(O==="do"){L=se(1,true);if(L!=="{"){e=h.script.correct===true?"{":"x{";S="start";J.push("x{");ie("do");}}if(O==="else"){L=se(2,true);let ee=s.count-1;if(r.types[ee]==="comment"){do{ee=ee-1;}while(ee>0&&r.types[ee]==="comment")}if(r.token[ee]==="x}"){if(r.token[s.count]==="else"){if(r.stack[s.count-1]!=="if"&&r.types[s.count-1]!=="comment"&&r.stack[s.count-1]!=="else"){J.pop();s.splice({data:r,howmany:0,index:s.count-1,record:{begin:r.begin[r.begin[r.begin[s.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:h.script.correct===true?"}":"x}",types:"end"}});if(s.structure.length>1){s.structure.splice(s.structure.length-2,1);s.structure[s.structure.length-1][1]=s.count;}}else if(r.token[s.count-2]==="x}"&&d[0]!=="if"&&r.stack[s.count]==="else"){ae();}else if(r.token[s.count-2]==="}"&&r.stack[s.count-2]==="if"&&d[0]==="if"&&r.token[d[1]-1]!=="if"&&r.token[r.begin[s.count-1]]==="x{"){ae();}}else if(r.token[s.count]==="x}"&&r.stack[s.count]==="if"){ae();}}if(L!=="if"&&L.charAt(0)!=="{"){e=h.script.correct===true?"{":"x{";S="start";J.push("x{");ie("else");}}if((O==="for"||O==="if"||O==="switch"||O==="catch")&&r.token[s.count-1]!=="."){L=se(1,true);if(L!=="("){g=s.count;if(h.script.correct===true){H("(");}else {H("x(");}}}}do{if(/\s/.test(l[n])){if(N>-1)I();n=s.spacer({array:l,end:q,index:n});if(s.linesSpace>1&&e!==";"&&$<s.count&&l[n+1]!=="}"){z(false);$=s.count;}}else if(l[n]==="{"&&l[n+1]==="%"){Y("{%","%}","template");}else if(l[n]==="{"&&l[n+1]==="{"){Y("{{","}}","template");}else if(l[n]==="<"&&l[n+1]==="!"&&l[n+2]==="-"&&l[n+3]==="-"){Y("<!--","-->","comment");}else if(l[n]==="<"){te();}else if(l[n]==="/"&&(n===q-1||l[n+1]==="*")){m();}else if((s.count<0||r.lines[s.count]>0)&&l[n]==="#"&&l[n+1]==="!"&&(l[n+2]==="/"||l[n+2]==="[")){Y("#!"+l[n+2],"\n","string");}else if(l[n]==="/"&&(n===q-1||l[n+1]==="/")){ue();}else if(u(l[n],96)||u(l[n],125)&&s.structure[s.structure.length-1][0]==="template_string"){if(N>-1)I();e=ye();if(u(e,125)&&e.slice(e.length-2)==="${"){S="template_string_else";ie("template_string");}else if(e.slice(e.length-2)==="${"){S="template_string_start";ie("template_string");}else if(u(e[0],125)){S="template_string_end";ie("");}else {S="string";ie("");}}else if(l[n]==='"'||l[n]==="'"){Y(l[n],l[n],"string");}else if(l[n]==="-"&&(n<q-1&&l[n+1]!=="="&&l[n+1]!=="-")&&(S==="number"||S==="word"||S==="reference")&&e!=="return"&&(e===")"||e==="]"||S==="word"||S==="reference"||S==="number")){if(N>-1)I();e="-";S="operator";ie("");}else if(N===-1&&(l[n]!=="0"||l[n]==="0"&&l[n+1]!=="b")&&(/\d/.test(l[n])||n!==q-2&&l[n]==="-"&&l[n+1]==="."&&/\d/.test(l[n+2])||n!==q-1&&(l[n]==="-"||l[n]===".")&&/\d/.test(l[n+1]))){if(N>-1)I();if(S==="end"&&l[n]==="-"){e="-";S="operator";}else {e=Pe();S="number";}ie("");}else if(l[n]===":"&&l[n+1]===":"){if(N>-1)I();if(h.script.correct===true)re();y();n=n+1;e="::";S="separator";ie("");}else if(l[n]===","){if(N>-1)I();if(h.script.correct===true)re();if(w[w.length-1]===true&&r.stack[s.count].indexOf("type")<0){w[w.length-1]=false;}if(S==="comment"){j();}else if(k.len>-1&&k.count[k.len]===0&&h.script.variableList==="each"){y();e=";";S="separator";ie("");e=k.word[k.len];S="word";ie("");k.index[k.len]=s.count;}else {e=",";S="separator";y();ie("");}}else if(l[n]==="."){if(N>-1)I();w[w.length-1]=false;if(l[n+1]==="."&&l[n+2]==="."){e="...";S="operator";n=n+2;}else {y();e=".";S="separator";}if(/\s/.test(l[n-1])===true)s.linesSpace=1;ie("");}else if(l[n]===";"){if(N>-1)I();if(w[w.length-1]===true&&r.stack[s.count].indexOf("type")<0){w[w.length-1]=false;}if(p[p.length-1]===0)p.pop();if(k.len>-1&&k.count[k.len]===0){if(h.script.variableList==="each"){Q();}else {k.index[k.len]=s.count+1;}}if(h.script.correct===true)re();e=";";S="separator";if(r.token[s.count]==="x}"){v();}else {ie("");}A();}else if(l[n]==="("||l[n]==="["||l[n]==="{"){H(l[n]);}else if(l[n]===")"||l[n]==="]"||l[n]==="}"){Z(l[n]);}else if(l[n]==="*"&&r.stack[s.count]==="object"&&N<0&&/\s/.test(l[n+1])===false&&l[n+1]!=="="&&/\d/.test(l[n+1])===false){N=n;}else if(l[n]==="="||l[n]==="&"||l[n]==="<"||l[n]===">"||l[n]==="+"||l[n]==="-"||l[n]==="*"||l[n]==="/"||l[n]==="!"||l[n]==="?"||l[n]==="|"||l[n]==="^"||l[n]===":"||l[n]==="%"||l[n]==="~"){e=ne();if(e==="regex"){e=r.token[s.count];}else if(e==="*"&&r.token[s.count]==="function"){r.token[s.count]="function*";}else {S="operator";if(e!=="!"&&e!=="++"&&e!=="--")y();ie("");}}else if(N<0&&l[n]!==""){N=n;}if(k.len>-1&&s.count===k.index[k.len]+1&&r.token[k.index[k.len]]===";"&&e!==k.word[k.len]&&S!=="comment"&&h.script.variableList==="list"){Q();}n=n+1;}while(n<q);if(N>-1)I();if((r.token[s.count]!=="}"&&r.token[0]==="{"||r.token[0]!=="{")&&(r.token[s.count]!=="]"&&r.token[0]==="["||r.token[0]!=="[")){z(false);}if(M[0]===s.count){e="\n"+M[1];S="string";ie("");}if(r.token[s.count]==="x;"&&(r.token[s.count-1]==="}"||r.token[s.count-1]==="]")&&r.begin[s.count-1]===0){s.pop(r);}h.script=c;return r};E.lexers.markup=function i(f){const{options:h,options:{liquid:c}}=E;const{data:n}=s;const e=h.language==="jsx"||h.language==="tsx";const S=h.language==="html"||h.language==="liquid";const P=h.markup;const $=new Set(c.ignoreTagList);const N=P.attributeSortList.length;const g={end:0,start:0,line:1,index:-1};const t=f.split(b);const o=t.length;let d=0;let W=false;let r;S?h.language:"html";let q=0;function l(y){if(!(S===true&&e===false))return y;if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(y))return y;if(!He(y,3))return y;const m=y.length-3;if(c.delimiterTrims==="force"){if(u(y[1],37)){if(V(y[2],45))y=y.replace(/^{%/,"{%-");if(V(y[m],45))y=y.replace(/%}$/,"-%}");}else {if(V(y[2],45))y=y.replace(/^{{/,"{{-");if(V(y[m],45))y=y.replace(/}}$/,"-}}");}}else if(c.delimiterTrims==="strip"){y=y.replace(/^{%-/,"{%").replace(/-%}$/,"%}").replace(/^{{-/,"{{").replace(/-}}$/,"}}");}else if(c.delimiterTrims==="tags"&&u(y[1],37)){if(V(y[2],45))y=y.replace(/^{%/,"{%-");if(V(y[m],45))y=y.replace(/%}$/,"-%}");}else if(c.delimiterTrims==="outputs"&&u(y[1],123)){if(V(y[2],45))y=y.replace(/^{{/,"{{-");if(V(y[m],45))y=y.replace(/}}$/,"-}}");}if(c.normalizeSpacing===false)return y;if(/^{%-?\s*#/.test(y)||/^{%-?\s*comment/.test(y))return y;if(/{%-?\s*(?:liquid)/.test(y))return y;let A;let j=0;return y.split(/(["']{1})/).map((Z,Y,ue)=>{const te=u(Z[0],34)||u(Z[0],39);if(j>0||te&&j===0&&V(ue[Y-1],92)||te){if(j===0)A=Z.charCodeAt(0);if(j===1&&V(ue[Y-1],92)){if(A===Z.charCodeAt(0))j=2;return Z}if(j!==2){j=j===0?1:j===1?u(ue[Y-1],92)?1:2:0;return Z}j=0;}return Z.replace(ht,le).replace(/^({[{%]-?)/,"$1 ").replace(/([!=]=|[<>]=?)/g," $1 ").replace(new RegExp(" +(?=[|[\\],:.])|(?<=[[.]) +","g"),b).replace(new RegExp("(\\||(?<=[^=!<>])(?:(?<=assign[^=]+)=(?=[^=!<>])|=$))","g")," $1 ").replace(/([:,]$|[:,](?=\S))/g,"$1 ").replace(/(-?[%}]})$/," $1").replace(ht,le)}).join(b)}function K(y){let m=y;do m=m-1;while(u(t[m],92));m=y-m;return m%2===1}function J(y,m,A){if(y===n){if(m.types.indexOf("end")>-1){g.end=g.end+1;}else if(m.types.indexOf("start")>-1){g.start=g.start+1;}}g.index=s.count;g.line=s.lineNumber;s.push(y,m,A);}function p(y,m){if(!de.html.tags.has(y))return false;if(y===m)return true;if(y==="dd"&&m==="dt")return true;if(y==="dt"&&m==="dd")return true;if(y==="td"&&m==="th")return true;if(y==="th"&&m==="td")return true;if(y==="colgroup"&&(m==="tbody"||m==="tfoot"||m==="thead"||m==="tr"))return true;if(y==="tbody"&&(m==="colgroup"||m==="tfoot"||m==="thead"))return true;if(y==="tfoot"&&(m==="colgroup"||m==="tbody"||m==="thead"))return true;if(y==="thead"&&(m==="colgroup"||m==="tbody"||m==="tfoot"))return true;if(y==="tr"&&m==="colgroup")return true;return false}function M(y){return `Parse Error (line ${s.lineNumber}):
${Array.isArray(y)?y.join(b):y}`}function w(y,m){const A=qe(y);const j={begin:s.scope.index,ender:-1,lexer:"markup",lines:n.lines[s.count]>0?1:0,stack:qe(s.scope.token),token:`</${s.scope.token}>`,types:"end"};J(n,j,b);if(de.html.tags.has(s.scope.token)&&(m===true&&s.structure.length>1||m===false&&`/${s.scope.token}`!==A)){do{j.begin=s.scope.index;j.stack=qe(s.scope.token);j.token=`</${s.scope.token}>`;J(n,j,b);}while(de.html.tags.has(s.scope.token)&&(m===true&&s.structure.length>1||m===false&&`/${s.scope.token}`!==A))}}function T(){s.error="Prettify Error:\n\n"+s.error;}function k(y){const m={lexer:"markup",lines:s.linesSpace,stack:s.scope.token!=="global"?qe(s.scope.token):"global",begin:s.scope.index,token:b,types:b,ender:-1};let A=b;let j=b;let Z=b;let Y=b;let ue=b;let te=false;let se=false;let Pe=false;let ne=0;let re=false;let ie=false;let Ce=false;let we=false;let H=[];let ye=[b,0];function We(D){const _=D.indexOf("=");if(_>0){const X=D.indexOf('"');if(_<X&&X>0)return [D.slice(0,_),D.slice(_+1)];const G=D.indexOf("'");if(_<G&&G>0)return [D.slice(0,_),D.slice(_+1)]}return [D,b]}function Q(D){m.lines=n.lines[s.count]>0?1:0;m.token=`</${s.scope.token}>`;m.types="end";J(n,m,b);if(D>0){do{m.begin=s.scope.index;m.stack=qe(s.scope.token);m.token=`</${s.scope.token}>`;J(n,m,b);D=D-1;}while(D>0)}m.begin=s.scope.index;m.lines=s.linesSpace;m.stack=qe(s.scope.token);m.token=A;m.types="end";n.lines[s.count-1]=0;}function I(){if(Z==="end"){const D=n.token[s.count];if(n.types[s.count-1]==="singleton"&&D.charCodeAt(D.length-2)!==47&&`/${qe(D)}`===Y){n.types[s.count-1]="start";}}if(S){if(u(A[0],60)&&V(A[1],33)&&V(A[1],63)&&(s.count<0||n.types[s.count].indexOf("template")<0)){A=A.toLowerCase();}if(de.html.tags.has(s.scope.token)&&p(Y.slice(1),s.structure[s.structure.length-2][0])){Q(0);}else if(s.structure.length>3&&de.html.tags.has(s.scope.token)&&de.html.tags.has(s.structure[s.structure.length-2][0])&&de.html.tags.has(s.structure[s.structure.length-3][0])&&p(Y,s.structure[s.structure.length-4][0])){Q(3);}else if(s.structure.length>2&&de.html.tags.has(s.scope.token)&&de.html.tags.has(s.structure[s.structure.length-2][0])&&p(Y,s.structure[s.structure.length-3][0])){Q(2);}else if(s.structure.length>1&&de.html.tags.has(s.scope.token)&&p(Y,s.structure[s.structure.length-2][0])){Q(1);}else if(p(Y,s.scope.token)){Q(0);}else if(u(Y[0],47)&&de.html.tags.has(s.scope.token)&&s.scope.token!==Y.slice(1)){w(A,false);m.begin=s.scope.index;m.lines=s.linesSpace;m.stack=qe(s.scope.token);m.token=A;m.types="end";n.lines[s.count-1]=0;}if(e===false&&de.html.voids.has(Y)){if(P.correct===true&&/\/>$/.test(A)===false){A=A.slice(0,A.length-1)+" />";}return true}}return false}function a(){if(Z!=="cdata")return F();if(m.stack==="script"||m.stack==="style"){const D=m.stack;let _=s.count;let X=s.count;if(n.types[X]==="attribute"){do{_=_-1;X=X-1;}while(n.types[X]==="attribute"&&X>-1)}m.begin=_;m.token="<![CDATA[";m.types="cdata_start";A=A.replace(/^(\s*<!\[cdata\[)/i,b).replace(/(\]{2}>\s*)$/,b);J(n,m,b);s.structure.push(["cdata",s.count]);if(D==="script"){E.lexers.script(A);}else {E.lexers.style(A);}m.begin=s.scope.index;m.token="]]>";m.types="cdata_end";J(n,m,b);s.structure.pop();}return F()}function x(){if(m.types.indexOf("template")===-1)return a();if(u(A[0],123)&&u(A[1],37)){if(de.liquid.else.has(Y)){m.types="template_else";}else if(de.liquid.tags.has(Y)){m.types="template_start";}else if(Y.startsWith("end")){const D=Y.slice(3);if(de.liquid.tags.has(D)){m.types="template_end";}else {m.stack=D;m.types="template_end";let _=0;do{if(n.types[_]==="template"&&n.stack[_]===D){n.types[_]="template_start";g.start=g.start+1;break}_=n.stack.indexOf(D,_+1);}while(_>-1)}}else {m.stack=Y;}}if(c.quoteConvert==="double"){m.token=m.token.replace(/'/g,'"');}else if(c.quoteConvert==="single"){m.token=m.token.replace(/"/g,"'");}return a()}function O(){if(we&&Pe===false&&Z!=="xml"){if(te===true||de.html.voids.has(Y)||u(A[A.length-2],47)&&u(A[A.length-1],62)){Z="singleton";}else {Z="start";}m.types=Z;}return L()}function L(){let D=b;if(Ct.test(n.token[s.count])){Pe=true;Ce=false;if(Z.indexOf("template")>0&&de.liquid.tags.has(Y)){D=`end${Y}`;}else if(de.html.voids.has(Y)){D=null;}}else if(de.html.voids.has(Y)){D=null;}else if(de.embed("liquid",Y)!==false&&$.has(Y)===true){D=null;}if(D!==null&&Ce===false&&Pe===true&&(y===">"||y==="%}"||y==="}}")){const _=[];if(te===true){Z="singleton";}else {Ce=true;Z="ignore";d=d+1;if(d<o){let X=b;let G=0;let ce=0;let ve=false;do{if(u(t[d],10))s.lineNumber=s.lineNumber+1;_.push(t[d]);if(X===b){X=u(t[d],34)?'"':u(t[d],39)?"'":b;if(V(_[0],123)&&u(t[d],123)&&(u(t[d+1],123)||u(t[d+1],37))){X=t[d+1]+"}";}else if(u(t[d],60)&&we===true){ve=u(t[d+1],47);}else if(t[d]===j&&V(t[d-1],47)){if(ve===true){ne=ne-1;if(ne<0)break}else {ne=ne+1;}}}else if(u(t[d],X.charCodeAt(X.length-1))){ce=0;G=X.length-1;if(u(X[G],125)){if(t.slice(d+(u(t[d+2],45)?3:2),t.indexOf("%",d+2)).join(b).trim().startsWith(D))break}else if(G>-1){do{if(V(t[d-ce],X.charCodeAt(G)))break;ce=ce+1;G=G-1;}while(G>-1)}if(G<0)X=b;}d=d+1;}while(d<o)}}A=A+_.join(b);A=A.replace(">",` ${H.map(([X])=>X).join(le)}>`);H=[];m.token=A;m.types="content-ignore";}return x()}function R(){te=I();if(de.embed("html",Y)===false&&de.embed("liquid",Y)===false||de.embed("liquid",Y)!==false&&$.has(Y)===true){return O()}let D=H.length-1;let _=b;let X;if(D>-1){do{X=We(H[D][0]);if(X[0]==="type"){_=X[1];if(u(_,34)||u(_,39))_=_.slice(1,-1);break}D=D-1;}while(D>-1)}if(u(A,60)&&de.embed("html",Y)){W=true;if(_===b){r=de.html.embed[Y].language;}else if(de.html.embed[Y].value(_)){r=de.html.embed[Y].language;}}else if(Ge(A,true)&&de.embed("liquid",Y)){if($.has(Y)){Pe=true;Ce=false;return L()}W=true;r=de.liquid.embed[Y].language;}if(W===true){D=d+1;if(D<o){do{if(ge(t[D])===false){if(u(t[D],60)){if(t.slice(D+1,D+4).join(b)==="!--"){D=D+4;if(D<o){do{if(ge(t[D])===false){W=false;break}if(u(t[D],10)||u(t[D],13))break;D=D+1;}while(D<o)}}else {W=false;}}break}D=D+1;}while(D<o)}}return O()}function F(){J(n,m,b);const D=s.count;const _=Y.replace(/\/$/,b);const X=P.quoteConvert;let G=0;let ce=0;let ve=0;let oe=0;let U=b;let pe=b;let he=H.length;function je(){if(s.attributes.has(D)){if(G+1===he&&V(m.token[m.token.length-1],62)){m.token=m.token+">";}}let fe=He(m.token,5);if(Pe===true||X==="none"||m.types.indexOf("attribute")<0||fe===false&&X==="single"&&m.token.indexOf('"')<0||fe===false&&X==="double"&&m.token.indexOf("'")<0){J(n,m,b);}else {let Ae=0;let Te=false;const Oe=m.token.split(b);const be=m.token.indexOf("=");const Re=Oe.length-1;if(V(Oe[be+1],34)&&V(Oe[Oe.length-1],34)&&X==="single"&&fe===false){J(n,m,b);}else if(V(Oe[be+1],39)&&V(Oe[Oe.length-1],39)&&X==="double"&&fe===false){J(n,m,b);}else {Ae=be+2;if(fe===false){if(X==="double"){if(m.token.slice(be+2,Re).indexOf('"')>-1)Te=true;Oe[be+1]='"';Oe[Oe.length-1]='"';}else if(X==="single"){if(m.token.slice(be+2,Re).indexOf("'")>-1)Te=true;Oe[be+1]="'";Oe[Oe.length-1]="'";}}if(Te===true||fe===true){fe=false;do{if(u(Oe[Ae-1],123)&&(u(Oe[Ae],37)||u(Oe[Ae],123))){fe=true;}else if(u(Oe[Ae],125)&&(u(Oe[Ae-1],37)||u(Oe[Ae-1],125))){fe=false;}if(fe===true){if(u(Oe[Ae],34)&&X==="double"){Oe[Ae]="'";}else if(u(Oe[Ae],39)&&X==="single"){Oe[Ae]='"';}}else {if(u(Oe[Ae],39)&&X==="double"){Oe[Ae]='"';}else if(u(Oe[Ae],34)&&X==="single"){Oe[Ae]="'";}}Ae=Ae+1;}while(Ae<Re)}m.token=Oe.join(b);J(n,m,b);}}}function Qe(){if(!(!e&&!re&&!ie))return;if(N===0){H=s.sortSafe(H,b,false);return}const fe=[];ve=0;ce=0;he=H.length;do{ce=0;do{U=H[ce][0].split("=")[0];if(P.attributeSortList[ve]===U){fe.push(H[ce]);H.splice(ce,1);he=he-1;break}ce=ce+1;}while(ce<he);ve=ve+1;}while(ve<N);H=s.sortSafe(H,b,false);H=fe.concat(H);he=H.length;}function Je(){m.token=U+"={";m.types="jsx_attribute_start";J(n,m,"jsx_attribute");E.lexers.script(pe.slice(1,pe.length-1));m.begin=s.count;if(/\s\}$/.test(pe)){pe=pe.slice(0,pe.length-1);pe=Ie.exec(pe)[0];m.lines=pe.indexOf("\n")<0?1:pe.split("\n").length;}else {m.lines=0;}m.begin=s.scope.index;m.stack=s.scope.token;m.token="}";m.types="jsx_attribute_end";je();}function Ke(){if(at(H[G][0])){m.types="attribute";m.token=H[G][0];}else if(et(H[G][0])){m.token=H[G][0];m.types="template_attribute_end";m.ender=m.begin;}else {if(Ge(H[G][0])){m.types="template_attribute_start";m.begin=s.count;m.token=H[G][0];}else if(yt(H[G][0])){m.types="template_attribute_else";m.token=H[G][0];}else {m.types="attribute";m.token=H[G][0];}}je();}if(H.length<1)return me();if(u(H[H.length-1][0],47)){H.pop();A=A.replace(/>$/,"/>");}ce=H.length;ve=1;if(ve<ce){do{U=H[ve-1][0];if(u(U[U.length-1],61)&&H[ve][0].indexOf("=")<0){H[ve-1][0]=U+H[ve][0];H.splice(ve,1);ce=ce-1;ve=ve-1;}ve=ve+1;}while(ve<ce)}if(P.attributeSort)Qe();m.begin=D;m.stack=_;m.types="attribute";if(G<he){do{if(H[G]===void 0)break;m.lines=H[G][1];H[G][0]=H[G][0].replace(Ie,b);if(e===true&&/^\/[/*]/.test(H[G][0])){m.types="comment_attribute";m.token=H[G][0];je();G=G+1;continue}if(H[G][1]<=1&&at(H[G][0])){if(!xt(H[G][0])){m.types="attribute";m.token=H[G][0];je();G=G+1;continue}}ce=H[G][0].indexOf("=");ve=H[G][0].indexOf('"');oe=H[G][0].indexOf("'");if(ce<0){m.types="attribute";if(u(H[G][0],35)||u(H[G][0],91)||u(H[G][0],123)||u(H[G][0],40)||e===true){m.token=H[G][0];}else {m.token=P.attributeCasing==="preserve"?H[G][0]:H[G][0].toLowerCase();}je();}else {U=H[G][0].slice(0,ce);pe=H[G][0].slice(ce+1);if(P.attributeCasing==="lowercase-name"){U=U.toLowerCase();H[G][0]=U+"="+pe;}else if(P.attributeCasing==="lowercase-value"){pe=pe.toLowerCase();H[G][0]=U+"="+pe;}else if(P.attributeCasing==="lowercase"){U=U.toLowerCase();pe=pe.toLowerCase();H[G][0]=U+"="+pe;}if(P.correct&&(V(pe,60)||V(pe,123)||V(pe,61)||V(pe,34)||V(pe,39))){pe='"'+pe+'"';}if(e===true&&/^\s*{/.test(pe)){Je();m.types="attribute";m.begin=D;m.stack=_;}else if(Ge(pe)&&(c.valueForce==="always"||(c.valueForce==="intent"||c.valueForce==="wrap")&&h.wrap>0&&Math.abs(d-s.lineStart)>=h.wrap||pe.indexOf(ke)>0&&(c.valueForce==="newline"||c.valueForce==="intent"))&&(u(pe[0],34)||u(pe[0],39))){m.token=`${U}=${oe>-1?"'":'"'}`;m.types="attribute";s.attributes.add(D);J(n,m,b);if(G+1===he){i(pe.slice(1,-1));n.token[s.count]=`${n.token[s.count]}${oe>-1?"'":'"'}>`;break}if(P.forceIndent===true){const fe=pe.lastIndexOf(pe[0]);if(u(pe[fe],34)||u(pe[fe],39)){i(pe.slice(1,fe));n.token[s.count]=`${n.token[s.count]}${oe>-1?"'":'"'}`;}else {i(pe.slice(1));}}else {i(pe.slice(1));}m.types="attribute";m.stack=_;m.begin=D;}else {if(He(U,5)){Ke();}else {m.types="attribute";m.token=H[G][0];je();}}}G=G+1;}while(G<he)}W=false;return me()}function B(D,_){if(D==="comment"||$.has(D)){const X=f.indexOf("{%",_);let G=X;if(t[X+1].charCodeAt(0)===45)G=X+1;G=f.indexOf(`end${D}`,G);if(G>0){G=t.indexOf("}",G);if(G>0&&t[G-1].charCodeAt(0)===37){if(D!=="comment"){Z="ignore";Pe=true;ue=t.slice(d,_+1).join(b);y=t.slice(X,G+1).join(b);}else {Z="comment";ue=t.slice(d,_+1).join(b);y=t.slice(X,G+1).join(b);}}}}}function ae(){if(y==="---"){ue="---";Z="ignore";Ce=true;}else if(u(t[d],60)){if(u(t[d+1],47)){Z="end";y=">";}else if(u(t[d+1],33)){if((u(t[d+2],100)||u(t[d+2],68))&&(u(t[d+3],111)||u(t[d+3],79))&&(u(t[d+4],99)||u(t[d+4],67))&&(u(t[d+5],116)||u(t[d+5],84))&&(u(t[d+6],121)||u(t[d+6],89))&&(u(t[d+7],112)||u(t[d+7],80))&&(u(t[d+8],101)||u(t[d+8],69))){y=">";Z="doctype";Ce=true;}else if(u(t[d+2],45)&&u(t[d+3],45)){y="-->";Z="comment";ue="<!--";}else if(u(t[d+2],91)&&t[d+3].charCodeAt(0)===67&&t[d+4].charCodeAt(0)===68&&t[d+5].charCodeAt(0)===65&&t[d+6].charCodeAt(0)===84&&t[d+7].charCodeAt(0)===65&&u(t[d+8],91)){y="]]>";Z="cdata";Ce=true;}}else if(t[d+1]==="?"){y="?>";if(t[d+2].charCodeAt(0)===120&&t[d+3].charCodeAt(0)===109&&t[d+4].charCodeAt(0)===109){Z="xml";we=true;}else {Ce=true;Z="template";}}else if((u(t[d+1],112)||u(t[d+1],80))&&(u(t[d+2],114)||u(t[d+2],82))&&(u(t[d+3],101)||u(t[d+3],69))&&(u(t[d+4],62)||ge(t[d+4]))){y="</pre>";Z="ignore";Ce=true;}else if(P.ignoreScripts===true&&t.slice(d+1,d+7).join(b).toLowerCase()==="script"){y="<\/script>";Z="ignore";Ce=true;Pe=true;}else if(P.ignoreStyles===true&&t.slice(d+1,d+6).join(b).toLowerCase()==="style"){y="</style>";Z="ignore";Ce=true;Pe=true;}else {we=true;y=">";}}else if(u(t[d],123)){if(e){W=true;se=true;m.token="{";m.types="script_start";s.structure.push(["script",s.count]);J(n,m,b);return}if(u(t[d+1],123)){Ce=true;y="}}";Z="template";}else if(u(t[d+1],37)){Ce=true;y="%}";Z="template";const D=t.indexOf("}",d+2);if(u(t[D-1],37)){let _=t.slice(d+2,D-1).join(b);if(u(_,45)){ue="{%-";_=_.slice(1).trimStart();}else {ue="{%";_=_.trimStart();}if(u(_[_.length-1],45)){y="-%}";_=_.slice(0,_.length-1).trimEnd();}else {y="%}";_=_.trimEnd();}B(_,D);if(u(_,35)){Z="comment";y="%}";j=y.charAt(y.length-1);return Se(true)}}else {Ce=true;y="%}";Z="template";}}else {Ce=true;y=t[d+1]+"}";Z="template";}}if(P.preserveAttributes===true)Ce=true;if(se)return R();j=y.charAt(y.length-1);if(Z==="comment"&&(u(t[d],60)||u(t[d],123)&&u(t[d+1],37))){return Se()}else if(d<o){return ee()}else {return R()}}function Se(D){if(D===true){ye=Ye({chars:t,end:o,lexer:"markup",begin:ue,start:d,ender:y});}else {ye=Ve({chars:t,end:o,lexer:"markup",begin:ue,start:d,ender:y});}A=ye[0];d=ye[1];if(A.replace(ue,b).trimStart().startsWith("@prettify-ignore-start")){m.token=A;m.types="ignore";J(n,m,b);}else {if(u(A[0],123)&&u(A[1],37)&&D===false){const _=A.indexOf("%}",2)+2;const X=A.lastIndexOf("{%");A=l(A.slice(0,_))+A.slice(_,X)+l(A.slice(X));}m.token=A;m.types="comment";return R()}}function ee(){const D=[];let _=0;let X=0;let G=0;let ce=0;let ve=0;let oe=0;let U=b;let pe=b;let he=0;let je=false;let Qe=false;let Je=false;let Ke=false;let fe=[];function Ae(Te){let Oe;let be=b;if(Te===true){be=fe.join(b);Oe=We(be);U=b;if(Oe[0]==="data-prettify-ignore")Pe=true;}else {be=fe.join(b);if(e===false||e&&V.last(be,125))be=be.replace(/\s+/g,le);Oe=We(be);if(Oe[0]==="data-prettify-ignore")Pe=true;if(e&&u(fe[0],123)&&u.last(fe,125))he=0;}if(u(be[0],123)&&u(be[1],37))ie=true;if(Te===false){if(Ge(be))q=q+1;if(et(be))q=q-1;}be=be.replace(/^\u0020/,b).replace(/\u0020$/,b);fe=be.replace(/\r\n/g,ke).split(ke);if(!fe.length)fe[0]=fe[0].replace(/\s+$/,b);be=h.crlf===true?l(fe.join("\r\n")):l(fe.join(ke));if(q>0||He(be,1)){if(He(be,5)===false){oe=0;if(u(t[d+1],10)||u(t[d],10))oe=2;if(u(t[d],32)&&V(t[d+1],32))oe=1;}else {if(u(t[d+1],10)){oe=2;}else if(u(t[d+1],32)){oe=1;}else if(oe>=1){oe=0;}}}else {if(u(t[d+1],10)){oe=2;}else if(u(t[d+1],32)){oe=1;}}if(H.length>0){const Re=H.length-1;if(u(be,61)||u(be,45)){H[Re][0]=H[Re][0]+be;H[Re][1]=oe;be=b;}else if(oe===0&&H[Re][1]===0){H[Re][0]=H[Re][0]+be;H[Re][1]=oe;be=b;}else if(oe>0&&H[Re][1]===0&&et(be)===true){H[Re][0]=H[Re][0]+be;H[Re][1]=oe;be=b;}else if(oe>0&&H[Re][1]===0&&He(H[Re][0],4)){H[Re][0]=H[Re][0]+be;be=b;}else if(H[Re][1]>0&&oe===0&&kt(be)===false){oe=H[Re][1];}else if(H[Re][1]>0&&oe>0&&et(be)&&!He(be,6)){const bt=be.indexOf("{%");H.push([be.slice(0,bt),oe]);be=be.slice(bt);}}if(be!==b&&be!==le)H.push([be,oe]);if(H.length>0){const[Re]=H[H.length-1];if(Re.indexOf("=\u201C")>0){s.error=M("Invalid quote character (\u201C, &#x201c) used.");}else if(Re.indexOf("=\u201D")>0){s.error=M("Invalid quote character (\u201D, &#x201d) used.");}}fe=[];oe=u(t[d],10)?2:1;}do{if(u(t[d],10)){oe=oe+1;s.lineNumber=s.lineNumber+1;}if(ue==="---"&&y==="---"&&Z==="ignore"){D.push(t[d]);if(d>3&&u(t[d],45)&&u(t[d-1],45)&&u(t[d-2],45))break;d=d+1;continue}if(Ce===true||(ge(t[d])===false&&V(U,125)||u(U,125))){if(je===false&&u(t[d-1],123)&&(u(t[d],123)||u(t[d],37))){je=true;}else if(je===true&&u(t[d],125)&&(u(t[d-1],125)||u(t[d-1],37))){je=false;}D.push(t[d]);if(u(D[0],60)&&u(D[1],62)&&u(y,62)){m.token="<>";m.types="start";J(n,m,"(empty)");return}if(u(D[0],60)&&u(D[1],47)&&u(D[2],62)&&u(y,62)){m.token="</>";m.types="end";J(n,m,b);return}}if(Z==="cdata"&&u(t[d],62)&&u(t[d-1],93)&&V(t[d-2],93)){s.error=M(`CDATA tag (${D.join(b)}) not properly terminated with "]]>`);break}if(Z==="comment"){U=b;if(t[d]===j&&D.length>y.length+1){X=D.length;_=y.length-1;if(_>-1){do{X=X-1;if(V(D[X],y.charCodeAt(_)))break;_=_-1;}while(_>-1)}if(_<0)break}}else {if(U===b){if(u(D[0],60)&&u(D[1],33)&&Z!=="cdata"){if(Z==="doctype"&&u(t[d],62))break;if(u(t[d],91)){if(u(t[d+1],60)){Z="start";break}if(ge(t[d+1])){do{d=d+1;if(u(t[d],10))oe=oe+1;}while(d<o-1&&ge(t[d+1]))}if(u(t[d+1],60)){Z="start";break}}}if(e){if(u(t[d],123)){he=he+1;}else if(u(t[d],125)){he=he-1;}}if(u(t[d],60)&&we===true&&Ce===false&&D.length>1&&/>{2,3}/.test(y)===false){s.error=M(`Invalid structure detected ${t.slice(d,d+8).join(b)}`);break}if(ge(t[d])===false&&Qe===true&&t[d]!==j){Qe=false;ne=0;U=pe;D.pop();if(d<o){do{if(u(t[d],10))s.lineNumber=s.lineNumber+1;if(P.preserveAttributes===true){D.push(t[d]);}else {fe.push(t[d]);}if(V(U,34)||V(U,39)){if(u(t[d-1],123)&&(u(t[d],37)||u(t[d],123))){je=true;}else if((u(t[d-1],125)||u(t[d-1],37))&&u(t[d],125)){je=false;}}if(e===false&&Je===false&&je===true&&P.preserveAttributes===false){const Te=u(fe[0],61);while(d<o){d=d+1;if(u(t[d],10)){s.lineNumber=s.lineNumber+1;if(Te){je=false;U=b;Ae(false);break}}fe.push(t[d]);if(Te&&u(t[d+1],62)){je=false;U=b;H[H.length-1][0]+=fe.join(b);fe=[];break}if(Te===false&&u(t[d],125)&&(u(t[d-1],125)||u(t[d-1],37))){je=false;U=b;Ae(false);break}}}if(e===false&&(u(t[d],60)||u(t[d],62))&&(U===b||u(U,62))){if(U===b&&u(t[d],60)){U=">";G=1;}else if(u(U,62)){if(u(t[d],60)){G=G+1;}else if(u(t[d],62)){G=G-1;if(G===0){U=b;ne=0;Ae(false);break}}}}else if(U===b){if(t[d+1]===j){if(u.last(fe,47)||u.last(fe,63)&&Z==="xml"){fe.pop();if(Ce===true)D.pop();d=d-1;}if(fe.length>0)Ae(false);break}if(e===false&&u(t[d],123)&&u(t[d-1],61)){U="}";}else if(u(t[d],34)||u(t[d],39)){U=t[d];if(Je===false&&je===false)Je=true;if(u(t[d-1],61)&&(u(t[d+1],60)||u(t[d+1],123)&&u(t[d+2],37)||ge(t[d+1])&&V(t[d-1],61))){ne=d;}}else if(u(t[d],40)){U=")";ve=1;}else if(e){if((u(t[d-1],61)||ge(t[d-1]))&&u(t[d],123)){U="}";ce=1;}else if(u(t[d],47)){if(u(t[d+1],42)){U="*/";}else if(t[d+1]==="/"){U="\n";}}}else if(u(D[0],123)&&u(t[d],123)&&(u(t[d+1],123)||u(t[d+1],37))){U=u(t[d+1],123)?"}}":t[d+1]+"}";}if(ge(t[d])&&U===b){if(u(fe[fe.length-2],61)){_=d+1;if(_<o){do{if(ge(t[_])===false){if(u(t[_],34)||u(t[_],39)){d=_-1;Ke=true;fe.pop();}break}_=_+1;}while(_<o)}}if(Ke===true){Ke=false;}else if(he===0||he===1&&u(fe[0],123)){fe.pop();if(fe.length>0)Ae(false);Qe=true;break}}}else if(u(t[d],40)&&u(U,41)){ve=ve+1;}else if(u(t[d],41)&&u(U,41)){ve=ve-1;if(ve===0){U=b;if(u(t[d+1],y.charCodeAt(0))){Ae(false);break}}}else if(e&&(u(U,125)||u(U,10)&&u(t[d],10)||U==="*/"&&u(t[d-1],42)&&u(t[d],47))){if(u(t[d],96)){d=d+1;do{fe.push(t[d]);if(u(t[d],96))break;d=d+1;}while(d<t.length)}if(u(U,125)){if(u(t[d],125)&&t[d]!==U){ce=ce+1;}else if(t[d]===U){ce=ce-1;if(ce===0){he=0;U=b;A=fe.join(b);if(P.preserveAttributes===false){if(e){if(!/^\s*$/.test(A))H.push([A,oe]);}else {A=A.replace(/\s+/g,le);if(A!==le)H.push([A,oe]);}}fe=[];oe=1;break}}}else {pe=b;re=true;A=fe.join(b);if(A!==le)H.push([A,oe]);fe=[];oe=u(U,10)?2:1;U=b;break}}else if(u(t[d],123)&&u(t[d+1],37)&&u(t[ne-1],61)&&(u(U,34)||u(U,39))){U=U+"{%";ne=0;}else if(u(t[d-1],37)&&u(t[d],125)&&(U==='"{%'||U==="'{%")){U=U[0];ne=0;}else if(u(t[d],60)&&u(y,62)&&u(t[ne-1],61)&&(u(U,34)||u(U,39))){U=U+"<";ne=0;}else if(u(t[d],62)&&(U==='"<'||U==="'<")){U=U.charAt(0);ne=0;}else if(ne===0&&V(U,62)&&(U.length<2||V(U,34)&&V(U,39))){X=0;_=U.length-1;if(_>-1){do{if(V(t[d-X],U.charCodeAt(_)))break;X=X+1;_=_-1;}while(_>-1)}if(_<0&&je===false&&Je===true){Je=false;Ae(true);if(t[d+1]===j)break}}else if(ne>0&&ge(t[d])===false){ne=0;}d=d+1;}while(d<o)}}else if(u(y,10)===false&&(u(t[d],34)||u(t[d],39))){U=t[d];}else if(Z!=="comment"&&V(y,10)&&u(t[d],60)&&u(t[d+1],33)&&u(t[d+2],45)&&u(t[d+3],45)&&n.types[s.count]!=="conditional"){U="-->";}else if(u(t[d],123)&&V(D[0],123)&&V(y,10)&&(u(t[d+1],123)||u(t[d+1],37))){if(u(t[d+1],123)){U="}}";}else {U=t[d+1]+"}";if(fe.length<1&&(H.length<1||ge(t[d-1]))){D.pop();do{if(u(t[d],10))oe=oe+1;fe.push(t[d]);d=d+1;}while(d<o&&t[d-1]+t[d]!==U);fe.push("}");H.push([fe.join(b),oe]);fe=[];oe=1;U=b;}}if(U===y)U=b;}else if(we&&V(y,10)&&ge(t[d])&&V(t[d-1],60)){Qe=true;}else if(we&&e&&u(t[d],47)&&(u(t[d+1],42)||u(t[d+1],47))){Qe=true;D[D.length-1]=le;pe=u(t[d+1],42)?"*/":ke;fe.push(t[d]);}else if(je===false&&(t[d]===j||u(y,10)&&u(t[d+1],60))&&(D.length>y.length+1||u(D[0],93))&&(e===false||he===0)){if(u(y,10)){if(ge(D[D.length-1])){do{D.pop();d=d-1;}while(ge(D[D.length-1]))}break}X=D.length;_=y.length-1;if(_>-1){do{X=X-1;if(D[X]!==y.charAt(_))break;_=_-1;}while(_>-1)}if(_<0){if(u(D[X],62)&&u(t[d],62)&&H.length>0){if(H[H.length-1][1]===0&&u(t[d-1],125)&&ge(t[d+1])){H[H.length-1][1]=u(t[d+1],32)?1:2;}}break}}}else if(u(t[d],U.charCodeAt(U.length-1))&&(e&&u(y,125)&&(V(t[d-1],92)||K(d)===false)||(e===false||V(y,125)))){X=0;_=U.length-1;if(_>-1){do{if(t[d-X]!==U.charAt(_))break;X=X+1;_=_-1;}while(_>-1)}if(_<0)U=b;}}d=d+1;}while(d<o);ne=0;A=D.join(b);Y=qe(A);if(Pe===false)A=l(A);m.token=A;m.types=Z;if(Ce===false&&e===false)A=A.replace(/\s+/g,le);return R()}function me(){if(h.wrap>0&&e===true){let D=0;let _=s.count;let X=0;if(n.types[_].indexOf("attribute")>-1){do{D=D+n.token[_].length+1;_=_-1;}while(n.lexer[_]!=="markup"||n.types[_].indexOf("attribute")>-1);if(n.lines[_]===1)D=D+n.token[_].length+1;}else if(n.lines[_]===1){D=n.token[_].length+1;}X=_-1;if(D>0&&n.types[X]!=="script_end"){if(n.types[X].indexOf("attribute")>-1){do{D=D+n.token[X].length+1;X=X-1;}while(n.lexer[X]!=="markup"||n.types[X].indexOf("attribute")>-1);if(n.lines[X]===1)D=D+n.token[X].length+1;}else if(n.lines[X]===1){D=n.token[X].length+1;}}}s.linesSpace=0;}return ae()}function z(){const y=d;const m=e===true&&u(n.token[s.count],123);let A=[];let j=b;let Z=s.linesSpace;let Y=b;if(W===true){if(m===true){Y="script";}else if(s.scope.index>-1){Y=qe(n.token[s.scope.index]);}else if(n.begin[s.count]>1){Y=qe(n.token[n.begin[s.count]]);}else {Y=qe(n.token[n.begin[s.count]]);}}const ue=n.types[s.count]==="template_start"&&n.token[s.count].indexOf("<!")===0&&n.token[s.count].indexOf("<![")<0&&n.token[s.count].charCodeAt(n.token[s.count].length-1)===91;const te={begin:s.scope.index,ender:-1,lexer:"markup",lines:Z,stack:qe(s.scope.token),token:b,types:"content"};function se(){let ne=d-1;let re=0;if(V(t[d-1],92))return false;if(ne>-1){do{if(V(t[ne],92))break;re=re+1;ne=ne-1;}while(ne>-1)}return re%2===1}if(d<o){let ne=b;let re=b;let ie=b;let Ce=0;do{if(u(t[d],10))s.lineNumber=s.lineNumber+1;if(W===true){if(re===b){if(u(t[d],47)){if(u(t[d+1],42)){re="*";}else if(u(t[d+1],47)){re="/";}else if(Y==="script"&&"([{!=,;.?:&<>".indexOf(t[d-1])>-1){if(e===false||V(t[d-1],60))re="reg";}}else if((u(t[d],34)||u(t[d],39)||u(t[d],96))&&se()===false){re=t[d];}else if(u(t[d],123)&&m===true){Ce=Ce+1;}else if(u(t[d],125)&&m===true){if(Ce===0){ie=A.join(b).replace(Ue,b).replace(Ie,b);E.lexers.script(ie);s.scope.index+=1;if(n.types[s.count]==="end"&&n.lexer[n.begin[s.count]-1]==="script"){te.lexer="script";te.token=P.correct===true?";":"x;";te.types="separator";J(n,te,b);te.lexer="markup";}te.token="}";te.types="script_end";J(n,te,b);s.structure.pop();break}Ce=Ce-1;}if(He(n.token[s.count],3)===false){ne=t.slice(d,d+10).join(b).toLowerCase();if(Y==="script"){ne=d===o-9?ne.slice(0,ne.length-1):ne.slice(0,ne.length-2);if(ne==="<\/script"){ie=A.join(b).replace(Ue,b).replace(Ie,b);d=d-1;if(A.length<1)break;if(/^<!--+/.test(ie)&&/--+>$/.test(ie)){te.token="<!--";te.types="comment";J(n,te,b);ie=ie.replace(/^<!--+/,b).replace(/--+>$/,b);E.lexers.script(ie);te.token="-->";J(n,te,b);}else {h.language=r;E.lexers.script(ie);if(r==="json"&&h.json.objectSort||r!=="json"&&h.script.objectSort){s.sortCorrect(0,s.count+1);}h.language="html";}break}}if(Y==="style"){if(d===o-8){ne=ne.slice(0,ne.length-1);}else if(d===o-9){ne=ne.slice(0,ne.length-2);}else {ne=ne.slice(0,ne.length-3);}if(ne==="</style"){let we=A.join(b).replace(Ue,b).replace(Ie,b);d=d-1;if(A.length<1)break;if(/^<!--+/.test(we)&&/--+>$/.test(we)){te.token="<!--";te.types="comment";J(n,te,b);we=we.replace(/^<!--+/,b).replace(/--+>$/,b);E.lexers.style(we);te.token="-->";J(n,te,b);}else {h.language=r;E.lexers.style(we);if(h.style.sortProperties===true)s.sortCorrect(0,s.count+1);h.language="html";}break}}}else {const we=de.embed("liquid",Y);if(we!==false&&$.has(Y)===false){const H=t.slice(d).join(b);const ye=H.search(new RegExp(`{%-?\\s*end${Y}`));A=A.length>0?A.concat(A,t.slice(d,d+ye)):t.slice(d,d+ye);d=d+ye;ne=t.slice(d).join(b).toLowerCase();if(we.end(ne)){ne=ne.slice(0,ne.indexOf("%}")+2);ie=A.join(b).replace(Ue,b).replace(Ie,b);d=d+(ne.length-1);if(A.length<1)break;s.lexer(ie,we.language);te.token=ne;te.types="template_end";J(n,te,b);}break}}}else if(re===t[d]&&se()===false&&(u(re,34)||u(re,39)||u(re,96)||u(re,42)&&u(t[d+1],47))){re=b;}else if(u(re,96)&&u(t[d],36)&&u(t[d+1],123)&&se()===false){re="}";}else if(u(re,125)&&u(t[d],125)&&se()===false){re="`";}else if(u(re,47)&&(u(t[d],10)||u(t[d],13))){re=b;}else if(re==="reg"&&u(t[d],47)&&se()===false){re=b;}else if(u(re,47)&&u(t[d],60)&&u(t[d-1],45)&&u(t[d-2],45)){ne=t.slice(d+1,d+11).join(b).toLowerCase();ne=ne.slice(0,ne.length-2);if(Y==="script"&&ne==="<\/script")re=b;ne=ne.slice(0,ne.length-1);if(Y==="style"&&ne==="</style")re=b;}}if(ue===true&&u(t[d],93)){d=d-1;Z=0;j=A.join(b);j=j.replace(Ie,b);te.token=j;J(n,te,b);break}if(W===false&&A.length>0&&(u(t[d],60)&&V(t[d+1],61)&&!/[\s\d]/.test(t[d+1])||u(t[d],91)&&u(t[d+1],37)||u(t[d],123)&&(e===true||u(t[d+1],123)||u(t[d+1],37)))){d=d-1;if(s.scope.token==="comment"){j=A.join(b);}else {j=A.join(b).replace(Ie,b);}Z=0;te.token=j;if(h.wrap>0&&P.preserveText===false){let Q=function(){if(u(j[ye],32)){H.push(j.slice(0,ye));j=j.slice(ye+1);We=j.length;ye=we;return}do ye=ye-1;while(ye>0&&V(j[ye],32));if(ye>0){H.push(j.slice(0,ye));j=j.slice(ye+1);We=j.length;ye=we;}else {ye=we;do ye=ye+1;while(ye<We&&V(j[ye],32));H.push(j.slice(0,ye));j=j.slice(ye+1);We=j.length;ye=we;}};const{wrap:we}=h;const H=[];let ye=we;let We=j.length;if(n.token[n.begin[s.count]]==="<a>"&&n.token[n.begin[n.begin[s.count]]]==="<li>"&&n.lines[n.begin[s.count]]===0&&s.linesSpace===0&&j.length<h.wrap){J(n,te,b);break}if(We<we){J(n,te,b);break}if(s.linesSpace<1&&s.count>-1){let I=s.count;do{ye=ye-n.token[I].length;if(n.types[I].indexOf("attribute")>-1)ye=ye-1;if(n.lines[I]>0&&n.types[I].indexOf("attribute")<0)break;I=I-1;}while(I>0&&ye>0);if(ye<1)ye=j.indexOf(le);}j=A.join(b).replace(Ue,b).replace(Ie,b).replace(/\s+/g,le);do Q();while(ye<We);if(j!==b&&V(j,32))H.push(j);j=h.crlf===true?H.join("\r\n"):H.join("\n");j=b+j+b;}else {const we=j.indexOf(ke);if(we>-1){te.token=j.slice(0,we);J(n,te,b);j=j.slice(we);const H=j.match(/^\n+/);if(H===null){te.lines=1;}else {te.lines=2;j=j.replace(Ue,b);}}}Z=0;te.token=j;J(n,te,b);break}A.push(t[d]);d=d+1;}while(d<o)}if(d>y&&d<o){if(ge(t[d])){let ne=d;s.linesSpace=1;do{if(u(t[ne],10))s.linesSpace=s.linesSpace+1;ne=ne-1;}while(ne>y&&ge(t[ne]))}else {s.linesSpace=0;}}else if(d!==y||d===y&&W===false){j=A.join(b).replace(Ie,b);Z=0;if(te.token!==j){te.token=j;J(n,te,b);s.linesSpace=0;}}W=false;}function v(){s.linesSpace=1;do{if(u(t[d],10)){s.lineStart=d;s.linesSpace=s.linesSpace+1;s.lineNumber=s.lineNumber+1;}if(ge(t[d+1])===false)break;d=d+1;}while(d<o)}if(h.language==="html"||h.language==="liquid");do{if(ge(t[d])){v();}else if(W){z();}else if(u(t[d],60)){k(b);}else if(u(t[d],123)&&(e||u(t[d+1],123)||u(t[d+1],37))){k(b);}else if(u(t[d],45)&&u(t[d+1],45)&&u(t[d+2],45)){k("---");}else if(s.error){T();return n}else {z();}d=d+1;}while(d<o);if(g.end!==g.start&&s.error===b){if(g.end>g.start){const y=g.end-g.start;const m=y===1?b:"s";s.error=`Prettify Error (line ${g.line}):
${y} more end type${m} than start type${m}`;}else {const y=g.start-g.end;const m=y===1?b:"s";s.error=`Prettify Error (line ${g.line}):
${y} more start type${m} than end type${m}`;}}return n};E.beautify.markup=function(i){const f={};const h="markup";const c=s.data;const n=i.language==="jsx"||i.language==="tsx";const e=i.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const S=i.markup;const P=i.liquid;const $=S.forceAttribute;const N=E.end<1||E.end>c.token.length?c.token.length:E.end+1;const g={is:(l,K)=>c.types[l]===K,not:(l,K)=>c.types[l]!==K,idx:(l,K)=>l>-1&&(c.types[l]||b).indexOf(K)};const t={is:(l,K)=>c.token[l]===K,not:(l,K)=>c.token[l]!==K};let o=E.start;let d=-1;let W=0;let r=0;let C=isNaN(i.indentLevel)?0:Number(i.indentLevel);const q=function(){const l=E.start>0?Array(E.start).fill(0,0,E.start):[];function K(){let v=o+1;let y=0;if(g.is(v,void 0))return v-1;if(g.is(v,"comment")||o<N-1&&g.idx(v,"attribute")>-1){do{if(g.is(v,"jsx_attribute_start")){y=v;do{if(g.is(v,"jsx_attribute_end")&&c.begin[v]===y)break;v=v+1;}while(v<N)}else if(g.not(v,"comment")&&g.idx(v,"attribute")<0)return v;v=v+1;}while(v<N)}return v}function J(){const v=c.begin[o];let y=o;do{y=y-1;if(t.is(y,"</li>")&&t.is(y-1,"</a>")&&c.begin[c.begin[y]]===v&&c.begin[y-1]===c.begin[y]+1){y=c.begin[y];}else {return}}while(y>v+1);y=o;do{y=y-1;if(g.is(y+1,"attribute")){l[y]=-10;}else if(t.not(y,"</li>")){l[y]=-20;}}while(y>v+1)}function p(){let v=o;let y=false;if(c.lines[o+1]===0&&S.forceIndent===false){do{if(c.lines[v]>0){y=true;break}v=v-1;}while(v>d);v=o;}else {y=true;}if(y===true){if(g.is(c.begin[v]-1,"template")){l[c.begin[v]-1]=C;}const m=g.is(W,"end")||g.is(W,"template_end")?C+1:C;do{l.push(m);v=v-1;}while(v>d);if(m===C+1)l[o]=C;if(g.is(v,"attribute")||g.is(v,"template_attribute")||g.is(v,"jsx_attribute_start")){l[c.begin[v]]=m;}else {l[v]=m;}}else {do{l.push(-20);v=v-1;}while(v>d);l[v]=-20;}d=-1;}function M(){let v=C;if(S.forceIndent===true||S.forceAttribute===true){l.push(C);return}if(W<N&&(g.idx(W,"end")>-1||g.idx(W,"start")>-1)&&c.lines[W]>0){l.push(C);v=v+1;if(o>0&&g.is(o,"singleton")&&g.idx(o-1,"attribute")>-1&&g.is(c.begin[o-1],"singleton")){if(c.begin[o]<0||g.is(c.begin[o-1],"singleton")&&c.begin[c.ender[o]-1]!==o){l[o-1]=C;}else {l[o-1]=C+1;}}}else if(o>0&&g.is(o,"singleton")&&g.idx(o-1,"attribute")>-1){l[o-1]=C;r=c.token[o].length;l.push(-10);}else if(c.lines[W]===0){l.push(-20);}else if((i.wrap===0||o<N-2&&c.token[o]!==void 0&&c.token[o+1]!==void 0&&c.token[o+2]!==void 0&&c.token[o].length+c.token[o+1].length+c.token[o+2].length+1>i.wrap&&g.idx(o+2,"attribute")>-1||c.token[o]!==void 0&&c.token[o+1]!==void 0&&c.token[o].length+c.token[o+1].length>i.wrap)&&(g.is(o+1,"singleton")||g.is(o+1,"template"))){l.push(C);}else {r=r+1;l.push(-10);}if(o>0&&g.idx(o-1,"attribute")>-1&&c.lines[o]<1){l[o-1]=-20;}if(r>i.wrap){let y=o;let m=Math.max(c.begin[o],0);if(g.is(o,"content")&&S.preserveText===false){let A=0;const j=c.token[o].replace(/\s+/g,le).split(le);do{y=y-1;if(l[y]<0){A=A+c.token[y].length;if(l[y]===-10)A=A+1;}else {break}}while(y>0);y=0;m=j.length;do{if(j[y].length+A>i.wrap){j[y]=e+j[y];A=j[y].length;}else {j[y]=` ${j[y]}`;A=A+j[y].length;}y=y+1;}while(y<m);if(u(j[0],32)){c.token[o]=j.join(b).slice(1);}else {l[o-1]=v;c.token[o]=j.join(b).replace(e,b);}if(c.token[o].indexOf(e)>0){r=c.token[o].length-c.token[o].lastIndexOf(e);}}else {do{y=y-1;if(l[y]>-1){r=c.token[o].length;if(c.lines[o+1]>0)r=r+1;return}if(g.idx(y,"start")>-1){r=0;return}if(c.lines[y+1]>0&&(g.not(y,"attribute")||g.is(y,"attribute")&&g.is(y+1,"attribute"))){if(g.not(y,"singleton")||g.is(y,"attribute")&&g.is(y+1,"attribute")){r=c.token[o].length;if(c.lines[o+1]>0)r=r+1;break}}}while(y>m);l[y]=v;}}}function w(){const v=o;if(c.types[v-1]==="script_start"&&u(c.token[v-1],123)){l[v-1]=-20;}do{if(c.lexer[o+1]===h&&c.begin[o+1]<v&&g.not(o+1,"start")&&g.not(o+1,"singleton"))break;l.push(0);o=o+1;}while(o<N);f[v]=o;if(c.types[o+1]==="script_end"&&c.token[o+1]==="}"){l.push(-20);}else {l.push(C-1);}W=K();if(c.lexer[W]===h&&c.stack[o].indexOf("attribute")<0&&(c.types[W]==="end"||c.types[W]==="template_end")){C=C-1;}}function T(){function v(te){const se=c.token[te].replace(/\s+/g,le).split(le);const Pe=se.length;let ne=1;let re=se[0].length;do{if(re+se[ne].length>i.wrap){re=se[ne].length;se[ne]=e+se[ne];}else {se[ne]=` ${se[ne]}`;re=re+se[ne].length;}ne=ne+1;}while(ne<Pe);c.token[te]=se.join(b);}let y=o;const m=o-1;let A=false;let j=false;let Z=c.types.indexOf("end",m+1);let Y=c.token[m].length+1;let ue=(()=>{if(g.idx(o,"start")>0){let te=o;do{if(g.is(te,"end")&&c.begin[te]===o){if(te<N-1&&g.idx(te+1,"attribute")>-1){A=true;break}}te=te+1;}while(te<N)}else if(o<N-1&&g.idx(o+1,"attribute")>-1){A=true;}if(g.is(W,"end")||g.is(W,"template_end")){return C+(g.is(m,"singleton")?2:1)}if(g.is(m,"singleton"))return C+1;return C})();if(A===false&&g.is(o,"comment_attribute")){l.push(C);l[m]=c.types[m]==="singleton"?C+1:C;return}if(ue<1)ue=1;Z=0;do Z=Z+1;while(g.idx(o+Z,"attribute")>-1&&(g.not(o+Z,"end")||g.not(o+Z,"singleton")||g.not(o+Z,"start")||g.not(o+Z,"comment")));do{r=r+c.token[o].length+1;if(c.types[o].indexOf("attribute")>0){if(g.is(o,"comment_attribute")){l.push(ue);}else if(g.idx(o,"start")>0&&g.idx(o,"template")<0){j=true;if(o<N-2&&c.types[o+2].indexOf("attribute")>0){l.push(-20);o=o+1;f[o]=o;}else {if(m===o-1&&A===false){if(n){l.push(-20);}else {l.push(ue);}}else {if(n){l.push(-20);}else {l.push(ue+1);}}if(c.lexer[o+1]!==h){o=o+1;w();}}}else if(g.idx(o,"end")>0){if(l[o-1]!==-20)l[o-1]=l[c.begin[o]]-1;if(c.lexer[o+1]!==h){l.push(-20);}else {l.push(ue);}}else {l.push(ue);}}else if(g.is(o,"attribute")){Y=Y+c.token[o].length+1;if(S.preserveAttributes===true){l.push(-10);}else if(S.forceAttribute===true||S.forceAttribute>=1||j===true||o<N-1&&g.idx(o+1,"attribute")>0){if(S.forceAttribute===false&&c.lines[o]===1){l.push(-10);}else {if(S.forceAttribute===true){l.push(ue);}else {l.push(-10);}}}else {l.push(-10);}}else if(c.begin[o]<m+1){break}o=o+1;}while(o<N);o=o-1;if(g.idx(o,"template")<0&&g.idx(o,"end")>0&&g.idx(o,"attribute")>0&&g.not(m,"singleton")&&l[o-1]>0&&A===true){l[o-1]=l[o-1]-1;}if(l[o]!==-20){if(n===true&&g.idx(m,"start")>-1&&g.is(o+1,"script_start")){l[o]=ue;}else {if(t.is(o,"/")&&l[o-1]!==10){l[o-1]=-10;}else {l[o]=l[m];}}}if(S.forceAttribute===true){r=0;l[m]=ue;}else if(S.forceAttribute>=1){if(Z>=S.forceAttribute){l[m]=ue;let te=o-1;do{if(g.is(te,"template")&&l[te]===-10){l[te]=ue;}else if(g.is(te,"attribute")&&l[te]===-10){l[te]=ue;}te=te-1;}while(te>m)}else {l[m]=-10;}}else {l[m]=-10;}if(S.preserveAttributes===true||t.is(m,"<%xml%>")||t.is(m,"<?xml?>")){r=0;return}y=o;if(y>m+1){if(S.selfCloseSpace===false)Y=Y-1;if(Y>i.wrap&&i.wrap>0&&S.forceAttribute===false){if(S.forceLeadAttribute===true){l[m]=ue;y=y-1;}r=c.token[o].length;do{if(c.token[y].length>i.wrap&&ge(c.token[y]))v(y);if(g.idx(y,"template")>-1&&l[y]===-10){l[y]=ue;}else if(g.is(y,"attribute")&&l[y]===-10){l[y]=ue;}y=y-1;}while(y>m)}}else if(i.wrap>0&&g.is(o,"attribute")&&c.token[o].length>i.wrap&&ge(c.token[o])){v(o);}}function k(){const v=c.token[o].split(ke);const y=u(c.token[o][2],45);let m=0;let A=0;let j=0;let Z=b;let Y=b;if(l.length>=2){m=l[l.length-2]+1;}else if(l.length===1){m=l[l.length-1]+1;}let ue=y?$e(m*i.indentSize):$e(m*i.indentSize-1);do{if(A===0){Z=v[A].trimEnd();if(Z.endsWith(",")){Y=","+le;v[A]=Z.slice(0,-1);}else if(Z.endsWith("|")){Y="|"+le;v[A]=Z.slice(0,-1);}else if(/^{[{%]-?$/.test(Z)){v[A]=Z;A=A+1;do{Z=v[A].trim();if(Z.length>0)break;v.splice(A,1);if(A>v.length)break}while(A<v.length);const te=v[v.length-1].trim();if(/^-?[%}]}$/.test(te)){j=1;if(y){v[A]=ue+Z;v[v.length-1]=ue.slice(2)+te;ue=ue.slice(2)+$e(i.indentSize);}else {v[A]=ue+$e(i.indentSize)+Z;v[v.length-1]=ue.slice(1)+te;ue=ue+$e(i.indentSize);}}else {v[A]=ue+$e(i.indentSize)+Z;}}else if(Z.endsWith(",")===false&&u(v[A+1].trimStart(),44)&&P.lineBreakSeparator==="after"){v[A]=Z+",";}A=A+1;continue}Z=v[A].trim();if(u(Z,44)&&P.lineBreakSeparator==="after"){if(Z.endsWith("%}")){Z=le+Z.slice(1);}else {Z=le+Z.slice(1)+",";}}if(Z.length===0){v.splice(A,1);continue}if(A===v.length-1&&j===1)break;if(Z.endsWith(",")&&P.lineBreakSeparator==="before"){v[A]=ue+Y+Z.slice(0,-1);Y=","+le;}else if(Z.endsWith("|")){v[A]=ue+Y+Z.slice(0,-1);Y=ue+"|"+le;}else {v[A]=ue+Y+Z;Y=b;}A=A+1;}while(A<v.length);if(P.normalizeSpacing===true){c.token[o]=v.join(ke).replace(/\s*-?[%}]}$/,te=>te.replace(/\s*/,le));}else {const te=$e(c.lines[o]-1===-1?i.indentSize:c.lines[o]-1);c.token[o]=v.join(ke).replace(/\s*-?[%}]}$/,se=>se.replace(De,te));}}function z(v){return g.is(v,"template")&&c.token[v].indexOf(e)>0&&/{%-?\s*\bliquid/.test(c.token[v])===false}do{if(c.lexer[o]===h){if(g.is(o,"doctype"))l[o-1]=C;if(g.idx(o,"attribute")>-1){if(s.attributes.has(c.begin[o])&&$!==true){S.forceAttribute=true;}else if($!==S.forceAttribute){S.forceAttribute=$;}T();}else if(g.is(o,"comment")){if(d<0)d=o;if(g.not(o+1,"comment")||o>0&&g.idx(o-1,"end")>-1){p();}}else if(g.not(o,"comment")){W=K();if(g.is(W,"end")||g.is(W,"template_end")){if(s.attributes.has(c.begin[o])||c.types[c.begin[o-1]]==="singleton"&&c.types[o-1]==="attribute");C=C-1;if(g.is(W,"template_end")&&g.is(c.begin[W]+1,"template_else")){C=C-1;}if(t.is(o,"</ol>")||t.is(o,"</ul>")||t.is(o,"</dl>"))J();}if(g.is(o,"script_end")&&g.is(W,"end")){if(c.lines[W]<1){l.push(-20);}else if(c.lines[W]>1){l.push(C);}else {l.push(-10);}}else if((S.forceIndent===false||S.forceIndent===true&&g.is(W,"script_start"))&&(g.is(o,"content")||g.is(o,"singleton")||g.is(o,"template"))){r=r+c.token[o].length;if(c.lines[W]>0&&g.is(W,"script_start")){l.push(-10);}else if(i.wrap>0&&(g.idx(o,"template")<0||W<N&&g.idx(o,"template")>-1&&g.idx(W,"template")<0)){M();}else if(W<N&&(g.idx(W,"end")>-1||g.idx(W,"start")>-1)&&(c.lines[W]>0||g.idx(o,"template_")>-1)){l.push(C);if(z(o))k();}else if(c.lines[W]===0){l.push(-20);if(z(o))k();}else if(c.lines[W]===1){l.push(-10);}else {l.push(C);if(z(o))k();}}else if(g.is(o,"start")||g.is(o,"template_start")){C=C+1;if(g.is(o,"template_start")&&g.is(W,"template_else")){C=C+1;}if(n===true&&t.is(o+1,"{")){if(c.lines[W]===0){l.push(-20);}else if(c.lines[W]>1){l.push(C);}else {l.push(-10);}}else if(g.is(o,"start")&&g.is(W,"end")||g.is(o,"template_start")&&g.is(W,"template_end")){l.push(-20);}else if(g.is(o,"start")&&g.is(W,"script_start")){l.push(-10);}else if(S.forceIndent===true){l.push(C);}else if(c.lines[W]===0&&(g.is(W,"content")||g.is(W,"singleton")||g.is(o,"start")&&g.is(W,"template"))){l.push(-20);}else {l.push(C);}}else if(S.forceIndent===false&&c.lines[W]===0&&(g.is(W,"content")||g.is(W,"singleton"))){l.push(-20);}else if(g.is(o+2,"script_end")){l.push(-20);}else if(g.is(o,"template_else")){l[o-1]=C-1;if(g.is(W,"template_end")){l[o-1]=C-1;}l.push(C);}else if(S.forceIndent===true&&(g.is(o,"content")&&(g.is(W,"template")||g.is(W,"content"))||g.is(o,"template")&&(g.is(W,"content")||g.is(W,"template")))){if(c.lines[W]<1){l.push(-20);}else if(c.lines[W]>1){l.push(C);}else {l.push(-10);}}else {l.push(C);}}if(g.not(o,"content")&&g.not(o,"singleton")&&g.not(o,"template")&&g.not(o,"attribute")){r=0;}}else {r=0;w();}o=o+1;}while(o<N);return l}();return function(){const l=[];const K=function(){const T=[i.indentChar];const k=i.indentSize-1;let z=0;if(z<k){do{T.push(i.indentChar);z=z+1;}while(z<k)}return T.join(b)}();function J(T){const k=[];const z=i.preserveLine+1;const v=Math.min(c.lines[o+1]-1,z);let y=0;if(T<0)T=0;do{k.push(e);y=y+1;}while(y<v);if(T>0){y=0;do{k.push(K);y=y+1;}while(y<T)}return k.join(b)}function p(){let T=c.token[o].split(e);const k=c.lines[o+1];if(g.is(o,"comment")&&(u(c.token[o][1],37)&&P.preserveComment===false||u(c.token[o][1],37)===false&&S.preserveComment===false)){T=T.map(m=>m.trimStart());}const z=q[o-1]>-1?g.is(o,"attribute")?q[o-1]+1:q[o-1]:(()=>{let m=o-1;let A=m>-1&&g.idx(m,"start")>-1;if(q[o]>-1&&g.is(o,"attribute"))return q[o]+1;do{m=m-1;if(q[m]>-1)return g.is(o,"content")&&A===false?q[m]:q[m]+1;if(g.idx(m,"start")>-1)A=true;}while(m>0);return m===-2?0:1})();let v=0;c.lines[o+1]=0;const y=T.length-1;do{if(g.is(o,"comment")){if(v===0&&(u(c.token[o][1],37)&&P.commentNewline===true||u(c.token[o][1],37)===false&&S.commentNewline===true)){if(i.preserveLine===0){l.push(J(z));}else {if(l.length>0&&l[l.length-1].lastIndexOf(ke)+1<2){l.push(J(z));}}}if(T[v]!==b){if(v>0&&(u(c.token[o][1],37)&&P.commentIndent===true||u(c.token[o][1],37)===false&&S.commentIndent===true)){l.push(K);}if(T[v+1].trimStart()!==b){l.push(T[v],J(z));}else {l.push(T[v],ke);}}else {if(T[v+1].trimStart()===b){l.push(ke);}else {l.push(J(z));}}}else {l.push(T[v]);l.push(J(z));}v=v+1;}while(v<y);c.lines[o+1]=k;l.push(T[y]);if(g.is(o,"comment")&&(g.is(o+1,"template_end")||g.is(o-1,"template_end"))){l.push(J(q[o]));}else if(q[o]===-10){l.push(le);}else if(q[o]>1){l.push(J(q[o]));}else if(q[o]===0&&o===0&&g.is(o,"comment")){l.push(J(q[o]));}else if(g.is(o,"comment")&&q[o]===0&&(g.is(o+1,"template_start")||g.is(o+1,"ignore"))){l.push(J(q[o]));}}function M(){const T=/(?!=)\/?>$/;const k=c.token[o];const z=T.exec(k);if(z===null)return;let v=o+1;let y=false;let m=S.selfCloseSpace===true&&z!==null&&z[0]==="/>"?le:b;c.token[o]=k.replace(T,b);do{if(g.is(v,"jsx_attribute_end")&&c.begin[c.begin[v]]===o){y=false;}else if(c.begin[v]===o){if(g.is(v,"jsx_attribute_start")){y=true;}else if(g.idx(v,"attribute")<0&&y===false){break}}else if(y===false&&(c.begin[v]<o||g.idx(v,"attribute")<0)){break}v=v+1;}while(v<N);if(g.is(v-1,"comment_attribute"))m=J(q[v-2]-1);if(!s.attributes.has(o)){c.token[v-1]=`${c.token[v-1]}${m}${z[0]}`;}if(g.is(v,"comment")&&c.lines[o+1]<2)q[o]=-10;}o=E.start;let w=i.indentLevel;do{if(c.lexer[o]===h){if((g.is(o,"start")||g.is(o,"singleton")||g.is(o,"xml"))&&g.idx(o,"attribute")<0&&o<N-1&&c.types[o+1]!==void 0&&g.idx(o+1,"attribute")>-1){M();}if(t.not(o,void 0)&&c.token[o].indexOf(e)>0&&(g.is(o,"content")&&S.preserveText===false||g.is(o,"comment")||g.is(o,"attribute"))){p();}else if(g.is(o,"comment")&&(u(c.token[o][1],37)&&P.preserveComment===false&&P.commentNewline===true||u(c.token[o][1],37)===false&&S.preserveComment===false&&S.commentNewline===true)&&(i.preserveLine===0||l.length>0&&l[l.length-1].lastIndexOf(ke)+1<2)){l.push(J(q[o]),c.token[o],J(q[o]));}else {l.push(c.token[o]);if(q[o]===-10&&o<N-1){l.push(le);}else if(q[o]>-1){w=q[o];l.push(J(q[o]));}}}else {E.start=o;E.end=f[o];const T=s.beautify(w);const k=T.beautify.replace(De,b);if(i.language==="jsx"&&(c.types[o-1]==="template_string_end"||c.types[o-1]==="jsx_attribute_start"||c.types[o-1]==="script_start")){l.push(k.trimEnd());}else {l.push(k);if(k.endsWith(ke)){if(w-1>0)l.push($e(w-1,K));}else {if(S.forceIndent===true||q[E.iterator]>-1&&f[o]>o){l.push(J(q[E.iterator]));}}}o=E.iterator;T.reset();}o=o+1;}while(o<N);E.iterator=N-1;if(l[0]===e||u(l[0],32))l[0]=b;return l.join(b)}()};E.beautify.style=function i(f){const h=[];const c=E.data;const n=f.style;const e=f.crlf===true?"\r\n":"\n";const S=E.end>0?E.end+1:c.token.length;const P=f.preserveLine+1;const $=(()=>{let W=0;const r=[];do{r.push(f.indentChar);W=W+1;}while(W<f.indentSize);return r.join(b)})();let N=f.indentLevel;let g=E.start;let t=[b,b];const o={is:(W,r)=>c.types[W]===r,not:(W,r)=>c.types[W]!==r,idx:(W,r)=>W>-1&&(c.types[W]||b).indexOf(r)};function d(W){const r=[];const C=(()=>{if(g===S-1)return 1;if(c.lines[g+1]-1>P)return P;if(c.lines[g+1]>1)return c.lines[g+1]-1;return 1})();let q=0;if(W<0)W=0;do{r.push(e);q=q+1;}while(q<C);if(W>0){q=0;do{r.push($);q=q+1;}while(q<W)}h.push(r.join(b));}do{if(o.is(g+1,"end")||o.is(g+1,"template_end")||o.is(g+1,"template_else")){N=N-1;}if(o.is(g,"template")&&c.lines[g]>0){h.push(c.token[g]);if(V(c.token[g+1],59)&&de.style.units.has(c.token[g+1])===false){d(N);}}else if(o.is(g-1,"selector")&&o.is(g,"template")&&o.is(g+1,"selector")){h.push(c.token[g]);if(u.last(c.token[g-1],45)&&(u(c.token[g+1],46)||u(c.token[g+1],35)||u(c.token[g+1],38))){h.push(le);}}else if(o.is(g,"template_else")){h.push(c.token[g]);N=N+1;d(N);}else if(o.is(g,"start")||o.is(g,"template_start")){N=N+1;h.push(c.token[g]);if(o.not(g+1,"end")&&o.not(g+1,"template_end")){d(N);}}else if(u(c.token[g],59)||(o.is(g,"end")||o.is(g,"template_end")||o.is(g,"comment"))){h.push(c.token[g]);if(o.is(g+1,"value")){if(c.lines[g+1]===1){h.push(le);}else if(c.lines[g+1]>1){d(N);}}else if(o.not(g+1,"separator")){if(o.not(g+1,"comment")||o.is(g+1,"comment")&&c.lines[g+1]>1){d(N);}else {h.push(le);}}}else if(u(c.token[g],58)){h.push(c.token[g]);if(o.not(g+1,"selector")&&V(c.token[g+1],44)){h.push(le);}}else if(o.is(g,"selector")||o.is(g,"at_rule")){if(n.classPadding===true&&o.is(g-1,"end")&&c.lines[g]<3){h.push(e);}if(c.token[g].indexOf("and(")>0){c.token[g]=c.token[g].replace(/and\(/,"and (");h.push(c.token[g]);}else if(c.token[g].indexOf("when(")>0){t=c.token[g].split("when(");h.push(t[0].replace(/\s+$/,b));d(N+1);h.push(`when (${t[1]}`);}else {h.push(c.token[g]);}if(o.is(g+1,"start")){h.push(le);}}else if(u(c.token[g],44)){if(o.is(g+1,"value")){d(N);h.push(c.token[g]);}else {h.push(c.token[g]);}if(o.is(g+1,"selector")||o.is(g+1,"property")){d(N);}else {h.push(le);}}else if(c.stack[g]==="map"&&u(c.token[g+1],41)&&g-c.begin[g]>5){h.push(c.token[g]);d(N);}else if(c.token[g]==="x;"){d(N);}else if((o.is(g,"variable")||o.is(g,"function"))&&n.classPadding===true&&o.is(g-1,"end")&&c.lines[g]<3){h.push(e);h.push(c.token[g]);}else if(V(c.token[g],59)){h.push(c.token[g]);}g=g+1;}while(g<S);E.iterator=S-1;return h.join(b)};E.beautify.script=i=>{const f=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const n={};const e=E.data;const S="script";const P=E.scopes;const $=E.end<1||E.end>e.token.length?e.token.length:E.end+1;const N=(()=>{let t=E.start;let o=isNaN(i.indentLevel)?0:Number(i.indentLevel);let d=false;let W=false;let r="";let C="";let q=e.types[0];let l=e.token[0];const K=[-1];const J=[];const p=E.start>0?Array(E.start).fill(0,0,E.start):[];const M=[];const w=[[]];const T=[];const k=[];const z=[];const v=[false];const y=[];const m=[];function A(){j(false,false);const Q=i.script.commentIndent===true?o:0;if(d===false&&/\/\u002a\s*global\s/.test(e.token[t])){const I=e.token[t].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let a=I.length;do{a=a-1;I[a]=I[a].replace(/\s+/g,"");if(I[a]!=="")P.push([I[a],-1]);}while(a>0)}if(e.types[t-1]==="comment"||e.types[t+1]==="comment"){p[t-1]=Q;}else if(e.lines[t]<2){let I=t+1;if(e.types[I]==="comment"){do{I=I+1;}while(I<$&&e.types[I]==="comment")}if(t<$-1&&e.stack[I]!=="block"&&(e.token[I]==="{"||e.token[I]==="x{")){let a=P.length;e.begin.splice(t,0,e.begin[I]);e.ender.splice(t,0,e.ender[I]);e.lexer.splice(t,0,e.lexer[I]);e.lines.splice(t,0,e.lines[I]);e.stack.splice(t,0,e.stack[I]);e.token.splice(t,0,e.token[I]);e.types.splice(t,0,e.types[I]);if(a>0){do{a=a-1;if(P[a][1]===I){P[a][1]=t;}else if(P[a][1]<t){break}}while(a>0)}I=I+1;e.begin.splice(I,1);e.ender.splice(I,1);e.lexer.splice(I,1);e.lines.splice(I,1);e.stack.splice(I,1);e.token.splice(I,1);e.types.splice(I,1);a=t+1;do{e.begin[a]=t;e.stack[a]=e.stack[I];a=a+1;}while(a<I);a=a+1;do{if(e.begin[a]===e.begin[I]){e.begin[a]=t;if(e.types[a]==="end"){break}}a=a+1;}while(a<$-1);e.begin[I]=t;t=t-1;}else {p[t-1]=-10;if(e.stack[t]==="paren"||e.stack[t]==="method"){p.push(o+2);}else {p.push(o);}if(i.script.commentIndent===true&&p[t]>-1&&e.lines[t]<3){e.lines[t]=3;}}if(e.types[t+1]!=="comment")d=true;return}else if(e.token[t-1]===","){p[t-1]=Q;}else if(l==="="&&e.types[t-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(C)===true){p[t-1]=-10;}else if(l==="{"&&e.types[t-1]!=="comment"&&e.lines[0]<2){if(e.stack[t]==="function"){p[t-1]=Q;}else {p[t-1]=/\n/.test(C)?Q:-10;}}else {p[t-1]=Q;}if(e.types[t+1]!=="comment")d=true;if(e.token[e.begin[t]]==="("){p.push(o+1);}else {p.push(o);}if(p[t]>-1&&e.lines[t]<3){if(e.types[t-1]==="comment"&&C.startsWith("//")){e.lines[t]=2;}else {e.lines[t]=3;}}if(i.script.commentNewline===true&&C.startsWith("//")===false&&e.lines[t]>=3){e.lines[t]=2;}}function j(Q,I){let a=t-1;let x=Q===true?0:1;const O=w[w.length-1]===void 0?[]:w[w.length-1];const L=I===false&&e.stack[t]==="array"&&Q===true&&C!=="[";if(k[k.length-1]===false||e.stack[t]==="array"&&i.script.arrayFormat==="inline"||e.stack[t]==="object"&&i.script.objectIndent==="inline"){return}k[k.length-1]=false;do{if(e.types[a]==="end"){x=x+1;}else if(e.types[a]==="start"){x=x-1;}if(e.stack[a]==="global")break;if(x===0){if(e.stack[t]==="class"||e.stack[t]==="map"||L===false&&(Q===false&&e.token[a]!=="("&&e.token[a]!=="x("||Q===true&&e.token[a]===",")){if(e.types[a+1]==="template_start"){if(e.lines[a]<1){p[a]=-20;}else {p[a]=o-1;}}else if(O.length>0&&O[O.length-1]>-1){p[a]=o-1;}else {p[a]=o;}}else if(e.stack[t]==="array"&&e.types[t]==="operator"){if(e.token[a]===",")p[a]=o;if(a===e.begin[t])break}if(Q===false)break}if(x<0){if(e.types[a+1]==="template_start"||e.types[a+1]==="template_string_start"){if(e.lines[a]<1){p[a]=-20;}else {p[a]=o-1;}}else if(O.length>0&&O[O.length-1]>-1){p[a]=o-1;}else {p[a]=o;}break}a=a-1;}while(a>-1)}function Z(){const Q=w[w.length-1]===void 0?[]:w[w.length-1];const I=()=>{let a=t;let x=false;const O=e.begin[a];do{a=a-1;if(e.lexer[a]==="markup"){x=true;break}if(e.begin[a]!==O)a=e.begin[a];}while(a>O);if(x===true){a=t;do{a=a-1;if(e.begin[a]!==O){a=e.begin[a];}else if(e.token[a]===","){p[a]=o+1;}}while(a>O);p[O]=o+1;p[t-1]=o;}else {p[t-1]=-20;}};if(C===")"&&e.token[t+1]==="."&&Q[Q.length-1]>-1&&e.token[Q[0]]!==":"){let a=e.begin[t];let x=false;let O=false;do{a=a-1;}while(a>0&&p[a]<-9);x=p[a]===o;a=t+1;do{a=a+1;if(e.token[a]==="{"){O=true;break}if(e.begin[a]===e.begin[t+1]&&(e.types[a]==="separator"||e.types[a]==="end")){break}}while(a<$);if(x===false&&O===true&&w.length>1){w[w.length-2].push(e.begin[t]);o=o+1;}}if(q!=="separator")te();if(e.token[t+1]===","&&(e.stack[t]==="object"||e.stack[t]==="array")){j(true,false);}if(e.token[e.begin[t]-1]===","&&(e.token[t+1]==="}"||e.token[t+1]==="]")&&(e.stack[t]==="object"||e.stack[t]==="array")){j(true,false);}if(e.stack[t]!=="attribute"){if(C!==")"&&C!=="x)"&&(e.lexer[t-1]!=="markup"||e.lexer[t-1]==="markup"&&e.token[t-2]!=="return")){o=o-1;}if(C==="}"&&e.stack[t]==="switch"&&i.script.noCaseIndent===false){o=o-1;}}if(C==="}"||C==="x}"){if(e.types[t-1]!=="comment"&&l!=="{"&&l!=="x{"&&q!=="end"&&q!=="string"&&q!=="number"&&q!=="separator"&&l!=="++"&&l!=="--"&&(t<2||e.token[t-2]!==";"||e.token[t-2]!=="x;"||l==="break"||l==="return")){let a=t-1;let x=false;const O=e.begin[t];const L=J.length;do{if(e.begin[a]===O){if(e.token[a]==="="||e.token[a]===";"||e.token[a]==="x;"){x=true;}if(e.token[a]==="."&&p[a-1]>-1){k[k.length-1]=false;p[O]=o+1;p[t-1]=o;break}if(a>0&&e.token[a]==="return"&&(e.token[a-1]===")"||e.token[a-1]==="x)"||e.token[a-1]==="{"||e.token[a-1]==="x{"||e.token[a-1]==="}"||e.token[a-1]==="x}"||e.token[a-1]===";"||e.token[a-1]==="x;")){o=o-1;p[t-1]=o;break}if(e.token[a]===":"&&M.length===0||e.token[a]===","&&x===false){break}if(a===0||e.token[a-1]==="{"||e.token[a-1]==="x{"||e.token[a]==="for"||e.token[a]==="if"||e.token[a]==="do"||e.token[a]==="function"||e.token[a]==="while"||e.token[a]==="var"||e.token[a]==="let"||e.token[a]==="const"||e.token[a]==="with"){if(J[L-1]===false&&L>1&&(t===$-1||e.token[t+1]!==")"&&e.token[t+1]!=="x)")&&e.stack[t]!=="object"){o=o-1;}break}}else {a=e.begin[a];}a=a-1;}while(a>O)}K.pop();}if(i.script.bracePadding===false&&C!=="}"&&q!=="markup"){p[t-1]=-20;}if(i.script.bracePadding===true&&q!=="start"&&l!==";"&&(p[e.begin[t]]<-9||k[k.length-1]===true)){p[e.begin[t]]=-10;p[t-1]=-10;p.push(-20);}else if(e.stack[t]==="attribute"){p[t-1]=-20;p.push(o);}else if(e.stack[t]==="array"&&(Q.length>0||T[T.length-1]===true)){Y();k[k.length-1]=false;p[e.begin[t]]=o+1;p[t-1]=o;p.push(-20);}else if((e.stack[t]==="object"||e.begin[t]===0&&C==="}")&&Q.length>0){Y();k[k.length-1]=false;p[e.begin[t]]=o+1;p[t-1]=o;p.push(-20);}else if(C===")"||C==="x)"){const a=C===")"&&l!=="("&&m.length>0?m.pop()+1:0;const x=e.token[e.begin[t]-1]==="if"?(()=>{let O=t;do{O=O-1;if(e.token[O]===")"&&p[O-1]>-1)return a}while(O>e.begin[t]);return a+5})():a;if(a>0&&(i.language!=="jsx"||i.language==="jsx"&&e.token[e.begin[t]-1]!=="render")){const O=i.wrap;const L=e.begin[t];const R=m.length;let F=t-2;if(x>O){p[e.begin[t]]=o+1;p[t-1]=o;do{if(e.begin[F]===L){if(e.token[F]==="&&"||e.token[F]==="||"){p[F]=o+1;}else if(p[F]>-1&&e.types[F]!=="comment"&&e.token[F+1]!=="."){p[F]=p[F]+1;}}else if(p[F]>-1&&e.token[F+1]!=="."){p[F]=p[F]+1;}F=F-1;}while(F>L)}else if(R>0){m[R-1]=m[R-1]+a;}}else if(C===")"&&t>e.begin[t]+2&&e.lexer[e.begin[t]+1]===S&&e.token[e.begin[t]+1]!=="function"){const O=e.begin[t]<0?0:e.begin[t];const L=i.wrap;const R=Q.length;let F=0;let B=0;let ae=0;let Se=0;let ee=0;let me=false;let D=false;let _=o+1;let X=false;let G=false;let ce=false;if(p[O]<-9){B=O;do{B=B+1;}while(B<t&&p[B]<-9);Se=B;do{F=F+e.token[B].length;if(p[B]===-10)F=F+1;if(e.token[B]==="("&&ae>0&&ae<L-1&&Se===t){ae=-1;}if(e.token[B]===")"){ee=ee-1;}else if(e.token[B]==="("){ee=ee+1;}if(B===O&&ee>0)ae=F;B=B-1;}while(B>O&&p[B]<-9);if(e.token[B+1]===".")_=p[B]+1;if(F>L-1&&L>0&&l!=="("&&ae!==-1&&k[k.length-2]===false){if(e.token[O-1]==="if"&&J[J.length-1]===true||e.token[O-1]!=="if"){p[O]=_;if(e.token[O-1]==="for"){B=O;do{B=B+1;if(e.token[B]===";"&&e.begin[B]===O){p[B]=_;}}while(B<t)}}}}B=t;F=0;do{B=B-1;if(e.stack[B]==="function"){B=e.begin[B];}else if(e.begin[B]===O){if(e.token[B]==="?"){ce=true;}else if(e.token[B]===","&&me===false){me=true;if(F>=L&&L>0)X=true;}else if(e.types[B]==="markup"&&G===false){G=true;}if(p[B]>-9&&e.token[B]!==","&&e.types[B]!=="markup"){F=0;}else {if(p[B]===-10)F=F+1;F=F+e.token[B].length;if(F>=L&&L>0&&(me===true||G===true)){X=true;}}}else {if(p[B]>-9){F=0;}else {F=F+e.token[B].length;if(F>=L&&L>0&&(me===true||G===true)){X=true;}}}}while(B>O&&X===false);if(me===false&&e.token[e.begin[t]+1].charAt(0)==="`"){p[e.begin[t]]=-20;p[t-1]=-20;}else if((me===true||G===true)&&F>=L&&L>0||p[O]>-9){if(ce===true){_=p[O];if(e.token[O-1]==="["){B=t;do{B=B+1;if(e.types[B]==="end"||e.token[B]===","||e.token[B]===";"){break}}while(B<$);if(e.token[B]==="]"){_=_-1;D=true;}}}else if(R>0&&Q[R-1]>B){_=_-R;}k[k.length-1]=false;B=t;do{B=B-1;if(e.begin[B]===O){if(e.token[B].indexOf("=")>-1&&e.types[B]==="operator"&&e.token[B].indexOf("!")<0&&e.token[B].indexOf("==")<0&&e.token[B]!=="<="&&e.token[B].indexOf(">")<0){F=B;do{F=F-1;if(e.begin[F]===O&&(e.token[F]===";"||e.token[F]===","||F===O)){break}}while(F>O)}else if(e.token[B]===","){p[B]=_;}else if(p[B]>-9&&D===false&&(e.token[O-1]!=="for"||e.token[B+1]==="?"||e.token[B+1]===":")&&(e.token[e.begin[t]]!=="("||e.token[B]!=="+")){p[B]=p[B]+1;}}else if(p[B]>-9&&D===false){p[B]=p[B]+1;}}while(B>O);p[O]=_;p[t-1]=_-1;}else {p[t-1]=-20;}if(e.token[e.begin[t]-1]==="+"&&p[e.begin[t]]>-9){p[e.begin[t]-1]=-10;}}else if(i.language==="jsx"){I();}else {p[t-1]=-20;}p.push(-20);}else if(k[k.length-1]===true){if(C==="]"&&e.begin[t]-1>0&&e.token[e.begin[e.begin[t]-1]]==="["){k[k.length-2]=false;}if(e.begin[t]<p.length)p[e.begin[t]]=-20;if(i.language==="jsx"){I();}else if(C==="]"&&p[e.begin[t]]>-1){p[t-1]=p[e.begin[t]]-1;}else {p[t-1]=-20;}p.push(-20);}else if(e.types[t-1]==="comment"&&e.token[t-1].substring(0,2)==="//"){if(e.token[t-2]==="x}")p[t-3]=o+1;p[t-1]=o;p.push(-20);}else if(e.types[t-1]!=="comment"&&(l==="{"&&C==="}"||l==="["&&C==="]")){p[t-1]=-20;p.push(-20);}else if(C==="]"){if(J[J.length-1]===true&&k[k.length-1]===false&&i.script.arrayFormat!=="inline"||l==="]"&&p[t-2]===o+1){p[t-1]=o;p[e.begin[t]]=o+1;}else if(p[t-1]===-10){p[t-1]=-20;}if(e.token[e.begin[t]+1]==="function"){p[t-1]=o;}else if(J[J.length-1]===false){if(l==="}"||l==="x}")p[t-1]=o;let a=t-1;let x=1;do{if(e.token[a]==="]")x=x+1;if(e.token[a]==="["){x=x-1;if(x===0){if(a>0&&(e.token[a+1]==="{"||e.token[a+1]==="x{"||e.token[a+1]==="[")){p[a]=o+1;break}if(e.token[a+1]!=="["||W===false){p[a]=-20;break}break}}if(x===1&&e.token[a]==="+"&&p[a]>1){p[a]=p[a]-1;}a=a-1;}while(a>-1)}else if(i.language==="jsx"){I();}if(i.script.arrayFormat==="inline"){let a=t;const x=e.begin[t];do{a=a-1;if(e.types[a]==="end")break}while(a>x);if(a>x){p[e.begin[t]]=o+1;p[t-1]=o;}else {p[e.begin[t]]=-20;p[t-1]=-20;}}else if(p[e.begin[t]]>-1){p[t-1]=p[e.begin[t]]-1;}p.push(-20);}else if(C==="}"||C==="x}"||J[J.length-1]===true){if(C==="}"&&l==="x}"&&e.token[t+1]==="else"){p[t-2]=o+2;p.push(-20);}else {p.push(o);}p[t-1]=o;}else {p.push(-20);}if(e.types[t-1]==="comment")p[t-1]=o;Y();W=J[J.length-1];J.pop();w.pop();T.pop();z.pop();y.pop();k.pop();v.pop();}function Y(){let Q=0;const I=w[w.length-1];if(I===void 0)return;Q=I.length-1;if(Q<1&&I[Q]<0&&(C===";"||C==="x;"||C===")"||C==="x)"||C==="}"||C==="x}")){I.pop();return}if(Q<0||I[Q]<0)return;if(C===":"){if(e.token[I[Q]]!=="?"){do{I.pop();Q=Q-1;o=o-1;}while(Q>-1&&I[Q]>-1&&e.token[I[Q]]!=="?")}I[Q]=t;p[t-1]=o;}else {do{I.pop();Q=Q-1;o=o-1;}while(Q>-1&&I[Q]>-1)}if((e.stack[t]==="array"||C===",")&&I.length<1)I.push(-1);}function ue(){const Q=t;do{if(e.lexer[t+1]===S&&e.begin[t+1]<Q)break;if(e.token[Q-1]==="return"&&e.types[t]==="end"&&e.begin[t]===Q)break;p.push(0);t=t+1;}while(t<$);n[Q]=t;p.push(o-1);}function te(){let Q=t-1;const I=e.begin[t];if(o<1)return;do{if(I!==e.begin[Q]){Q=e.begin[Q];}else {if(e.types[Q]==="separator"||e.types[Q]==="operator"){if(e.token[Q]==="."&&p[Q-1]>0){if(e.token[I-1]==="if"){o=o-2;}else {o=o-1;}}break}}Q=Q-1;}while(Q>0&&Q>I)}function se(){if(e.token[t+1]!==","&&C.indexOf("/>")!==C.length-2||e.token[t+1]===","&&e.token[e.begin[t]-3]!=="React"){j(false,false);}if(l==="return"||l==="?"||l===":"){p[t-1]=-10;p.push(-20);}else if(q==="start"||e.token[t-2]==="return"&&e.stack[t-1]==="method"){p.push(o);}else {p.push(-20);}}function Pe(){const Q=w[w.length-1]===void 0?[]:w[w.length-1];function I(){const a=e.token[t+1];let x=0;let O=0;let L=t;let R=C==="+"?o+2:o;let F=0;if(i.wrap<1){p.push(-10);return}do{L=L-1;if(e.token[e.begin[t]]==="("){if(L===e.begin[t]){F=x;}if(e.token[L]===","&&e.begin[L]===e.begin[t]&&J[J.length-1]===true){break}}if(x>i.wrap-1)break;if(p[L]>-9)break;if(e.types[L]==="operator"&&e.token[L]!=="="&&e.token[L]!=="+"&&e.begin[L]===e.begin[t]){break}x=x+e.token[L].length;if(L===e.begin[t]&&e.token[L]==="["&&x<i.wrap-1){break}if(e.token[L]==="."&&p[L]>-9)break;if(p[L]===-10)x=x+1;}while(L>0);if(F>0)F=F+a.length;x=x+a.length;O=L;if(x>i.wrap-1&&p[L]<-9){do{O=O-1;}while(O>0&&p[O]<-9)}if(e.token[O+1]==="."&&e.begin[t]<=e.begin[O]){R=R+1;}else if(e.types[O]==="operator"){R=p[O];}O=a.length;if(x+O<i.wrap){p.push(-10);return}if(e.token[e.begin[t]]==="("&&(e.token[Q[0]]===":"||e.token[Q[0]]==="?")){R=o+3;}else if(e.stack[t]==="method"){p[e.begin[t]]=o;if(J[J.length-1]===true){R=o+3;}else {R=o+1;}}else if(e.stack[t]==="object"||e.stack[t]==="array"){j(true,false);}if(e.token[L]==="var"||e.token[L]==="let"||e.token[L]==="const"){x=x-i.indentSize*i.indentChar.length*2;}if(F>0){L=i.wrap-F;}else {L=i.wrap-x;}if(L>0&&L<5){p.push(R);if(e.token[t].charAt(0)==='"'||e.token[t].charAt(0)==="'"){t=t+1;p.push(-10);}return}if(e.token[e.begin[t]]!=="("||F>i.wrap-1||F===0){if(F>0)x=F;if(x-a.length<i.wrap-1&&(a.charAt(0)==='"'||a.charAt(0)==="'")){t=t+1;x=x+3;if(x-a.length>i.wrap-4){p.push(R);return}p.push(-10);return}p.push(R);return}p.push(-10);}te();if(Q.length>0&&Q[Q.length-1]>-1&&e.stack[t]==="array"){T[T.length-1]=true;}if(C!==":"){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&k.length>0){j(true,false);}if(C!=="?"&&e.token[Q[Q.length-1]]==="."){let a=0;let x=t;const O=e.begin[x];do{if(e.begin[x]===O){if(e.token[x+1]==="{"||e.token[x+1]==="["||e.token[x]==="function"){break}if(e.token[x]===","||e.token[x]===";"||e.types[x]==="end"||e.token[x]===":"){Q.pop();o=o-1;break}if(e.token[x]==="?"||e.token[x]===":"){if(e.token[Q[Q.length-1]]==="."&&a<2)Q[Q.length-1]=O+1;break}if(e.token[x]===".")a=a+1;}x=x+1;}while(x<$)}}if(C==="!"||C==="..."){if(l==="}"||l==="x}")p[t-1]=o;p.push(-20);return}if(l===";"||l==="x;"){if(e.token[e.begin[t]-1]!=="for")p[t-1]=o;p.push(-20);return}if(C==="*"){if(l==="function"||l==="yield"){p[t-1]=-20;}else {p[t-1]=-10;}p.push(-10);return}if(C==="?"){if(e.lines[t]===0&&e.types[t-2]==="word"&&e.token[t-2]!=="return"&&e.token[t-2]!=="in"&&e.token[t-2]!=="instanceof"&&e.token[t-2]!=="typeof"&&(q==="reference"||q==="word")){if(e.types[t+1]==="word"||e.types[t+1]==="reference"||(e.token[t+1]==="("||e.token[t+1]==="x(")&&e.token[t-2]==="new"){p[t-1]=-20;if(e.types[t+1]==="word"||e.types[t+1]==="reference"){p.push(-10);return}p.push(-20);return}}if(e.token[t+1]===":"){p[t-1]=-20;p.push(-20);return}M.push(t);if(i.script.ternaryLine===true){p[t-1]=-10;}else {let a=t-1;do{a=a-1;}while(a>-1&&p[a]<-9);Q.push(t);o=o+1;if(p[a]===o&&e.token[a+1]!==":"){o=o+1;Q.push(t);}p[t-1]=o;if(e.token[e.begin[t]]==="("&&(Q.length<2||Q[0]===Q[1])){k[k.length-1]=false;if(t-2===e.begin[t]){p[e.begin[t]]=o-1;}else {p[e.begin[t]]=o;}a=t-2;do{if(e.types[a]==="end"&&p[a-1]>-1)break;if(p[a]>-1)p[a]=p[a]+1;a=a-1;}while(a>e.begin[t])}}p.push(-10);return}if(C===":"){if(e.stack[t]==="map"||e.types[t+1]==="type"||e.types[t+1]==="type_start"){p[t-1]=-20;p.push(-10);return}if(M.length>0&&e.begin[M[M.length-1]]===e.begin[t]){let a=t;const x=e.begin[t];do{a=a-1;if(e.begin[a]===x){if(e.token[a]===","||e.token[a]===";"){p[t-1]=-20;break}if(e.token[a]==="?"){M.pop();Y();if(i.script.ternaryLine===true)p[t-1]=-10;p.push(-10);return}}else if(e.types[a]==="end"){a=e.begin[a];}}while(a>x)}if(e.token[t-2]==="where"&&e.stack[t-2]===e.stack[t]){p[t-1]=-10;p.push(-10);return}if(q==="reference"&&e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("){p[t-1]=-20;p.push(-10);return}if((l===")"||l==="x)")&&e.token[e.begin[t-1]-2]==="function"){p[t-1]=-20;p.push(-10);return}if(e.stack[t]==="attribute"){p[t-1]=-20;p.push(-10);return}if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&(q==="reference"||l===")"||l==="]"||l==="?")&&(e.stack[t]==="map"||e.stack[t]==="class"||e.types[t+1]==="reference")&&(M.length===0||M[M.length-1]<e.begin[t])&&("mapclassexpressionmethodglobalparen".indexOf(e.stack[t])>-1||e.types[t-2]==="word"&&e.stack[t]!=="switch")){p[t-1]=-20;p.push(-10);return}if(e.stack[t]==="switch"&&(M.length<1||M[M.length-1]<e.begin[t])){p[t-1]=-20;if(i.script.caseSpace===true){p.push(-10);}else {p.push(o);}return}if(e.stack[t]==="object"){p[t-1]=-20;}else if(M.length>0){p[t-1]=o;}else {p[t-1]=-10;}p.push(-10);return}if(C==="++"||C==="--"){if(q==="number"||q==="reference"){p[t-1]=-20;p.push(-10);}else if(t<$-1&&(e.types[t+1]==="number"||e.types[t+1]==="reference")){p.push(-20);}else {p.push(-10);}return}if(C==="+"){if(q==="start"){p[t-1]=-20;}else {p[t-1]=-10;}if(i.wrap<1||e.token[e.begin[t]]==="x("){p.push(-10);return}const a=e.token[t+1];if(a===void 0){p.push(-10);return}if(e.types[t-1]==="operator"||e.types[t-1]==="start"){if(e.types[t+1]==="reference"||a==="("||a==="["){p.push(-20);return}if(Number(a.slice(1,-1))>-1&&(/\d/.test(a.charAt(1))===true||a.charAt(1)==="."||a.charAt(1)==="-"||a.charAt(1)==="+")){p.push(-20);return}}return I()}if(e.types[t-1]!=="comment"){if(l==="("){p[t-1]=-20;}else if(C==="*"&&e.stack[t]==="object"&&e.types[t+1]==="reference"&&(l==="{"||l===",")){p[t-1]=o;}else if(C!=="?"||M.length===0){p[t-1]=-10;}}if(C.indexOf("=")>-1&&C!=="=="&&C!=="==="&&C!=="!="&&C!=="!=="&&C!==">="&&C!=="<="&&C!=="=>"&&e.stack[t]!=="method"&&e.stack[t]!=="object"){let a=t+1;let x=0;let O=false;let L="";if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&e.token[t+1]!=="function"){return}do{if(e.types[a]==="start"){if(O===true&&e.token[a]!=="["){if(v[v.length-1]===true){v[v.length-1]=false;}break}x=x+1;}if(e.types[a]==="end")x=x-1;if(x<0){if(v[v.length-1]===true){v[v.length-1]=false;}break}if(x===0){L=e.token[a];if(O===true){if(e.types[a]==="operator"||e.token[a]===";"||e.token[a]==="x;"||e.token[a]==="?"||e.token[a]==="var"||e.token[a]==="let"||e.token[a]==="const"){if(L!==void 0&&(L==="?"||L.indexOf("=")>-1&&L!=="=="&&L!=="==="&&L!=="!="&&L!=="!=="&&L!==">="&&L!=="<=")){if(v[v.length-1]===false){v[v.length-1]=true;}}if((L===";"||L==="x;"||L==="var"||L==="let"||L==="const")&&v[v.length-1]===true){v[v.length-1]=false;}break}if(v[v.length-1]===true&&(L==="return"||L==="break"||L==="continue"||L==="throw")){v[v.length-1]=false;}}if(L===";"||L==="x;"||L===",")O=true;}a=a+1;}while(a<$);p.push(-10);return}if(C==="-"&&l==="return"||l==="="){p.push(-20);return}if(q==="operator"&&e.types[t+1]==="reference"&&l!=="--"&&l!=="++"&&C!=="&&"&&C!=="||"){p.push(-20);return}return I()}function ne(){const Q=()=>{let I=e.begin[t];if(I<0){P.push([e.token[t],-1]);}else {if(e.stack[I+1]!=="function"){do{I=e.begin[I];}while(I>-1&&e.stack[I+1]!=="function")}P.push([e.token[t],I]);}};if(e.types[t-1]==="comment"){p[t-1]=o;}else if(q==="end"&&l!==")"&&e.token[e.begin[t-1]-1]!==")"){p[t-1]=-10;}else if(q!=="separator"&&q!=="start"&&q!=="end"&&q.indexOf("template_string")<0){if(q==="word"||q==="operator"||q==="property"||q==="type"||q==="reference"){p[t-1]=-10;}else {p[t-1]=-20;}}if(l==="var"&&e.lexer[t-1]===S){Q();}else if(l==="function"){P.push([e.token[t],t]);}else if(l==="let"||l==="const"){P.push([e.token[t],t]);}else if(e.stack[t]==="arguments"){P.push([e.token[t],t]);}else if(l===","){let I=t;do{I=I-1;}while(I>e.begin[t]&&e.token[I]!=="var"&&e.token[I]!=="let"&&e.token[I]!=="const");if(e.token[I]==="var"){Q();}else if(e.token[I]==="let"||e.token[I]==="const"){P.push([e.token[t],t]);}}p.push(-10);}function re(){const Q=w[w.length-1]===void 0?[]:w[w.length-1];const I=()=>{if(i.script.methodChain>0){let a=t;let x=e.begin[t];const O=[t];const L=e.token[x-1]==="if";do{a=a-1;if(e.types[a]==="end")a=e.begin[a];if(e.begin[a]===x){if(e.types[a]==="string"&&e.token[a].indexOf("${")===e.token[a].length-2){break}if(e.token[a]==="."){if(p[a-1]>0){p[t-1]=L===true?o+1:o;return}O.push(a);}else if(e.token[a]===";"||e.token[a]===","||e.types[a]==="operator"||(e.types[a]==="word"||e.types[a]==="reference")&&(e.types[a-1]==="word"||e.types[a-1]==="reference")){break}}}while(a>x);if(O.length<i.script.methodChain){p[t-1]=-20;return}a=0;x=O.length;do{p[O[a]-1]=L===true?o+1:o;a=a+1;}while(a<x);a=O[O.length-1]-1;do{if(p[a]>-1)p[a]=p[a]+1;a=a+1;}while(a<t);o=L===true?o+2:o+1;}p[t-1]=o;};if(C==="::"){p[t-1]=-20;p.push(-20);return}if(C==="."){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&Q.length>0){if(e.stack[t]==="object"||e.stack[t]==="array"){j(true,false);}else {j(false,false);}}if(i.script.methodChain===0){p[t-1]=-20;}else if(i.script.methodChain<0){if(e.lines[t]>0){I();}else {p[t-1]=-20;}}else {I();}p.push(-20);return}if(C===","){te();if(J[J.length-1]===false&&(e.stack[t]==="object"||e.stack[t]==="array"||e.stack[t]==="paren"||e.stack[t]==="expression"||e.stack[t]==="method")){J[J.length-1]=true;if(e.token[e.begin[t]]==="("){let a=t;do{a=a-1;if(e.begin[a]===e.begin[t]&&e.token[a]==="+"&&p[a]>-9){p[a]=p[a]+2;}}while(a>e.begin[t])}}if(e.stack[t]==="array"&&i.script.arrayFormat==="indent"){p[t-1]=-20;p.push(o);return}if(e.stack[t]==="array"&&i.script.arrayFormat==="inline"){p[t-1]=-20;p.push(-10);return}if(e.stack[t]==="object"&&i.script.objectIndent==="indent"){p[t-1]=-20;p.push(o);return}if(e.stack[t]==="object"&&i.script.objectIndent==="inline"){p[t-1]=-20;p.push(-10);return}if(Q.length>0){if(Q[Q.length-1]>-1)Y();p[t-1]=-20;p.push(o);return}if(e.token[t-2]===":"&&e.token[t-4]==="where"){p[t-1]=-20;p.push(-10);return}p[t-1]=-20;if(e.types[t+1]!=="end"){z[z.length-1]=z[z.length-1]+1;}if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&i.language!=="jsx"&&e.stack[t]!=="global"&&(e.types[t-1]!=="string"&&e.types[t-1]!=="number"||e.token[t-2]!=="+"||e.types[t-1]==="string"&&e.types[t-1]!=="number"&&e.token[t-2]==="+"&&e.types[t-3]!=="string"&&e.types[t-3]!=="number")){p.push(-10);return}if(q==="reference"&&e.types[t-2]==="word"&&"var-let-const-from".indexOf(e.token[t-2])<0&&(e.types[t-3]==="end"||e.token[t-3]===";")){y[y.length-1]=true;p.push(-10);return}if(y[y.length-1]===true||e.stack[t]==="notation"){p.push(-10);return}if(z[z.length-1]>3&&(e.stack[t]==="array"||e.stack[t]==="object")){if(k[k.length-1]===true)j(true,true);p[t-1]=-20;if(T[T.length-1]===true){p.push(o);return}const a=e.begin[t];let x=t;do{if(e.types[x]==="end"){x=e.begin[x];}else {if(e.token[x]===","&&e.types[x+1]!=="comment"){p[x]=o;}}x=x-1;}while(x>a);p[a]=o;T[T.length-1]=true;return}if(e.stack[t]==="object"){if(k[k.length-1]===true&&e.types[e.begin[t]-1]!=="word"&&e.types[e.begin[t]-1]!=="reference"&&e.token[e.begin[t]-1]!=="("&&e.token[e.begin[t]-1]!=="x("){const a=e.begin[t];let x=t-1;do{if(e.begin[x]===a){if(e.token[x]===",")break;if(e.token[x]===":"){j(true,false);break}}x=x-1;}while(x>a)}}if(k[k.length-1]===false||e.token[t-2]==="+"&&(q==="string"||q==="number")&&p[t-2]>0&&(l.charAt(0)==='"'||l.charAt(0)==="'")){if(e.stack[t]==="method"){if(e.token[t-2]==="+"&&(l.charAt(0)==='"'||l.charAt(0)==="'")&&(e.token[t-3].charAt(0)==='"'||e.token[t-3].charAt(0)==="'")){p.push(o+2);return}if(e.token[t-2]!=="+"){p.push(-10);return}}p.push(o);return}if(k[k.length-1]===true&&e.stack[t]!=="object"){p.push(-10);return}if(z[z.length-1]<4&&(e.stack[t]==="array"||e.stack[t]==="object")){p.push(-10);return}p.push(o);return}if(C===";"||C==="x;"){te();if(e.token[t+1]!==void 0&&e.types[t+1].indexOf("attribute")>0&&e.types[t+1].indexOf("end")>0){p[t-1]=-20;p.push(o-1);return}if(K[K.length-1]>-1&&e.stack[K[K.length-1]]!=="expression"){let a=t;do{a=a-1;if(e.token[a]===";")break;if(e.token[a]===","){o=o-1;break}if(e.types[a]==="end")a=e.begin[a];}while(a>0&&a>e.begin[t])}K[K.length-1]=-1;Y();if(e.token[e.begin[t]-1]!=="for")j(false,false);y[y.length-1]=false;p[t-1]=-20;if(e.begin[t]>0&&e.token[e.begin[t]-1]==="for"&&e.stack[t]!=="for"){p.push(-10);return}p.push(o);return}p.push(-20);}function ie(){const Q=e.stack[t+1];const I=t===0?e.stack[t]:e.stack[t-1];if(l===")"||(I==="object"||I==="array")&&l!=="]"){if(Q!=="method"||Q==="method"&&e.token[t+1]!==")"&&e.token[t+2]!==")"){if(l===")"&&(Q!=="function"||e.token[e.begin[e.begin[t-1]-1]]==="("||e.token[e.begin[e.begin[t-1]-1]]==="x(")){j(false,false);}else if(e.types[t+1]!=="end"&&e.types[t+2]!=="end"){j(true,false);}}}J.push(false);w.push([]);v.push(false);T.push(false);y.push(false);z.push(0);if(i.script.neverFlatten===true||Q==="array"&&i.script.arrayFormat==="indent"||Q==="attribute"||q==="generic"||Q==="class"&&l!=="("&&l!=="x("||C==="["&&e.token[t+1]==="function"){k.push(false);}else {if(Q==="expression"||Q==="method"){k.push(true);}else if((Q==="object"||Q==="class")&&(l==="("||l==="x("||q==="word"||q==="reference")){k.push(true);}else if(Q==="array"||C==="("||C==="x("){k.push(true);}else if(C==="{"&&Q==="object"&&q!=="operator"&&q!=="start"&&q!=="string"&&q!=="number"&&I!=="object"&&I!=="array"&&t>0){k.push(true);}else {k.push(false);}}if(C!=="("&&C!=="x("&&e.stack[t+1]!=="attribute"){o=o+1;}if(C==="{"||C==="x{"){K.push(-1);if(e.types[t-1]!=="comment"){if(q==="markup"){p[t-1]=o;}else if(i.script.braceAllman===true&&q!=="operator"&&l!=="return"){p[t-1]=o-1;}else if(e.stack[t+1]!=="block"&&(Q==="function"||l===")"||l==="x)"||l===","||l==="}"||q==="markup")){p[t-1]=-10;}else if(l==="{"||l==="x{"||l==="["||l==="}"||l==="x}"){p[t-1]=o-1;}}if(Q==="object"){if(i.script.objectIndent==="indent"){k[k.length-1]=false;p.push(o);return}if(i.script.objectIndent==="inline"){k[k.length-1]=true;p.push(-20);return}}if(Q==="switch"){if(i.script.noCaseIndent===true){p.push(o-1);return}o=o+1;p.push(o);return}if(k[k.length-1]===true){if(q!=="word"&&q!=="reference"){p.push(-20);return}}p.push(o);return}if(C==="("||C==="x("){if(i.wrap>0&&C==="("&&e.token[t+1]!==")"){m.push(1);}if(l==="-"&&(e.token[t-2]==="("||e.token[t-2]==="x(")){p[t-2]=-20;}if(q==="end"&&I!=="if"&&I!=="for"&&I!=="catch"&&I!=="else"&&I!=="do"&&I!=="try"&&I!=="finally"&&I!=="catch"){if(e.types[t-1]==="comment"){p[t-1]=o;}else {p[t-1]=-20;}}if(l==="async"){p[t-1]=-10;}else if(Q==="method"||e.token[t-2]==="function"&&q==="reference"){if(l==="import"||l==="in"||i.script.functionNameSpace===true){p[t-1]=-10;}else if(l==="}"&&e.stack[t-1]==="function"||q==="word"||q==="reference"||q==="property"){p[t-1]=-20;}else if(I!=="method"&&Q!=="method"){p[t-1]=o;}}if(l==="+"&&(e.token[t-2].charAt(0)==='"'||e.token[t-2].charAt(0)==="'")){p.push(o);return}if(l==="}"||l==="x}"){p.push(-20);return}if(l==="-"&&(t<2||e.token[t-2]!==")"&&e.token[t-2]!=="x)"&&e.token[t-2]!=="]"&&e.types[t-2]!=="reference"&&e.types[t-2]!=="string"&&e.types[t-2]!=="number")||i.script.functionSpace===false&&l==="function"){p[t-1]=-20;}p.push(-20);return}if(C==="["){if(l==="[")J[J.length-2]=true;if(l==="return"||l==="var"||l==="let"||l==="const"){p[t-1]=-10;}else if(e.types[t-1]!=="comment"&&e.stack[t-1]!=="attribute"&&(q==="end"||q==="word"||q==="reference")){p[t-1]=-20;}else if(l==="["||l==="{"||l==="x{"){p[t-1]=o-1;}if(e.stack[t]==="attribute"){p.push(-20);return}if(i.script.arrayFormat==="indent"){k[k.length-1]=false;p.push(o);return}if(i.script.arrayFormat==="inline"){k[k.length-1]=true;p.push(-20);return}if(Q==="method"||k[k.length-1]===true){p.push(-20);return}let a=t+1;do{if(e.token[a]==="]"){p.push(-20);return}if(e.token[a]===","){p.push(o);return}a=a+1;}while(a<$);p.push(-20);}}function Ce(){if(C.length===1){p.push(-20);if(e.lines[t]===0)p[t-1]=-20;}else if(C.indexOf("#!/")===0){p.push(o);}else if(q!=="template"&&e.types[t+1]!=="template"){p.push(-10);}if((l===","||q==="start")&&(e.stack[t]==="object"||e.stack[t]==="array")&&k[k.length-1]===false&&t>0){p[t-1]=o;}}function we(){if(i.language!=="json"&&e.types[t-1]!=="string"){if(r==="template_else"){p[t-1]=o-1;p.push(o);}else if(r==="template_start"){o=o+1;if(e.lines[t-1]<1)p[t-1]=-20;if(e.lines[t]>0||l.length===1&&q==="string"){p.push(o);}else {p.push(-20);}}else if(r==="template_end"){o=o-1;if(q==="template_start"||e.lines[t-1]<1){p[t-1]=-20;}else {p[t-1]=o;}if(e.lines[t]>0){p.push(o);}else {p.push(-20);}}else if(r==="template"){if(e.lines[t]>0){p.push(o);}else {p.push(-20);}}}}function H(){if(r==="template_string_start"){o=o+1;p.push(o);}else if(r==="template_string_else"){te();p[t-1]=o-1;p.push(o);}else {te();o=o-1;p[t-1]=o;p.push(-10);}if(t>2&&(e.types[t-2]==="template_string_else"||e.types[t-2]==="template_string_start")){if(i.script.bracePadding===true){p[t-2]=-10;p[t-1]=-10;}else {p[t-2]=-20;p[t-1]=-20;}}}function ye(){if(e.token[t-1]===","||e.token[t-1]===":"&&e.stack[t-1]!=="data_type"){p[t-1]=-10;}else {p[t-1]=-20;}if(e.types[t]==="type"||e.types[t]==="type_end"){p.push(-10);}if(e.types[t]==="type_start"){p.push(-20);}}function We(){if((l===")"||l==="x)")&&e.stack[t]==="class"&&(e.token[e.begin[t-1]-1]==="static"||e.token[e.begin[t-1]-1]==="final"||e.token[e.begin[t-1]-1]==="void")){p[t-1]=-10;p[e.begin[t-1]-1]=-10;}if(l==="]")p[t-1]=-10;if(C==="else"&&l==="}"){if(e.token[t-2]==="x}")p[t-3]=p[t-3]-1;if(i.script.braceAllman===true||i.script.elseNewline===true){p[t-1]=o;}}if(C==="new"&&f.has(e.token[t+1]));if(C==="from"&&q==="end"&&t>0&&(e.token[e.begin[t-1]-1]==="import"||e.token[e.begin[t-1]-1]===",")){p[t-1]=-10;}if(C==="function"){if(i.script.functionSpace===false&&t<$-1&&(e.token[t+1]==="("||e.token[t+1]==="x(")){p.push(-20);return}p.push(-10);return}if(l==="-"&&t>1){if(e.types[t-2]==="operator"||e.token[t-2]===","){p[t-1]=-20;}else if(e.types[t-2]==="start"){p[t-2]=-20;p[t-1]=-20;}}else if(C==="while"&&(l==="}"||l==="x}")){let Q=t-1;let I=0;do{if(e.token[Q]==="}"||e.token[Q]==="x}")I=I+1;if(e.token[Q]==="{"||e.token[Q]==="x{")I=I-1;if(I===0){if(e.token[Q-1]==="do"){p[t-1]=-10;break}p[t-1]=o;break}Q=Q-1;}while(Q>-1)}else if(C==="in"||(C==="else"&&i.script.elseNewline===false&&i.script.braceAllman===false||C==="catch")&&(l==="}"||l==="x}")){p[t-1]=-10;}else if(C==="var"||C==="let"||C==="const"){K[K.length-1]=t;if(q==="end")p[t-1]=o;if(e.token[e.begin[t]-1]!=="for"){let Q=t+1;let I=0;do{if(e.types[Q]==="end")I=I-1;if(e.types[Q]==="start")I=I+1;if(I<0||I===0&&(e.token[Q]===";"||e.token[Q]===",")){break}Q=Q+1;}while(Q<$);if(e.token[Q]===",")o=o+1;}p.push(-10);return}if((C==="default"||C==="case")&&q!=="word"&&e.stack[t]==="switch"){p[t-1]=o-1;p.push(-10);return}if(C==="catch"&&l==="."){p[t-1]=-20;p.push(-20);return}if(C==="catch"||C==="finally"){p[t-1]=-10;p.push(-10);return}if(i.script.bracePadding===false&&t<$-1&&e.token[t+1].charAt(0)==="}"){p.push(-20);return}if(e.stack[t]==="object"&&(l==="{"||l===",")&&(e.token[t+1]==="("||e.token[t+1]==="x(")){p.push(-20);return}if(e.types[t-1]==="comment"&&e.token[e.begin[t]]==="("){p[t-1]=o+1;}p.push(-10);}do{if(e.lexer[t]===S){r=e.types[t];C=e.token[t];if(r==="comment"){A();}else if(r==="regex"){p.push(-20);}else if(r==="string"){Ce();}else if(r.indexOf("template_string")===0){H();}else if(r==="separator"){re();}else if(r==="start"){ie();}else if(r==="end"){Z();}else if(r==="type"||r==="type_start"||r==="type_end"){ye();}else if(r==="operator"){Pe();}else if(r==="word"){We();}else if(r==="reference"){ne();}else if(r==="markup"){se();}else if(r.indexOf("template")===0){we();}else if(r==="generic"){if(l!=="return"&&l.charAt(0)!=="#"&&q!=="operator"&&l!=="public"&&l!=="private"&&l!=="static"&&l!=="final"&&l!=="implements"&&l!=="class"&&l!=="void"){p[t-1]=-20;}if(e.token[t+1]==="("||e.token[t+1]==="x("){p.push(-20);}else {p.push(-10);}}else {p.push(-10);}if(r!=="comment"){q=r;l=C;}if(m.length>0&&e.token[t]!==")"){if(e.types[t]==="comment"&&m[m.length-1]>-1){m[m.length-1]=i.wrap+1;}else if(p[t]>-1||e.token[t].charAt(0)==="`"&&e.token[t].indexOf(ke)>0){m[m.length-1]=-1;}else if(m[m.length-1]>-1){m[m.length-1]=m[m.length-1]+e.token[t].length;if(p[t]===-10)m[m.length-1]=m[m.length-1]+1;}}}else {ue();}t=t+1;}while(t<$);return p})();const g=(()=>{const t=[];const o=(()=>{const p=[];const M=i.indentChar;let w=i.indentSize;if(typeof w!=="number"||w<1)return "";do{p.push(M);w=w-1;}while(w>0);return p.join("")})();const d=i.crlf===true?"\r\n":ke;const W=i.preserveLine+1;const r=["x;","x}","x{","x(","x)"];let C=E.start;let q="";let l=i.indentLevel;function K(p){const M=[];const w=(()=>{if(C===$-1)return 1;if(e.lines[C+1]-1>W)return W;if(e.lines[C+1]>1)return e.lines[C+1]-1;return 1})();let T=0;if(p<0)p=0;do{M.push(d);T=T+1;}while(T<w);if(p>0){T=0;do{M.push(o);T=T+1;}while(T<p)}return M.join(b)}if(i.script.vertical===true){let p=function(M){let w=0;let T=0;let k=M-1;let z=0;let v=0;const y=e.begin[C];const m=[];do{if((e.begin[k]===y||e.token[k]==="]"||e.token[k]===")")&&(e.token[k+1]===":"&&e.stack[k]==="object"||e.token[k+1]==="=")){z=k;T=0;do{if(e.begin[z]===y){if(e.token[z]===","||e.token[z]===";"||e.token[z]==="x;"||N[z]>-1&&e.types[z]!=="comment"){if(e.token[z+1]==="."){T=T+i.indentSize*i.indentChar.length;}break}}else if(N[z]>-1){break}if(e.types[z]!=="comment"){if(N[z-1]===-10)T=T+1;T=e.token[z].length+T;}z=z-1;}while(z>y);v=z;if(e.token[v]===","&&e.token[k+1]==="="){do{if(e.types[v]==="end")v=e.begin[v];if(e.begin[v]===y){if(e.token[v]===";"||e.token[v]==="x;")break;if(e.token[v]==="var"||e.token[v]==="const"||e.token[v]==="let"){T=T+i.indentSize*i.indentChar.length;break}}v=v-1;}while(v>y)}if(T>w)w=T;m.push([k,T]);k=z;}else if(e.types[k]==="end"){k=e.begin[k];}k=k-1;}while(k>y);k=m.length;if(k>0){do{k=k-1;z=m[k][1];if(z<w){do{e.token[m[k][0]]=e.token[m[k][0]]+le;z=z+1;}while(z<w)}}while(k>0)}};C=$;do{C=C-1;if(e.lexer[C]==="script"){if(e.token[C]==="}"&&e.token[C-1]!=="{"&&N[e.begin[C]]>0){p(C);}}else {C=e.begin[C];}}while(C>0)}C=E.start;do{if(e.lexer[C]===S||E.beautify[e.lexer[C]]===void 0){if(e.types[C]==="comment"&&i.script.commentIndent===true){if(/\n/.test(e.token[C])){const p=e.begin[C]>-1?e.token[C].charAt(2)==="*"?$e(N[C],o)+i.indentChar:$e(N[C],o):i.indentChar;const M=e.token[C].split(/\n/);let w=1;do{M[w]=p+M[w].trimStart();w=w+1;}while(w<M.length);e.token.splice(C,1,M.join(ke));}}if(r.indexOf(e.token[C])<0){if(e.token[C]!==";"||i.script.noSemicolon===false){t.push(e.token[C]);}else if(N[C]<0&&e.types[C+1]!=="comment"){t.push(";");}}if(C<$-1&&e.lexer[C+1]!==S&&e.begin[C]===e.begin[C+1]&&e.types[C+1].indexOf("end")<0&&e.token[C]!==","){t.push(le);}else if(N[C]>-1){if((N[C]>-1&&e.token[C]==="{"||N[C]>-1&&e.token[C+1]==="}")&&e.lines[C]<3&&i.script.braceNewline===true){if(e.lines[C+1]<3)t.push(K(0));}t.push(K(N[C]));l=N[C];}else if(N[C]===-10){t.push(le);if(e.lexer[C+1]!==S)l=l+1;}}else {if(n[C]===C){t.push(e.token[C]);}else {E.end=n[C];E.start=C;const p=s.beautify(l);q=p.beautify.replace(De,b);t.push(q);C=E.iterator;if(N[C]===-10){t.push(le);}else if(N[C]>-1){t.push(K(N[C]));}p.reset();}}C=C+1;}while(C<$);E.iterator=$-1;return t.join(b)})();return g};var gt={};Nt(gt,{definitions:()=>_e,format:()=>ot,formatSync:()=>qt,language:()=>Xe,options:()=>Ze,parse:()=>jt,parseSync:()=>$t});var _e={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},delimiterTrims:{default:"preserve",description:"How delimiter whitespace trim dashes should handled on Liquid tokens. You should avoid setting this to force in order to avoid stripping whitespace between text content.",lexer:"markup",type:"select",values:[{rule:"preserve",description:"All trim dash occurances of trims intact"},{rule:"strip",description:"Removes all trim dash occurances for tags and output tokens"},{rule:"force",description:"Applies trime dashes to all tags and output tokens"},{rule:"tags",description:"Applies trim dashes to tags tokens only"},{rule:"output",description:"Applies trim dashes to output object tokens only"}]},normalizeSpacing:{default:true,description:"Whether or not to normalize the distributed spacing contained in Liquid tokens.",lexer:"markup",type:"boolean"},lineBreakSeparator:{default:"default",description:"Controls the placement of Liquid tag separator type characters in newline structures.",lexer:"markup",type:"select",values:[{rule:"default",description:"Leave line break character intace"},{rule:"before",description:"Place line break character at the start of expressions"},{rule:"after",description:"Place line break character at the end of expressions"}]},valueForce:{default:"intent",description:"Controls force indentation applied in accordance with the attribute value expressions. This rule is Liquid specific.",lexer:"markup",type:"select",values:[{rule:"wrap",description:"Apply by wrap"},{rule:"newline",description:"Apply when newlines"},{rule:"intent",description:"Apply on either newline or wrap"},{rule:"always",description:"Always apply"},{rule:"never",description:"Never apply"}]},ignoreTagList:{default:[],description:"A lis tof liquid tag to ignore",lexer:"liquid",type:"array"},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeCasing:{default:"preserve",description:"Controls the casing of attribute values and keys.",type:"select",lexer:"markup",values:[{rule:"preserve",description:"All tag attribute keys/values are preserved and left intact."},{rule:"lowercase",description:"All tag attribute keys/values are converted to lowercase"},{rule:"lowercase-name",description:"Only attribute keys are converted to lowercase"},{rule:"lowercase-value",description:"Only attribute values are converted to lowercase"}]},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},ignoreScripts:{default:false,description:"Whether to ignore embedded regions of tags identified to contain JavaScript",lexer:"markup",type:"boolean"},ignoreStyles:{default:false,description:"Whether to ignore embedded regions of tags identified to contain CSS",lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},atRuleSpace:{default:true,description:"Insert a single whitespace character betwen @ rules.",type:"boolean",lexer:"style"},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};function Lt(i){const f=i.source.search(St);const h=i.source.search(Ot);const c=Me(_e);const n=c.length;let e=0;if(h>-1&&i.source.slice(0,h).trimStart()===b)return false;if(f>-1&&(f===0||`"':`.indexOf(i.source.charAt(f-1))<0)){let M=function(){if(g.charAt(o-1)!=="\\")return false;let w=o;do{w=w-1;}while(w>0&&g.charAt(w)==="\\");return (o-w)%2===0};const $=[];const N=f;const g=i.source;const t=g.length;let o=N;let d=0;let W=b;let r=b;let C=b;let q=b;let l=[];let K=[];let J;let p;if(u(g[o],60)){p="<!--";}else if(u(g[o+1],47)){p="//";}else if(u(g[o+1],37)){J=g.indexOf("}",o+1);if(u(g[J-1],37))p=g.slice(o,J+1);}else {p="/*";}do{if(g.slice(o-9,o)==="@prettify")break;o=o+1;}while(o<t);do{if(M()===false){if(W===b){if(u(g[o],34)||u(g[o],39)||u(g[o],96)){W=g.charAt(o);if($.length>0&&$[$.length-1].charAt($[$.length-1].length-1)===":")d=o;}else if(/\s/.test(g.charAt(o))===false&&d===0){d=o;}else if(u(g[o],44)||ge(g.charAt(o))===true&&d>0){r=g.slice(d,o);if($.length>0){if($.length>0&&u(r,58)&&$[$.length-1].indexOf(":")<0){$[$.length-1]=$[$.length-1]+r;d=o;}else if($.length>0&&$[$.length-1].charAt($[$.length-1].length-1)===":"){$[$.length-1]=$[$.length-1]+r;d=0;}else {$.push(r);d=0;}}else {$.push(r);d=0;}}if(p==="<!--"&&g.slice(o-2,o+1)==="-->")break;if(p==="//"&&g.charAt(o)==="\n")break;if(p==="/*"&&g.slice(o-1,o+1)==="*/")break;if(p.charCodeAt(1)===37&&g.slice(o-1,o+1)==="%"&&g.indexOf("endcomment",g.indexOf("{%",J))>0)break}else if(g.charAt(o)===W&&W!=="${"){W=b;}else if(W==="`"&&g.slice(o,o+2)==="${"){W="${";}else if(W==="${"&&g.charAt(o)==="}"){W="`";}}o=o+1;}while(o<t);if(d>0){W=g.slice(d,o+1);if(p==="<!--")W=W.replace(/\s*-+>$/,b);else if(p==="//")W=W.replace(/\s+$/,b);else W=W.replace(/\s*\u002a\/$/,b);$.push(W);}o=$.length;if(o>0){do{o=o-1;if($[o].indexOf(":")>0){K=[$[o].slice(0,$[o].indexOf(":")),$[o].slice($[o].indexOf(":")+1)];}else if(_e[$[o]]!==void 0&&_e[$[o]].type==="boolean"){i.options[$[o]]=true;}if(K.length===2&&_e[K[0]]!==void 0){if(K[1].charAt(K[1].length-1)===K[1].charAt(0)&&(K[1].charAt(0)==='"'||K[1].charAt(0)==="'"||K[1].charAt(0)==="`")){K[1]=K[1].slice(1,K[1].length-1);}if(_e[K[0]].type==="number"&&isNaN(Number(K[1]))===false){i.options[K[0]]=Number(K[1]);}else if(_e[K[0]].type==="boolean"){i.options[K[0]]=K[1]==="true";}else {if(_e[K[0]].values!==void 0){l=Me(_e[K[0]].values);d=l.length;do{d=d-1;if(l[d]===K[1]){i.options[K[0]]=K[1];break}}while(d>0)}else {if(K[0]==="language"){C=K[1];}else if(K[0]==="lexer"){q=K[1];}i.options[K[0]]=K[1];}}}}while(o>0);if(q===b&&C!==b)q=tt(C);}}if(i.options.lexer==="script"){if(i.options.script.styleGuide!==void 0){switch(i.options.script.styleGuide){case"airbnb":i.options.wrap=80;i.options.indentChar=" ";i.options.indentSize=2;i.options.preserveLine=1;i.options.script.correct=true;i.options.script.quoteConvert="single";i.options.script.variableList="each";i.options.script.endComma="always";i.options.script.bracePadding=true;break;case"crockford":i.options.indentChar=" ";i.options.indentSize=4;i.options.script.correct=true;i.options.script.bracePadding=false;i.options.script.elseNewline=false;i.options.script.endComma="never";i.options.script.noCaseIndent=true;i.options.script.functionSpace=true;i.options.script.variableList="each";i.options.script.vertical=false;break;case"google":i.options.wrap=-1;i.options.indentChar=" ";i.options.indentSize=4;i.options.preserveLine=1;i.options.script.correct=true;i.options.script.quoteConvert="single";i.options.script.vertical=false;break;case"jquery":i.options.wrap=80;i.options.indentChar="	";i.options.indentSize=1;i.options.script.correct=true;i.options.script.bracePadding=true;i.options.script.quoteConvert="double";i.options.script.variableList="each";break;case"jslint":i.options.indentChar=" ";i.options.indentSize=4;i.options.script.correct=true;i.options.script.bracePadding=false;i.options.script.elseNewline=false;i.options.script.endComma="never";i.options.script.noCaseIndent=true;i.options.script.functionSpace=true;i.options.script.variableList="each";i.options.script.vertical=false;break;case"standard":i.options.wrap=0;i.options.indentChar=" ";i.options.indentSize=2;i.options.endNewline=false;i.options.preserveLine=1;i.options.script.correct=true;i.options.script.noSemicolon=true;i.options.script.endComma="never";i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceAllman=false;i.options.script.quoteConvert="single";i.options.script.functionSpace=true;i.options.script.ternaryLine=false;i.options.script.variableList="each";i.options.script.vertical=false;break;case"yandex":i.options.script.correct=true;i.options.script.bracePadding=false;i.options.script.quoteConvert="single";i.options.script.variableList="each";i.options.script.vertical=false;break}}if(i.options.script.braceStyle!==void 0){switch(i.options.script.braceStyle){case"collapse":i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceAllman=false;i.options.script.objectIndent="indent";i.options.script.neverFlatten=true;break;case"collapse-preserve-inline":i.options.script.braceNewline=false;i.options.script.bracePadding=true;i.options.script.braceAllman=false;i.options.script.objectIndent="indent";i.options.script.neverFlatten=false;break;case"expand":i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceAllman=true;i.options.script.objectIndent="indent";i.options.script.neverFlatten=true;break}}if(i.options.language==="json")i.options.wrap=0;}do{if(i.options[Me[e]]!==void 0){_e[Me[e]].lexer.length;}e=e+1;}while(e<n)}function Bt(i){const{source:f,options:h}=i;const{lexer:c,language:n}=h;if(typeof i.lexers[c]==="function"){i.lexers[c](`${f} `);}else {s.error=`Specified lexer, ${c}, is not a function.`;}let e=0;let S=0;const P=Me(s.data);const $=P.length;do{S=e+1;do{if(s.data[P[e]].length!==s.data[P[S]].length){s.error=`"${P[e]}" array is of different length than "${P[S]}"`;break}S=S+1;}while(S<$);e=e+1;}while(e<$-1);if(s.data.begin.length>0){if(c==="script"&&(n==="json"&&h.json.objectSort===true||h.language!=="json"&&h.script.objectSort===true)){s.sortCorrect(0,s.count+1);}else if(c==="style"&&h.style.sortProperties===true){s.sortCorrect(0,s.count+1);}}return s.data}function At(i){const f=Date.now();const h={language:i,chars:-1};return c=>{h.chars=c;h.size=mt(c);h.time=(Date.now()-f).toFixed(1);return h}}function Et(i){const{languageName:f}=Le(i.options.language);const h=i.options.crlf===true?"\r\n":"\n";const c=i.source.match(/\n/g);const n=At(f);let e=b;if(c===null){if(i.options.endNewline)e=h;i.stats=n(e.length);}else {e=c[0].length>i.options.preserveLine?$e(i.options.preserveLine,h):$e(c[0].length,h);if(i.options.endNewline)e+=h;i.stats=n(e.length);}return e}function nt(i){i.data=s.full();if(!/\S/.test(i.source))return Et(i);if(i.options.language==="text"){i.options.language="text";i.options.languageName="Plain Text";i.options.lexer="markup";}else if(i.options.lexer==="auto"&&i.options.language!=="text"){i.options.lexer=tt(i.options.language);i.options.languageName=pt(i.options.language);}else if(i.options.language==="auto"||i.options.language===void 0){const{lexer:e,language:S,languageName:P}=Xe(i.source);if(S==="unknown"){console.warn("Prettify: unknown and/or unsupport language");console.info("Prettify: define a support language (fallback is HTML)");}i.options.lexer=e;i.options.language=S;i.options.languageName=P;}else {const{lexer:e,language:S,languageName:P}=Le(i.options.language);if(S==="unknown"){console.warn(`Prettify: unsupport ${i.options.language}`);console.info("Prettify: language is not supported (fallback is HTML)");}i.options.lexer=e;i.options.language=S;i.options.languageName=P;}const f=At(i.options.languageName);const h=i.mode;const c=i.options.crlf===true?"\r\n":"\n";let n=i.source;if(Lt(i)===false){i.stats=f(n.length);return n}i.data=Bt(i);if(h==="parse"){i.stats=f(n.length);return s.data}n=i.beautify[i.options.lexer](i.options);n=i.options.endNewline===true?n.replace(/\s*$/,c):n.replace(/\s+$/,b);i.stats=f(n.length);i.end=0;i.start=0;return n}ot.before=function(i){E.hooks.before.push(i);};ot.after=function(i){E.hooks.after.push(i);};Ze.listen=function(i){E.hooks.rules.push(i);};it(ot,"stats",{get(){return E.stats}});it(jt,"stats",{get(){return E.stats}});it(Ze,"rules",{get(){return E.options}});function qt(i,f){E.source=i;if(typeof f==="object")E.options=Ze(f);if(E.hooks.before.length>0){for(const c of E.hooks.before){if(c(E.options,i)===false)return i}}const h=nt(E);if(E.hooks.after.length>0){for(const c of E.hooks.after){if(c.call(s.data,h,E.options)===false)return i}}if(s.error.length)throw new Error(s.error);return h}function ot(i,f){E.source=i;if(typeof f==="object")E.options=Ze(f);if(E.hooks.before.length>0){for(const c of E.hooks.before){if(c(E.options,i)===false)return i}}const h=nt(E);if(E.hooks.after.length>0){for(const c of E.hooks.after){if(c.call(s.data,h,E.options)===false)return i}}return new Promise((c,n)=>{if(s.error.length)return n(s.error);return c(h)})}function Ze(i){for(const f of Me(i)){if(f in _e&&_e[f].lexer==="auto"){E.options[f]=i[f];}else if(f==="liquid"){Be(E.options.liquid,i.liquid);}else if(f==="markup"){Be(E.options.markup,i.markup);}else if(f==="script"){Be(E.options.script,i.script);}else if(f==="style"){Be(E.options.style,i.style);}else if(f==="json"){Be(E.options.json,i.json);}else if(f==="grammar"){de.extend(i.grammar);}else if(f in E.options){E.options[f]=i[f];}}if(E.hooks.rules.length>0){for(const f of E.hooks.rules)f(E.options);}return E.options}function jt(i,f){E.source=i;E.mode="parse";if(typeof f==="object")E.options=Ze(f);const h=nt(E);return new Promise((c,n)=>{if(s.error.length)return n(s.error);return c(h)})}function $t(i,f){E.source=i;E.mode="parse";if(typeof f==="object")E.options=Ze(f);const h=nt(E);if(s.error.length)throw new Error(s.error);return h}

export { gt as default };
